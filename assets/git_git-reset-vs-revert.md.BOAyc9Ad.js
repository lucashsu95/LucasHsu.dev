import{_ as A,c,b as k,w as s,au as r,m as e,J as i,a,V as t,E as n,o as l}from"./chunks/framework.C9sE8QFS.js";const R=JSON.parse('{"title":"Git Revert vs Reset","description":"","frontmatter":{"outline":"deep","head":[["meta",{"name":"author","content":"è¨±æ©ç¶¸"}],["meta",{"name":"keywords","content":"git revert,git reset,æ’¤éŠ·æäº¤,å›é€€ç‰ˆæœ¬,å®‰å…¨å›é€€"}],["meta",{"property":"og:title","content":"Git Revert vs Reset å®‰å…¨å›é€€æŒ‡å—"}],["meta",{"property":"og:description","content":"è©³è§£ git revert èˆ‡ reset å·®ç•°,åŒ…å«ä½¿ç”¨æƒ…å¢ƒã€å®‰å…¨æ€§æ¯”è¼ƒã€æ‰¹é‡å›é€€èˆ‡å¸¸è¦‹å•é¡Œæ’è§£"}],["meta",{"property":"og:type","content":"article"}],["meta",{"property":"og:image","content":"https://lucashsu95.github.io/LucasHsu.dev/images/git-cover.jpg"}]]},"headers":[],"relativePath":"git/git-reset-vs-revert.md","filePath":"git/git-reset-vs-revert.md","lastUpdated":1767796592000}'),g={name:"git/git-reset-vs-revert.md"},D=t('<h1 id="git-revert-vs-reset" tabindex="-1">Git Revert vs Reset <a class="header-anchor" href="#git-revert-vs-reset" aria-label="Permalink to &quot;Git Revert vs Reset&quot;">â€‹</a></h1><blockquote><p>ğŸ“ TL;DRï¼š<code>git revert</code> ç”Ÿæˆåå‘æäº¤ï¼Œä¿ç•™æ­·å²ï¼Œé©åˆå·²æ¨é€çš„æäº¤ï¼ˆæº«æŸ”æ¨¡å¼ï¼‰ï¼›<code>git reset</code> é‡å¯«æ­·å²ï¼Œé©åˆæœ¬åœ°æœªæ¨é€çš„æäº¤ï¼ˆç‹ å¿ƒæ¨¡å¼ï¼‰ã€‚æ‰¹é‡å›é€€ç”¨ <code>revert &lt;old&gt;..&lt;new&gt;</code>ã€‚å›é€€å¾Œè¨˜å¾— <code>push</code>ã€‚è¦åæ‚”æ™‚ï¼Œå…ˆæ‰¾æº«æŸ”çš„ revertï¼ŒçœŸçš„æ²’è¾¦æ³•å†è€ƒæ…®ç‹ å¿ƒçš„ resetï¼</p></blockquote><h2 id="å‰ç½®çŸ¥è­˜" tabindex="-1">å‰ç½®çŸ¥è­˜ <a class="header-anchor" href="#å‰ç½®çŸ¥è­˜" aria-label="Permalink to &quot;å‰ç½®çŸ¥è­˜&quot;">â€‹</a></h2><ul><li>äº†è§£ Git æäº¤æ­·å²çš„æ¦‚å¿µ</li><li>æœƒä½¿ç”¨ git log æŸ¥çœ‹æäº¤è¨˜éŒ„</li><li>çŸ¥é“ä»€éº¼æ˜¯ commitã€HEAD</li></ul><h2 id="ç‚ºä»€éº¼éœ€è¦å›é€€" tabindex="-1">ç‚ºä»€éº¼éœ€è¦å›é€€ï¼Ÿ <a class="header-anchor" href="#ç‚ºä»€éº¼éœ€è¦å›é€€" aria-label="Permalink to &quot;ç‚ºä»€éº¼éœ€è¦å›é€€ï¼Ÿ&quot;">â€‹</a></h2><p>å¸¸è¦‹æƒ…å¢ƒï¼ˆéƒ½æ˜¯è¡€æ·šå²ï¼‰ï¼š</p><ul><li>éŒ¯èª¤çš„åŠŸèƒ½å·²æ¨é€åˆ°é ç«¯ï¼ˆç³Ÿç³•ï¼ï¼‰</li><li>æŸå€‹æäº¤å°è‡´ bugï¼ˆèª°å¯«çš„ï¼...æ˜¯æˆ‘ï¼‰</li><li>æƒ³æš«æ™‚ç§»é™¤æŸäº›æ”¹å‹•ä»¥ä¾¿æ¸¬è©¦ï¼ˆå…ˆæ‹¿æ‰çœ‹çœ‹ï¼‰</li></ul><p><strong>éŒ¯èª¤åšæ³•</strong>ï¼šç›´æ¥åˆªé™¤ç¨‹å¼ç¢¼å†æäº¤ï¼ˆç„¡æ³•è¿½æº¯ï¼Œè·³é€²ç«å‘ï¼‰<br><strong>æ­£ç¢ºåšæ³•</strong>ï¼šç”¨ Git å·¥å…·å®‰å…¨å›é€€ï¼ˆå„ªé›…åœ°å¾Œé€€ ï¼‰</p><h2 id="revert-ç”Ÿæˆåå‘æäº¤" tabindex="-1">Revertï¼šç”Ÿæˆåå‘æäº¤ <a class="header-anchor" href="#revert-ç”Ÿæˆåå‘æäº¤" aria-label="Permalink to &quot;Revertï¼šç”Ÿæˆåå‘æäº¤&quot;">â€‹</a></h2><h3 id="é‹ä½œåŸç†" tabindex="-1">é‹ä½œåŸç† <a class="header-anchor" href="#é‹ä½œåŸç†" aria-label="Permalink to &quot;é‹ä½œåŸç†&quot;">â€‹</a></h3><p><code>revert</code> æœƒå»ºç«‹ä¸€å€‹<strong>æ–°çš„æäº¤</strong>ï¼Œå…§å®¹æ˜¯ã€Œæ’¤éŠ·ã€æŒ‡å®šæäº¤çš„æ”¹å‹•ã€‚å°±åƒæ‹é›»å½±çš„å€’å¸¶é¡é ­ï¼Œä½†åŸç‰‡é‚„åœ¨</p>',11),y=t(`<p>æ­·å²è¨˜éŒ„ï¼š<code>A B C Revert B</code>ï¼ˆB ä»å­˜åœ¨ï¼Œåªæ˜¯è¢«åå‘äº†ï¼‰</p><h3 id="åŸºæœ¬ç”¨æ³•" tabindex="-1">åŸºæœ¬ç”¨æ³• <a class="header-anchor" href="#åŸºæœ¬ç”¨æ³•" aria-label="Permalink to &quot;åŸºæœ¬ç”¨æ³•&quot;">â€‹</a></h3><div class="language-shell vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">shell</span><pre class="shiki shiki-themes vitesse-light vitesse-dark vp-code"><code><span class="line"><span style="--shiki-light:#A0ADA0;--shiki-dark:#758575DD;"># å›é€€å–®å€‹æäº¤ï¼ˆå–æ¶ˆé€™å€‹éŒ¯èª¤ï¼‰</span></span>
<span class="line"><span style="--shiki-light:#59873A;--shiki-dark:#80A665;">git</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> revert</span><span style="--shiki-light:#AB5959;--shiki-dark:#CB7676;"> &lt;</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;">commit-i</span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE;">d</span><span style="--shiki-light:#AB5959;--shiki-dark:#CB7676;">&gt;</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#A0ADA0;--shiki-dark:#758575DD;"># å›é€€æœ€è¿‘ä¸€æ¬¡æäº¤ï¼ˆå‰›å‰›é‚£å€‹ä¸è¦äº†ï¼‰</span></span>
<span class="line"><span style="--shiki-light:#59873A;--shiki-dark:#80A665;">git</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> revert</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> HEAD</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#A0ADA0;--shiki-dark:#758575DD;"># å›é€€ä½†ä¸è‡ªå‹•æäº¤ï¼ˆæˆ‘æƒ³è‡ªå·±å¯«è¨Šæ¯ï¼‰</span></span>
<span class="line"><span style="--shiki-light:#59873A;--shiki-dark:#80A665;">git</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> revert</span><span style="--shiki-light:#A65E2B;--shiki-dark:#C99076;"> --no-commit</span><span style="--shiki-light:#AB5959;--shiki-dark:#CB7676;"> &lt;</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;">commit-i</span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE;">d</span><span style="--shiki-light:#AB5959;--shiki-dark:#CB7676;">&gt;</span></span></code></pre></div><h3 id="æ‰¹é‡å›é€€" tabindex="-1">æ‰¹é‡å›é€€ <a class="header-anchor" href="#æ‰¹é‡å›é€€" aria-label="Permalink to &quot;æ‰¹é‡å›é€€&quot;">â€‹</a></h3><div class="language-shell vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">shell</span><pre class="shiki shiki-themes vitesse-light vitesse-dark vp-code"><code><span class="line"><span style="--shiki-light:#A0ADA0;--shiki-dark:#758575DD;"># å›é€€å¾ old_commit åˆ° new_commit ä¹‹é–“çš„æ‰€æœ‰æäº¤</span></span>
<span class="line"><span style="--shiki-light:#59873A;--shiki-dark:#80A665;">git</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> revert</span><span style="--shiki-light:#A65E2B;--shiki-dark:#C99076;"> --no-commit</span><span style="--shiki-light:#AB5959;--shiki-dark:#CB7676;"> &lt;</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;">old_commi</span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE;">t</span><span style="--shiki-light:#AB5959;--shiki-dark:#CB7676;">&gt;</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;">..</span><span style="--shiki-light:#AB5959;--shiki-dark:#CB7676;">&lt;</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;">new_commi</span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE;">t</span><span style="--shiki-light:#AB5959;--shiki-dark:#CB7676;">&gt;</span></span>
<span class="line"><span style="--shiki-light:#59873A;--shiki-dark:#80A665;">git</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> commit</span><span style="--shiki-light:#A65E2B;--shiki-dark:#C99076;"> -m</span><span style="--shiki-light:#B5695977;--shiki-dark:#C98A7D77;"> &quot;</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;">Revert changes from X to Y</span><span style="--shiki-light:#B5695977;--shiki-dark:#C98A7D77;">&quot;</span></span>
<span class="line"><span style="--shiki-light:#59873A;--shiki-dark:#80A665;">git</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> push</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> origin</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> main</span></span></code></pre></div><p>ç¯„ä¾‹ï¼š</p><div class="language-shell vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">shell</span><pre class="shiki shiki-themes vitesse-light vitesse-dark vp-code"><code><span class="line"><span style="--shiki-light:#A0ADA0;--shiki-dark:#758575DD;"># å‡è¨­æœ‰æäº¤ A  B  C  D  E</span></span>
<span class="line"><span style="--shiki-light:#A0ADA0;--shiki-dark:#758575DD;"># æƒ³å›é€€ Cã€Dã€Eï¼ˆé€™ä¸‰å€‹éƒ½æœ‰å•é¡Œï¼‰</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#59873A;--shiki-dark:#80A665;">git</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> log</span><span style="--shiki-light:#A65E2B;--shiki-dark:#C99076;"> --oneline</span><span style="--shiki-light:#A65E2B;--shiki-dark:#C99076;"> -5</span></span>
<span class="line"><span style="--shiki-light:#A0ADA0;--shiki-dark:#758575DD;"># e5f6g7h (HEAD) E</span></span>
<span class="line"><span style="--shiki-light:#A0ADA0;--shiki-dark:#758575DD;"># d4e5f6g D</span></span>
<span class="line"><span style="--shiki-light:#A0ADA0;--shiki-dark:#758575DD;"># c3d4e5f C</span></span>
<span class="line"><span style="--shiki-light:#A0ADA0;--shiki-dark:#758575DD;"># b2c3d4e B</span></span>
<span class="line"><span style="--shiki-light:#A0ADA0;--shiki-dark:#758575DD;"># a1b2c3d A</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#59873A;--shiki-dark:#80A665;">git</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> revert</span><span style="--shiki-light:#A65E2B;--shiki-dark:#C99076;"> --no-commit</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> b2c3d4e..e5f6g7h</span></span>
<span class="line"><span style="--shiki-light:#59873A;--shiki-dark:#80A665;">git</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> commit</span><span style="--shiki-light:#A65E2B;--shiki-dark:#C99076;"> -m</span><span style="--shiki-light:#B5695977;--shiki-dark:#C98A7D77;"> &quot;</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;">Revert changes C to E</span><span style="--shiki-light:#B5695977;--shiki-dark:#C98A7D77;">&quot;</span></span></code></pre></div><h2 id="reset-é‡å¯«æ­·å²" tabindex="-1">Resetï¼šé‡å¯«æ­·å² <a class="header-anchor" href="#reset-é‡å¯«æ­·å²" aria-label="Permalink to &quot;Resetï¼šé‡å¯«æ­·å²&quot;">â€‹</a></h2><h3 id="é‹ä½œåŸç†-1" tabindex="-1">é‹ä½œåŸç† <a class="header-anchor" href="#é‹ä½œåŸç†-1" aria-label="Permalink to &quot;é‹ä½œåŸç†&quot;">â€‹</a></h3><p><code>reset</code> æœƒ<strong>ç§»å‹• HEAD æŒ‡é‡</strong>ï¼Œæ”¹è®Šæäº¤æ­·å²ã€‚å°±åƒç”¨æ©¡çš®æ“¦æŠŠæ­·å²æ“¦æ‰ï¼ˆå±éšªï¼ï¼‰</p>`,10),m=t(`<p>æ­·å²è¨˜éŒ„ï¼š<code>A B</code>ï¼ˆC è¢«å®Œå…¨ç§»é™¤ï¼Œæ¶ˆå¤±äº†ï¼‰</p><h3 id="ä¸‰ç¨®æ¨¡å¼" tabindex="-1">ä¸‰ç¨®æ¨¡å¼ <a class="header-anchor" href="#ä¸‰ç¨®æ¨¡å¼" aria-label="Permalink to &quot;ä¸‰ç¨®æ¨¡å¼&quot;">â€‹</a></h3><table><thead><tr><th>æ¨¡å¼</th><th>å½±éŸ¿ç¯„åœ</th><th>ä½¿ç”¨æƒ…å¢ƒ</th></tr></thead><tbody><tr><td><code>--soft</code></td><td>åªç§»å‹• HEAD</td><td>ä¿ç•™æ”¹å‹•åœ¨æš«å­˜å€ï¼Œå¯é‡æ–°æäº¤</td></tr><tr><td><code>--mixed</code>ï¼ˆé è¨­ï¼‰</td><td>HEAD + æš«å­˜å€</td><td>ä¿ç•™æ”¹å‹•åœ¨å·¥ä½œå€ï¼Œéœ€é‡æ–° add</td></tr><tr><td><code>--hard</code></td><td>HEAD + æš«å­˜å€ + å·¥ä½œå€</td><td><strong>å®Œå…¨åˆªé™¤æ”¹å‹•</strong>ï¼Œè¬¹æ…ä½¿ç”¨ï¼</td></tr></tbody></table><h3 id="åŸºæœ¬ç”¨æ³•-1" tabindex="-1">åŸºæœ¬ç”¨æ³• <a class="header-anchor" href="#åŸºæœ¬ç”¨æ³•-1" aria-label="Permalink to &quot;åŸºæœ¬ç”¨æ³•&quot;">â€‹</a></h3><div class="language-shell vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">shell</span><pre class="shiki shiki-themes vitesse-light vitesse-dark vp-code"><code><span class="line"><span style="--shiki-light:#A0ADA0;--shiki-dark:#758575DD;"># å›é€€åˆ°ä¸Šä¸€å€‹æäº¤ï¼ˆä¿ç•™æ”¹å‹•åœ¨æš«å­˜å€ï¼Œæº«æŸ”æ¨¡å¼ï¼‰</span></span>
<span class="line"><span style="--shiki-light:#59873A;--shiki-dark:#80A665;">git</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> reset</span><span style="--shiki-light:#A65E2B;--shiki-dark:#C99076;"> --soft</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> HEAD~1</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#A0ADA0;--shiki-dark:#758575DD;"># å›é€€åˆ°ä¸Šä¸€å€‹æäº¤ï¼ˆä¿ç•™æ”¹å‹•åœ¨å·¥ä½œå€ï¼Œæ™®é€šæ¨¡å¼ï¼‰</span></span>
<span class="line"><span style="--shiki-light:#59873A;--shiki-dark:#80A665;">git</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> reset</span><span style="--shiki-light:#A65E2B;--shiki-dark:#C99076;"> --mixed</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> HEAD~1</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#A0ADA0;--shiki-dark:#758575DD;"># å›é€€ä¸¦å®Œå…¨åˆªé™¤æ”¹å‹•ï¼ˆæ ¸å½ˆæ¨¡å¼ï¼ï¼‰</span></span>
<span class="line"><span style="--shiki-light:#59873A;--shiki-dark:#80A665;">git</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> reset</span><span style="--shiki-light:#A65E2B;--shiki-dark:#C99076;"> --hard</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> HEAD~1</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#A0ADA0;--shiki-dark:#758575DD;"># å›é€€åˆ°æŒ‡å®šæäº¤</span></span>
<span class="line"><span style="--shiki-light:#59873A;--shiki-dark:#80A665;">git</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> reset</span><span style="--shiki-light:#A65E2B;--shiki-dark:#C99076;"> --hard</span><span style="--shiki-light:#AB5959;--shiki-dark:#CB7676;"> &lt;</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;">commit-i</span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE;">d</span><span style="--shiki-light:#AB5959;--shiki-dark:#CB7676;">&gt;</span></span></code></pre></div><div class="danger custom-block"><p class="custom-block-title">å±éšªï¼æ ¸å½ˆæŒ‰éˆ•ï¼</p><p><code>--hard</code> æœƒ<strong>æ°¸ä¹…åˆªé™¤</strong>æœªæäº¤çš„æ”¹å‹•ï¼<br> ä½¿ç”¨å‰è«‹ç¢ºèªï¼š</p><ol><li>å·²å‚™ä»½é‡è¦ç¨‹å¼ç¢¼ï¼ˆå­˜å¥½äº†å—ï¼Ÿï¼‰</li><li>ç¢ºå®šä¸éœ€è¦é€™äº›æ”¹å‹•ï¼ˆçœŸçš„ä¸è¦äº†ï¼Ÿï¼‰</li><li>è©²åˆ†æ”¯ç„¡äººä½¿ç”¨ï¼ˆåªæœ‰æˆ‘åœ¨ç”¨å§ï¼Ÿï¼‰</li></ol><p>ä¸ç„¶å°±ç­‰è‘—å¾Œæ‚”è«åŠ</p></div><h2 id="revert-vs-reset-æ¯”è¼ƒ" tabindex="-1">Revert vs Reset æ¯”è¼ƒ <a class="header-anchor" href="#revert-vs-reset-æ¯”è¼ƒ" aria-label="Permalink to &quot;Revert vs Reset æ¯”è¼ƒ&quot;">â€‹</a></h2><table><thead><tr><th>ç‰¹æ€§</th><th>Revert</th><th>Reset</th></tr></thead><tbody><tr><td>æ­·å²è¨˜éŒ„</td><td>ä¿ç•™ï¼ˆæ–°å¢åå‘æäº¤ï¼‰</td><td>é‡å¯«ï¼ˆåˆªé™¤æäº¤ï¼‰</td></tr><tr><td>å®‰å…¨æ€§</td><td>é«˜ï¼ˆæº«æŸ”æ¨¡å¼ï¼‰</td><td>ä½ï¼ˆç‹ å¿ƒæ¨¡å¼ï¼‰</td></tr><tr><td>å·²æ¨é€çš„æäº¤</td><td>æ¨è–¦</td><td>é¿å…</td></tr><tr><td>åœ˜éšŠå”ä½œ</td><td>å®‰å…¨</td><td>å±éšª</td></tr><tr><td>è¿½è¹¤æ€§</td><td>å¯è¿½æº¯</td><td>ç„¡æ³•è¿½æº¯</td></tr></tbody></table><h3 id="æ±ºç­–æ¨¹" tabindex="-1">æ±ºç­–æ¨¹ <a class="header-anchor" href="#æ±ºç­–æ¨¹" aria-label="Permalink to &quot;æ±ºç­–æ¨¹&quot;">â€‹</a></h3>`,9),C=t(`<h2 id="å¯¦æˆ°ç·´ç¿’" tabindex="-1">å¯¦æˆ°ç·´ç¿’ <a class="header-anchor" href="#å¯¦æˆ°ç·´ç¿’" aria-label="Permalink to &quot;å¯¦æˆ°ç·´ç¿’&quot;">â€‹</a></h2><h3 id="ç·´ç¿’-1-ç°¡å–®" tabindex="-1">ç·´ç¿’ 1ï¼ˆç°¡å–®ï¼‰ <a class="header-anchor" href="#ç·´ç¿’-1-ç°¡å–®" aria-label="Permalink to &quot;ç·´ç¿’ 1ï¼ˆç°¡å–®ï¼‰&quot;">â€‹</a></h3><p>ä½ åœ¨æœ¬åœ°åšäº†ä¸€å€‹éŒ¯èª¤æäº¤ï¼ˆæœªæ¨é€ï¼‰ï¼Œæƒ³å›é€€ä½†ä¿ç•™ç¨‹å¼ç¢¼ä»¥ä¾¿ä¿®æ”¹ã€‚</p><details class="details custom-block"><summary>åƒè€ƒç­”æ¡ˆ</summary><div class="language-shell vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">shell</span><pre class="shiki shiki-themes vitesse-light vitesse-dark vp-code"><code><span class="line"><span style="--shiki-light:#A0ADA0;--shiki-dark:#758575DD;"># æŸ¥çœ‹æäº¤æ­·å²</span></span>
<span class="line"><span style="--shiki-light:#59873A;--shiki-dark:#80A665;">git</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> log</span><span style="--shiki-light:#A65E2B;--shiki-dark:#C99076;"> --oneline</span><span style="--shiki-light:#A65E2B;--shiki-dark:#C99076;"> -3</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#A0ADA0;--shiki-dark:#758575DD;"># å›é€€åˆ°ä¸Šä¸€å€‹æäº¤ï¼Œæ”¹å‹•ä¿ç•™åœ¨å·¥ä½œå€ï¼ˆé‚„èƒ½æ”¹ï¼‰</span></span>
<span class="line"><span style="--shiki-light:#59873A;--shiki-dark:#80A665;">git</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> reset</span><span style="--shiki-light:#A65E2B;--shiki-dark:#C99076;"> --mixed</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> HEAD~1</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#A0ADA0;--shiki-dark:#758575DD;"># æˆ–ç”¨ --soft ä¿ç•™åœ¨æš«å­˜å€ï¼ˆå·²ç¶“ add å¥½äº†ï¼‰</span></span>
<span class="line"><span style="--shiki-light:#59873A;--shiki-dark:#80A665;">git</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> reset</span><span style="--shiki-light:#A65E2B;--shiki-dark:#C99076;"> --soft</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> HEAD~1</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#A0ADA0;--shiki-dark:#758575DD;"># ä¿®æ”¹å¾Œé‡æ–°æäº¤</span></span>
<span class="line"><span style="--shiki-light:#59873A;--shiki-dark:#80A665;">git</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> add</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> .</span></span>
<span class="line"><span style="--shiki-light:#59873A;--shiki-dark:#80A665;">git</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> commit</span><span style="--shiki-light:#A65E2B;--shiki-dark:#C99076;"> -m</span><span style="--shiki-light:#B5695977;--shiki-dark:#C98A7D77;"> &quot;</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;">fix: correct implementation</span><span style="--shiki-light:#B5695977;--shiki-dark:#C98A7D77;">&quot;</span></span></code></pre></div></details><h3 id="ç·´ç¿’-2-ç°¡å–®" tabindex="-1">ç·´ç¿’ 2ï¼ˆç°¡å–®ï¼‰ <a class="header-anchor" href="#ç·´ç¿’-2-ç°¡å–®" aria-label="Permalink to &quot;ç·´ç¿’ 2ï¼ˆç°¡å–®ï¼‰&quot;">â€‹</a></h3><p>å·²æ¨é€çš„æäº¤æœ‰å•é¡Œï¼Œéœ€è¦å®‰å…¨å›é€€ã€‚</p><details class="details custom-block"><summary>åƒè€ƒç­”æ¡ˆ</summary><div class="language-shell vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">shell</span><pre class="shiki shiki-themes vitesse-light vitesse-dark vp-code"><code><span class="line"><span style="--shiki-light:#A0ADA0;--shiki-dark:#758575DD;"># æŸ¥çœ‹è¦å›é€€çš„æäº¤</span></span>
<span class="line"><span style="--shiki-light:#59873A;--shiki-dark:#80A665;">git</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> log</span><span style="--shiki-light:#A65E2B;--shiki-dark:#C99076;"> --oneline</span><span style="--shiki-light:#A65E2B;--shiki-dark:#C99076;"> -5</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#A0ADA0;--shiki-dark:#758575DD;"># å‡è¨­è¦å›é€€ abc1234</span></span>
<span class="line"><span style="--shiki-light:#59873A;--shiki-dark:#80A665;">git</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> revert</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> abc1234</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#A0ADA0;--shiki-dark:#758575DD;"># ç·¨è¼¯å™¨æœƒæ‰“é–‹ï¼Œå¡«å¯«å›é€€åŸå› </span></span>
<span class="line"><span style="--shiki-light:#A0ADA0;--shiki-dark:#758575DD;"># å„²å­˜å¾Œè‡ªå‹•å»ºç«‹åå‘æäº¤</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#A0ADA0;--shiki-dark:#758575DD;"># æ¨é€åˆ°é ç«¯</span></span>
<span class="line"><span style="--shiki-light:#59873A;--shiki-dark:#80A665;">git</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> push</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> origin</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> main</span></span></code></pre></div></details><h3 id="ç·´ç¿’-3-ä¸­ç­‰" tabindex="-1">ç·´ç¿’ 3ï¼ˆä¸­ç­‰ï¼‰ <a class="header-anchor" href="#ç·´ç¿’-3-ä¸­ç­‰" aria-label="Permalink to &quot;ç·´ç¿’ 3ï¼ˆä¸­ç­‰ï¼‰&quot;">â€‹</a></h3><p>éœ€è¦å›é€€æœ€è¿‘ 3 å€‹æäº¤ï¼ˆå·²æ¨é€ï¼‰ï¼Œä½†æƒ³åˆä½µæˆä¸€å€‹ revert æäº¤ã€‚</p><details class="details custom-block"><summary>åƒè€ƒç­”æ¡ˆèˆ‡æ€è·¯</summary><div class="language-shell vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">shell</span><pre class="shiki shiki-themes vitesse-light vitesse-dark vp-code"><code><span class="line"><span style="--shiki-light:#A0ADA0;--shiki-dark:#758575DD;"># 1. æŸ¥çœ‹æäº¤æ­·å²</span></span>
<span class="line"><span style="--shiki-light:#59873A;--shiki-dark:#80A665;">git</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> log</span><span style="--shiki-light:#A65E2B;--shiki-dark:#C99076;"> --oneline</span><span style="--shiki-light:#A65E2B;--shiki-dark:#C99076;"> -5</span></span>
<span class="line"><span style="--shiki-light:#A0ADA0;--shiki-dark:#758575DD;"># e5f6g7h (HEAD) third commit</span></span>
<span class="line"><span style="--shiki-light:#A0ADA0;--shiki-dark:#758575DD;"># d4e5f6g second commit</span></span>
<span class="line"><span style="--shiki-light:#A0ADA0;--shiki-dark:#758575DD;"># c3d4e5f first commit</span></span>
<span class="line"><span style="--shiki-light:#A0ADA0;--shiki-dark:#758575DD;"># b2c3d4e good commit</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#A0ADA0;--shiki-dark:#758575DD;"># 2. æ‰¹é‡å›é€€ï¼ˆä¸è‡ªå‹•æäº¤ï¼‰</span></span>
<span class="line"><span style="--shiki-light:#59873A;--shiki-dark:#80A665;">git</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> revert</span><span style="--shiki-light:#A65E2B;--shiki-dark:#C99076;"> --no-commit</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> b2c3d4e..e5f6g7h</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#A0ADA0;--shiki-dark:#758575DD;"># 3. æª¢è¦–æš«å­˜å€</span></span>
<span class="line"><span style="--shiki-light:#59873A;--shiki-dark:#80A665;">git</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> status</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#A0ADA0;--shiki-dark:#758575DD;"># 4. çµ±ä¸€æäº¤</span></span>
<span class="line"><span style="--shiki-light:#59873A;--shiki-dark:#80A665;">git</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> commit</span><span style="--shiki-light:#A65E2B;--shiki-dark:#C99076;"> -m</span><span style="--shiki-light:#B5695977;--shiki-dark:#C98A7D77;"> &quot;</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;">Revert: rollback last 3 commits due to bug</span><span style="--shiki-light:#B5695977;--shiki-dark:#C98A7D77;">&quot;</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#A0ADA0;--shiki-dark:#758575DD;"># 5. æ¨é€</span></span>
<span class="line"><span style="--shiki-light:#59873A;--shiki-dark:#80A665;">git</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> push</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> origin</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> main</span></span></code></pre></div><p><strong>æ€è·¯ï¼š</strong></p><ul><li><code>--no-commit</code> è®“å¤šå€‹ revert åˆä½µæˆä¸€å€‹æäº¤</li><li>ç¯„åœç”¨ <code>&lt;old&gt;..&lt;new&gt;</code> æŒ‡å®šï¼ˆä¸åŒ…å« oldï¼‰</li><li>çµ±ä¸€çš„æäº¤è¨Šæ¯æ›´æ¸…æ¥šï¼ˆä¸€ç›®äº†ç„¶ï¼‰</li></ul></details><hr><h2 id="faq" tabindex="-1">FAQ <a class="header-anchor" href="#faq" aria-label="Permalink to &quot;FAQ&quot;">â€‹</a></h2><h3 id="q-èª¤ç”¨-reset-hard-åˆªé™¤äº†æ”¹å‹•-èƒ½æ•‘å›å—" tabindex="-1">Q: èª¤ç”¨ reset --hard åˆªé™¤äº†æ”¹å‹•ï¼Œèƒ½æ•‘å›å—ï¼Ÿ <a class="header-anchor" href="#q-èª¤ç”¨-reset-hard-åˆªé™¤äº†æ”¹å‹•-èƒ½æ•‘å›å—" aria-label="Permalink to &quot;Q: èª¤ç”¨ reset --hard åˆªé™¤äº†æ”¹å‹•ï¼Œèƒ½æ•‘å›å—ï¼Ÿ&quot;">â€‹</a></h3><p>å¯èƒ½å¯ä»¥ï¼Git æœ‰åƒåœ¾å›æ”¶æ©Ÿåˆ¶ï¼ŒçŸ­æ™‚é–“å…§å¯ç”¨ <code>reflog</code> æ‰¾å›ï¼ˆæ•‘å‘½ç¬¦ï¼‰ï¼š</p><div class="language-shell vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">shell</span><pre class="shiki shiki-themes vitesse-light vitesse-dark vp-code"><code><span class="line"><span style="--shiki-light:#59873A;--shiki-dark:#80A665;">git</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> reflog</span><span style="--shiki-light:#A0ADA0;--shiki-dark:#758575DD;">  # æ‰¾åˆ°åˆªé™¤å‰çš„ commit-id</span></span>
<span class="line"><span style="--shiki-light:#59873A;--shiki-dark:#80A665;">git</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> reset</span><span style="--shiki-light:#A65E2B;--shiki-dark:#C99076;"> --hard</span><span style="--shiki-light:#AB5959;--shiki-dark:#CB7676;"> &lt;</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;">commit-i</span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE;">d</span><span style="--shiki-light:#AB5959;--shiki-dark:#CB7676;">&gt;</span><span style="--shiki-light:#A0ADA0;--shiki-dark:#758575DD;">  # ç©¿è¶Šå›å»</span></span></code></pre></div><h3 id="q-revert-ä¸€å€‹-merge-commit-æ€éº¼åš" tabindex="-1">Q: Revert ä¸€å€‹ merge commit æ€éº¼åšï¼Ÿ <a class="header-anchor" href="#q-revert-ä¸€å€‹-merge-commit-æ€éº¼åš" aria-label="Permalink to &quot;Q: Revert ä¸€å€‹ merge commit æ€éº¼åšï¼Ÿ&quot;">â€‹</a></h3><p>éœ€è¦æŒ‡å®šçˆ¶æäº¤ï¼š</p><div class="language-shell vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">shell</span><pre class="shiki shiki-themes vitesse-light vitesse-dark vp-code"><code><span class="line"><span style="--shiki-light:#59873A;--shiki-dark:#80A665;">git</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> revert</span><span style="--shiki-light:#A65E2B;--shiki-dark:#C99076;"> -m</span><span style="--shiki-light:#2F798A;--shiki-dark:#4C9A91;"> 1</span><span style="--shiki-light:#AB5959;--shiki-dark:#CB7676;"> &lt;</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;">merge-commit-i</span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE;">d</span><span style="--shiki-light:#AB5959;--shiki-dark:#CB7676;">&gt;</span></span></code></pre></div><p><code>-m 1</code> è¡¨ç¤ºä¿ç•™ä¸»ç·šï¼ˆé€šå¸¸æ˜¯ mainï¼‰ï¼Œåˆªé™¤åˆä½µé€²ä¾†çš„åˆ†æ”¯ã€‚</p><h3 id="q-reset-å¾Œèƒ½å†-push-å—" tabindex="-1">Q: Reset å¾Œèƒ½å† Push å—ï¼Ÿ <a class="header-anchor" href="#q-reset-å¾Œèƒ½å†-push-å—" aria-label="Permalink to &quot;Q: Reset å¾Œèƒ½å† Push å—ï¼Ÿ&quot;">â€‹</a></h3><ul><li>è‹¥<strong>å°šæœªæ¨é€</strong>ï¼šç›´æ¥ pushï¼ˆæ²’å•é¡Œï¼‰</li><li>è‹¥<strong>å·²æ¨é€</strong>ï¼šéœ€ <code>push -f</code>ï¼ˆå±éšªï¼æœƒå½±éŸ¿ä»–äººï¼Œå°å¿ƒè¢«è¿½æ®ºï¼‰</li></ul><h3 id="q-å¤šäººå”ä½œæ™‚ä¸å°å¿ƒ-reset-äº†å…¬é–‹åˆ†æ”¯" tabindex="-1">Q: å¤šäººå”ä½œæ™‚ä¸å°å¿ƒ reset äº†å…¬é–‹åˆ†æ”¯ï¼Ÿ <a class="header-anchor" href="#q-å¤šäººå”ä½œæ™‚ä¸å°å¿ƒ-reset-äº†å…¬é–‹åˆ†æ”¯" aria-label="Permalink to &quot;Q: å¤šäººå”ä½œæ™‚ä¸å°å¿ƒ reset äº†å…¬é–‹åˆ†æ”¯ï¼Ÿ&quot;">â€‹</a></h3><p>ç«‹å³é€šçŸ¥åœ˜éšŠï¼Œè«‹å¤§å®¶ï¼š</p><div class="language-shell vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">shell</span><pre class="shiki shiki-themes vitesse-light vitesse-dark vp-code"><code><span class="line"><span style="--shiki-light:#59873A;--shiki-dark:#80A665;">git</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> fetch</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> origin</span></span>
<span class="line"><span style="--shiki-light:#59873A;--shiki-dark:#80A665;">git</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> reset</span><span style="--shiki-light:#A65E2B;--shiki-dark:#C99076;"> --hard</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> origin/main</span><span style="--shiki-light:#A0ADA0;--shiki-dark:#758575DD;">  # åŒæ­¥åˆ°é ç«¯ç‹€æ…‹</span></span></code></pre></div><p>æœªä¾†é¿å…åœ¨å…¬é–‹åˆ†æ”¯ç”¨ resetï¼ˆåˆ¥å†çŠ¯äº†ï¼‰ã€‚</p><h2 id="å»¶ä¼¸é–±è®€" tabindex="-1">å»¶ä¼¸é–±è®€ <a class="header-anchor" href="#å»¶ä¼¸é–±è®€" aria-label="Permalink to &quot;å»¶ä¼¸é–±è®€&quot;">â€‹</a></h2>`,26),B=t('<h2 id="ç¸½çµ" tabindex="-1">ç¸½çµ <a class="header-anchor" href="#ç¸½çµ" aria-label="Permalink to &quot;ç¸½çµ&quot;">â€‹</a></h2><ol><li><strong>Revert</strong>ï¼šç”Ÿæˆåå‘æäº¤ï¼Œä¿ç•™æ­·å²ï¼Œé©åˆå·²æ¨é€çš„æäº¤ï¼ˆæº«æŸ”æ¨¡å¼ ï¼‰ã€‚</li><li><strong>Reset</strong>ï¼šé‡å¯«æ­·å²ï¼Œé©åˆæœ¬åœ°æœªæ¨é€çš„æäº¤ï¼ˆç‹ å¿ƒæ¨¡å¼ ï¼‰ã€‚</li><li>æ‰¹é‡å›é€€ç”¨ <code>revert --no-commit &lt;old&gt;..&lt;new&gt;</code>ï¼ˆä¸€æ¬¡è™•ç†å¤šå€‹ï¼‰ã€‚</li><li><code>--hard</code> æœƒæ°¸ä¹…åˆªé™¤æ”¹å‹•ï¼Œè¬¹æ…ä½¿ç”¨ï¼ˆæ ¸å½ˆæŒ‰éˆ•ä¸è¦äº‚æŒ‰ï¼‰ã€‚</li><li>å¤šäººå”ä½œå„ªå…ˆç”¨ revertï¼Œé¿å…ç ´å£ä»–äººæ­·å²ï¼ˆç•¶å€‹å¥½éšŠå‹ï¼‰ã€‚</li></ol><p>æŒæ¡ Revert å’Œ Resetï¼Œä½ å°±æ˜¯æ™‚å…‰æ©Ÿé§•é§›å“¡ï¼</p>',3);function u(v,E,b,_,f,q){const h=n("Mermaid"),p=n("VPNolebaseInlineLinkPreview"),d=n("NolebaseGitContributors"),o=n("NolebaseGitChangelog");return l(),c("div",null,[D,(l(),k(r,null,{default:s(()=>[i(h,{id:"mermaid-63",class:"mermaid",graph:"gitGraph%0A%20%20%20%20commit%20id%3A%20%22A%22%0A%20%20%20%20commit%20id%3A%20%22B%20(%E9%8C%AF%E8%AA%A4)%22%0A%20%20%20%20commit%20id%3A%20%22C%22%0A%20%20%20%20commit%20id%3A%20%22Revert%20B%22%20type%3A%20REVERSE%0A"})]),fallback:s(()=>[a(" Loading... ")]),_:1})),y,(l(),k(r,null,{default:s(()=>[i(h,{id:"mermaid-88",class:"mermaid",graph:"gitGraph%0A%20%20%20%20commit%20id%3A%20%22A%22%0A%20%20%20%20commit%20id%3A%20%22B%22%0A%20%20%20%20commit%20id%3A%20%22C%20(%E9%8C%AF%E8%AA%A4)%22%20tag%3A%20%22reset%20%E5%89%8D%22%0A%20%20%20%20commit%20id%3A%20%22reset%20--hard%22%20type%3A%20HIGHLIGHT%20tag%3A%20%22%E7%A7%BB%E9%99%A4%20C%22%0A"})]),fallback:s(()=>[a(" Loading... ")]),_:1})),m,(l(),k(r,null,{default:s(()=>[i(h,{id:"mermaid-252",class:"mermaid",graph:"flowchart%20TD%0A%20%20%20%20A%5B%E9%9C%80%E8%A6%81%E5%9B%9E%E9%80%80%E6%8F%90%E4%BA%A4%5D%20--%3E%20B%7B%E5%B7%B2%E6%8E%A8%E9%80%81%E5%88%B0%E9%81%A0%E7%AB%AF%3F%7D%0A%20%20%20%20B%20--%3E%7C%E6%98%AF%7C%20C%5B%E4%BD%BF%E7%94%A8%20revert%3Cbr%2F%3E%E6%BA%AB%E6%9F%94%E6%A8%A1%E5%BC%8F%5D%0A%20%20%20%20B%20--%3E%7C%E5%90%A6%7C%20D%7B%E9%9C%80%E8%A6%81%E4%BF%9D%E7%95%99%E6%94%B9%E5%8B%95%3F%7D%0A%20%20%20%20D%20--%3E%7C%E6%98%AF%7C%20E%5Breset%20--soft%2Fmixed%3Cbr%2F%3E%E4%BF%9D%E7%95%99%E6%94%B9%E5%8B%95%5D%0A%20%20%20%20D%20--%3E%7C%E5%90%A6%7C%20F%5Breset%20--hard%3Cbr%2F%3E%E5%85%A8%E9%83%A8%E5%88%AA%E9%99%A4%5D%0A%20%20%20%20C%20--%3E%20G%5Bgit%20push%5D%0A%20%20%20%20E%20--%3E%20H%5B%E9%87%8D%E6%96%B0%E4%BF%AE%E6%94%B9%E5%BE%8C%E6%8F%90%E4%BA%A4%5D%0A%20%20%20%20F%20--%3E%20I%5B%E7%A2%BA%E8%AA%8D%E5%88%AA%E9%99%A4%5D%0A"})]),fallback:s(()=>[a(" Loading... ")]),_:1})),C,e("ul",null,[e("li",null,[i(p,{href:"./git-commit"},{default:s(()=>[a("git-commit.md")]),_:1}),a(" - Commit è¨Šæ¯è¦ç¯„")]),e("li",null,[i(p,{href:"./git-branch"},{default:s(()=>[a("git-branch.md")]),_:1}),a(" - åˆ†æ”¯ç®¡ç†")]),e("li",null,[i(p,{href:"https://git-scm.com/book/en/v2/Git-Basics-Undoing-Things",target:"_blank",rel:"noreferrer"},{default:s(()=>[a("Pro Git: Undoing Things")]),_:1})])]),B,i(d),i(o)])}const T=A(g,[["render",u]]);export{R as __pageData,T as default};
