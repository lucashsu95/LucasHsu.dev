import{_ as o,c as A,m as i,a as s,J as a,w as n,b as k,au as d,V as h,E as t,o as p}from"./chunks/framework.C9sE8QFS.js";const w=JSON.parse('{"title":"Git Diff","description":"","frontmatter":{"head":[["meta",{"name":"author","content":"許恩綸"}],["meta",{"name":"keywords","content":"Git,git diff,比較差異,staged,working directory,commit"}],["meta",{"property":"og:title","content":"Git Diff 完全指南：比較工作目錄、暫存區與 Commit"}],["meta",{"property":"og:description","content":"詳解 git diff 指令用法，包含工作目錄 vs 暫存區、比較 commits、檔案差異、word-diff 進階選項"}],["meta",{"property":"og:type","content":"article"}]]},"headers":[],"relativePath":"git/git-diff.md","filePath":"git/git-diff.md","lastUpdated":1766683168000}'),c={name:"git/git-diff.md"},y=h('<h1 id="git-diff" tabindex="-1">Git Diff <a class="header-anchor" href="#git-diff" aria-label="Permalink to &quot;Git Diff&quot;">​</a></h1><blockquote><p><strong>TL;DR</strong>：<code>git diff</code> 是「程式碼找碴遊戲」的神器！無參數看「工作目錄 vs 暫存區」、<code>--staged</code> 看「暫存區 vs 最後存檔」、<code>commit1 commit2</code> 比較「兩個時空的差異」。可以指定檔案（<code>-- path/to/file</code>）、用 <code>--word-diff</code> 顯示「哪個字被偷改」。紅色 <code>-</code> 是刪除、綠色 <code>+</code> 是新增，就像偵探辦案一樣精彩！</p></blockquote><h2 id="前置知識" tabindex="-1">前置知識 <a class="header-anchor" href="#前置知識" aria-label="Permalink to &quot;前置知識&quot;">​</a></h2>',3),D=i("li",null,"了解 Git 三大區域（工作目錄、暫存區、儲存庫）",-1),C=i("li",null,"知道基本 Git 指令（add、commit）",-1),B=i("h2",{id:"diff-比較對象",tabindex:"-1"},[s("Diff 比較對象 "),i("a",{class:"header-anchor",href:"#diff-比較對象","aria-label":'Permalink to "Diff 比較對象"'},"​")],-1),f=h(`<h3 id="比較類型速查表" tabindex="-1">比較類型速查表 <a class="header-anchor" href="#比較類型速查表" aria-label="Permalink to &quot;比較類型速查表&quot;">​</a></h3><table><thead><tr><th>指令</th><th>比較對象</th><th>說明</th></tr></thead><tbody><tr><td><code>git diff</code></td><td>工作目錄 vs 暫存區</td><td>查看<strong>未暫存</strong>的變更</td></tr><tr><td><code>git diff --staged</code></td><td>暫存區 vs HEAD</td><td>查看<strong>即將提交</strong>的變更</td></tr><tr><td><code>git diff HEAD</code></td><td>工作目錄 vs HEAD</td><td>查看<strong>所有未提交</strong>的變更</td></tr><tr><td><code>git diff commit1 commit2</code></td><td>兩個 commits</td><td>比較歷史版本</td></tr><tr><td><code>git diff branch1 branch2</code></td><td>兩個分支</td><td>比較分支差異</td></tr></tbody></table><p><strong>生活化比喻</strong>：</p><ul><li><code>git diff</code> = 「草稿 vs 即將交出去的作業」（還沒放進書包的改動）</li><li><code>git diff --staged</code> = 「書包裡的作業 vs 昨天交的作業」（準備交出去的）</li><li><code>git diff HEAD</code> = 「所有沒交的改動 vs 昨天交的」（全部差異）</li></ul><h2 id="基本用法" tabindex="-1">基本用法 <a class="header-anchor" href="#基本用法" aria-label="Permalink to &quot;基本用法&quot;">​</a></h2><h3 id="_1-工作目錄-vs-暫存區-預設" tabindex="-1">1. 工作目錄 vs 暫存區（預設） <a class="header-anchor" href="#_1-工作目錄-vs-暫存區-預設" aria-label="Permalink to &quot;1. 工作目錄 vs 暫存區（預設）&quot;">​</a></h3><div class="language-bash vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki shiki-themes vitesse-light vitesse-dark vp-code"><code><span class="line"><span style="--shiki-light:#59873A;--shiki-dark:#80A665;">git</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> diff</span></span></code></pre></div><p><strong>輸出範例：</strong></p><div class="language-diff vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">diff</span><pre class="shiki shiki-themes vitesse-light vitesse-dark vp-code"><code><span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">diff --git a/src/App.vue b/src/App.vue</span></span>
<span class="line"><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE;">index 1234abc..5678def 100644</span></span>
<span class="line"><span style="--shiki-light:#999999;--shiki-dark:#666666;">---</span><span style="--shiki-light:#B31D28;--shiki-dark:#FDAEB7;"> a/src/App.vue</span></span>
<span class="line"><span style="--shiki-light:#999999;--shiki-dark:#666666;">+++</span><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;"> b/src/App.vue</span></span>
<span class="line"><span style="--shiki-light:#999999;--shiki-dark:#666666;--shiki-light-font-weight:bold;--shiki-dark-font-weight:bold;">@@</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;--shiki-light-font-weight:bold;--shiki-dark-font-weight:bold;"> -10,7 +10,7 </span><span style="--shiki-light:#999999;--shiki-dark:#666666;--shiki-light-font-weight:bold;--shiki-dark-font-weight:bold;">@@</span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE;"> export default {</span></span>
<span class="line"><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE;">   data() {</span></span>
<span class="line"><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE;">     return {</span></span>
<span class="line"><span style="--shiki-light:#B31D28;--shiki-dark:#FDAEB7;">-      message: &#39;Hello&#39;</span></span>
<span class="line"><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">+      message: &#39;Hello World&#39;</span></span>
<span class="line"><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE;">     }</span></span>
<span class="line"><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE;">   }</span></span>
<span class="line"><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE;"> }</span></span></code></pre></div><p><strong>解讀：</strong></p><ul><li><code>-</code>（紅色）：刪除的行（舊版本有，新版本沒有）</li><li><code>+</code>（綠色）：新增的行（舊版本沒有，新版本有）</li><li><code>@@</code> 後的數字：變更的行號範圍</li></ul><p><strong>偵探筆記</strong>：紅色 = 證據被消滅、綠色 = 新線索出現！</p><hr><h3 id="_2-暫存區-vs-最後-commit" tabindex="-1">2. 暫存區 vs 最後 Commit <a class="header-anchor" href="#_2-暫存區-vs-最後-commit" aria-label="Permalink to &quot;2. 暫存區 vs 最後 Commit&quot;">​</a></h3><div class="language-bash vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki shiki-themes vitesse-light vitesse-dark vp-code"><code><span class="line"><span style="--shiki-light:#59873A;--shiki-dark:#80A665;">git</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> diff</span><span style="--shiki-light:#A65E2B;--shiki-dark:#C99076;"> --staged</span></span>
<span class="line"><span style="--shiki-light:#A0ADA0;--shiki-dark:#758575DD;"># 或</span></span>
<span class="line"><span style="--shiki-light:#59873A;--shiki-dark:#80A665;">git</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> diff</span><span style="--shiki-light:#A65E2B;--shiki-dark:#C99076;"> --cached</span></span></code></pre></div><p><strong>適用情境：</strong></p><ul><li>提交前檢查即將提交的內容</li><li>確認暫存區的檔案是否正確</li></ul><p><strong>重要</strong>：這是「送出作業前的最後檢查」，務必養成習慣！</p><hr><h3 id="_3-查看所有未提交變更" tabindex="-1">3. 查看所有未提交變更 <a class="header-anchor" href="#_3-查看所有未提交變更" aria-label="Permalink to &quot;3. 查看所有未提交變更&quot;">​</a></h3><div class="language-bash vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki shiki-themes vitesse-light vitesse-dark vp-code"><code><span class="line"><span style="--shiki-light:#59873A;--shiki-dark:#80A665;">git</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> diff</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> HEAD</span></span></code></pre></div><p>等同於：<code>git diff</code> + <code>git diff --staged</code> 的總和。</p><h2 id="進階用法" tabindex="-1">進階用法 <a class="header-anchor" href="#進階用法" aria-label="Permalink to &quot;進階用法&quot;">​</a></h2><h3 id="_1-比較特定檔案" tabindex="-1">1. 比較特定檔案 <a class="header-anchor" href="#_1-比較特定檔案" aria-label="Permalink to &quot;1. 比較特定檔案&quot;">​</a></h3><div class="language-bash vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki shiki-themes vitesse-light vitesse-dark vp-code"><code><span class="line"><span style="--shiki-light:#A0ADA0;--shiki-dark:#758575DD;"># 工作目錄 vs 暫存區（單一檔案）</span></span>
<span class="line"><span style="--shiki-light:#59873A;--shiki-dark:#80A665;">git</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> diff</span><span style="--shiki-light:#A65E2B;--shiki-dark:#C99076;"> --</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> path/to/file.txt</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#A0ADA0;--shiki-dark:#758575DD;"># 暫存區 vs HEAD（單一檔案）</span></span>
<span class="line"><span style="--shiki-light:#59873A;--shiki-dark:#80A665;">git</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> diff</span><span style="--shiki-light:#A65E2B;--shiki-dark:#C99076;"> --staged</span><span style="--shiki-light:#A65E2B;--shiki-dark:#C99076;"> --</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> src/App.vue</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#A0ADA0;--shiki-dark:#758575DD;"># 比較整個資料夾</span></span>
<span class="line"><span style="--shiki-light:#59873A;--shiki-dark:#80A665;">git</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> diff</span><span style="--shiki-light:#A65E2B;--shiki-dark:#C99076;"> --</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> src/components/</span></span></code></pre></div><p><strong>實戰範例：</strong></p><div class="language-bash vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki shiki-themes vitesse-light vitesse-dark vp-code"><code><span class="line"><span style="--shiki-light:#A0ADA0;--shiki-dark:#758575DD;"># 只看 App.vue 的差異</span></span>
<span class="line"><span style="--shiki-light:#59873A;--shiki-dark:#80A665;">git</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> diff</span><span style="--shiki-light:#A65E2B;--shiki-dark:#C99076;"> --</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> src/App.vue</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#A0ADA0;--shiki-dark:#758575DD;"># 看所有 .vue 檔案的差異</span></span>
<span class="line"><span style="--shiki-light:#59873A;--shiki-dark:#80A665;">git</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> diff</span><span style="--shiki-light:#A65E2B;--shiki-dark:#C99076;"> --</span><span style="--shiki-light:#B5695977;--shiki-dark:#C98A7D77;"> &#39;</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;">*.vue</span><span style="--shiki-light:#B5695977;--shiki-dark:#C98A7D77;">&#39;</span></span></code></pre></div><p><strong>小技巧</strong>：用 <code>--</code> 分隔指令選項和檔案路徑，避免 Git 誤判！</p><hr><h3 id="_2-比較兩個-commits" tabindex="-1">2. 比較兩個 Commits <a class="header-anchor" href="#_2-比較兩個-commits" aria-label="Permalink to &quot;2. 比較兩個 Commits&quot;">​</a></h3><div class="language-bash vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki shiki-themes vitesse-light vitesse-dark vp-code"><code><span class="line"><span style="--shiki-light:#A0ADA0;--shiki-dark:#758575DD;"># 比較特定 commit</span></span>
<span class="line"><span style="--shiki-light:#59873A;--shiki-dark:#80A665;">git</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> diff</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> 9d0e107</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> HEAD</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#A0ADA0;--shiki-dark:#758575DD;"># 比較兩個 commit</span></span>
<span class="line"><span style="--shiki-light:#59873A;--shiki-dark:#80A665;">git</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> diff</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> 9d0e107</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> 4f3c2b1</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#A0ADA0;--shiki-dark:#758575DD;"># 比較某個 commit 的特定檔案</span></span>
<span class="line"><span style="--shiki-light:#59873A;--shiki-dark:#80A665;">git</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> diff</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> 9d0e107</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> HEAD</span><span style="--shiki-light:#A65E2B;--shiki-dark:#C99076;"> --</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> src/App.vue</span></span></code></pre></div><p><strong>視覺化理解：</strong></p>`,32),u=h(`<div class="language-bash vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki shiki-themes vitesse-light vitesse-dark vp-code"><code><span class="line"><span style="--shiki-light:#A0ADA0;--shiki-dark:#758575DD;"># 比較舊版本  新版本的差異</span></span>
<span class="line"><span style="--shiki-light:#59873A;--shiki-dark:#80A665;">git</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> diff</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> 9d0e107</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> 4f3c2b1</span></span></code></pre></div><p><strong>使用時機</strong>：像時光機一樣，看看「一個月前的程式碼」和「現在的程式碼」差了多少！</p><hr><h3 id="_3-比較分支" tabindex="-1">3. 比較分支 <a class="header-anchor" href="#_3-比較分支" aria-label="Permalink to &quot;3. 比較分支&quot;">​</a></h3><div class="language-bash vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki shiki-themes vitesse-light vitesse-dark vp-code"><code><span class="line"><span style="--shiki-light:#A0ADA0;--shiki-dark:#758575DD;"># 比較兩個分支</span></span>
<span class="line"><span style="--shiki-light:#59873A;--shiki-dark:#80A665;">git</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> diff</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> main</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> feature</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#A0ADA0;--shiki-dark:#758575DD;"># 比較當前分支與 main</span></span>
<span class="line"><span style="--shiki-light:#59873A;--shiki-dark:#80A665;">git</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> diff</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> main</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#A0ADA0;--shiki-dark:#758575DD;"># 只看檔案名稱（不顯示內容）</span></span>
<span class="line"><span style="--shiki-light:#59873A;--shiki-dark:#80A665;">git</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> diff</span><span style="--shiki-light:#A65E2B;--shiki-dark:#C99076;"> --name-only</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> main</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> feature</span></span></code></pre></div><hr><h3 id="_4-統計變更" tabindex="-1">4. 統計變更 <a class="header-anchor" href="#_4-統計變更" aria-label="Permalink to &quot;4. 統計變更&quot;">​</a></h3><div class="language-bash vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki shiki-themes vitesse-light vitesse-dark vp-code"><code><span class="line"><span style="--shiki-light:#A0ADA0;--shiki-dark:#758575DD;"># 顯示統計資訊（變動幾行）</span></span>
<span class="line"><span style="--shiki-light:#59873A;--shiki-dark:#80A665;">git</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> diff</span><span style="--shiki-light:#A65E2B;--shiki-dark:#C99076;"> --stat</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#A0ADA0;--shiki-dark:#758575DD;"># 輸出範例：</span></span>
<span class="line"><span style="--shiki-light:#A0ADA0;--shiki-dark:#758575DD;">#  src/App.vue    | 10 +++++-----</span></span>
<span class="line"><span style="--shiki-light:#A0ADA0;--shiki-dark:#758575DD;">#  src/utils.js   |  5 +++--</span></span>
<span class="line"><span style="--shiki-light:#A0ADA0;--shiki-dark:#758575DD;">#  2 files changed, 8 insertions(+), 7 deletions(-)</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#A0ADA0;--shiki-dark:#758575DD;"># 只顯示變更的檔案名稱</span></span>
<span class="line"><span style="--shiki-light:#59873A;--shiki-dark:#80A665;">git</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> diff</span><span style="--shiki-light:#A65E2B;--shiki-dark:#C99076;"> --name-only</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#A0ADA0;--shiki-dark:#758575DD;"># 顯示變更類型（新增/修改/刪除）</span></span>
<span class="line"><span style="--shiki-light:#59873A;--shiki-dark:#80A665;">git</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> diff</span><span style="--shiki-light:#A65E2B;--shiki-dark:#C99076;"> --name-status</span></span>
<span class="line"><span style="--shiki-light:#A0ADA0;--shiki-dark:#758575DD;"># 輸出：</span></span>
<span class="line"><span style="--shiki-light:#A0ADA0;--shiki-dark:#758575DD;"># M    src/App.vue       (修改)</span></span>
<span class="line"><span style="--shiki-light:#A0ADA0;--shiki-dark:#758575DD;"># A    src/new.js        (新增)</span></span>
<span class="line"><span style="--shiki-light:#A0ADA0;--shiki-dark:#758575DD;"># D    src/old.js        (刪除)</span></span></code></pre></div><p><strong>小技巧</strong>：用 <code>--stat</code> 快速掃描「哪些檔案被改了、改了幾行」，不用看密密麻麻的程式碼！</p><h2 id="輸出格式選項" tabindex="-1">輸出格式選項 <a class="header-anchor" href="#輸出格式選項" aria-label="Permalink to &quot;輸出格式選項&quot;">​</a></h2><h3 id="_1-單字差異-word-diff" tabindex="-1">1. 單字差異（Word Diff） <a class="header-anchor" href="#_1-單字差異-word-diff" aria-label="Permalink to &quot;1. 單字差異（Word Diff）&quot;">​</a></h3><div class="language-bash vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki shiki-themes vitesse-light vitesse-dark vp-code"><code><span class="line"><span style="--shiki-light:#A0ADA0;--shiki-dark:#758575DD;"># 顯示單字層級的差異（不是整行）</span></span>
<span class="line"><span style="--shiki-light:#59873A;--shiki-dark:#80A665;">git</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> diff</span><span style="--shiki-light:#A65E2B;--shiki-dark:#C99076;"> --word-diff</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#A0ADA0;--shiki-dark:#758575DD;"># 範例輸出：</span></span>
<span class="line"><span style="--shiki-light:#A0ADA0;--shiki-dark:#758575DD;"># return {</span></span>
<span class="line"><span style="--shiki-light:#A0ADA0;--shiki-dark:#758575DD;">#   message: [-&#39;Hello&#39;-]{+&#39;Hello World&#39;+}</span></span>
<span class="line"><span style="--shiki-light:#A0ADA0;--shiki-dark:#758575DD;"># }</span></span></code></pre></div><p><strong>適用情境：</strong></p><ul><li>文件編輯（Markdown、README）</li><li>單行程式碼的小修改</li></ul><p><strong>偵探筆記</strong>：用這個找「誰改了哪個字」超精準，不會整行紅紅綠綠眼花撩亂！</p><hr><h3 id="_2-色彩強化" tabindex="-1">2. 色彩強化 <a class="header-anchor" href="#_2-色彩強化" aria-label="Permalink to &quot;2. 色彩強化&quot;">​</a></h3><div class="language-bash vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki shiki-themes vitesse-light vitesse-dark vp-code"><code><span class="line"><span style="--shiki-light:#A0ADA0;--shiki-dark:#758575DD;"># 強制使用彩色輸出</span></span>
<span class="line"><span style="--shiki-light:#59873A;--shiki-dark:#80A665;">git</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> diff</span><span style="--shiki-light:#A65E2B;--shiki-dark:#C99076;"> --color</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#A0ADA0;--shiki-dark:#758575DD;"># 關閉彩色（適合輸出到檔案）</span></span>
<span class="line"><span style="--shiki-light:#59873A;--shiki-dark:#80A665;">git</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> diff</span><span style="--shiki-light:#A65E2B;--shiki-dark:#C99076;"> --no-color</span><span style="--shiki-light:#AB5959;--shiki-dark:#CB7676;"> &gt;</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> diff.txt</span></span></code></pre></div><hr><h3 id="_3-上下文行數" tabindex="-1">3. 上下文行數 <a class="header-anchor" href="#_3-上下文行數" aria-label="Permalink to &quot;3. 上下文行數&quot;">​</a></h3><div class="language-bash vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki shiki-themes vitesse-light vitesse-dark vp-code"><code><span class="line"><span style="--shiki-light:#A0ADA0;--shiki-dark:#758575DD;"># 預設顯示 3 行上下文</span></span>
<span class="line"><span style="--shiki-light:#59873A;--shiki-dark:#80A665;">git</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> diff</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#A0ADA0;--shiki-dark:#758575DD;"># 增加到 5 行上下文</span></span>
<span class="line"><span style="--shiki-light:#59873A;--shiki-dark:#80A665;">git</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> diff</span><span style="--shiki-light:#A65E2B;--shiki-dark:#C99076;"> -U5</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#A0ADA0;--shiki-dark:#758575DD;"># 只顯示變更行（無上下文）</span></span>
<span class="line"><span style="--shiki-light:#59873A;--shiki-dark:#80A665;">git</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> diff</span><span style="--shiki-light:#A65E2B;--shiki-dark:#C99076;"> -U0</span></span></code></pre></div><h2 id="實戰情境" tabindex="-1">實戰情境 <a class="header-anchor" href="#實戰情境" aria-label="Permalink to &quot;實戰情境&quot;">​</a></h2><h3 id="情境-1-提交前檢查" tabindex="-1">情境 1：提交前檢查 <a class="header-anchor" href="#情境-1-提交前檢查" aria-label="Permalink to &quot;情境 1：提交前檢查&quot;">​</a></h3><div class="language-bash vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki shiki-themes vitesse-light vitesse-dark vp-code"><code><span class="line"><span style="--shiki-light:#A0ADA0;--shiki-dark:#758575DD;"># 1. 修改檔案後查看差異</span></span>
<span class="line"><span style="--shiki-light:#59873A;--shiki-dark:#80A665;">git</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> diff</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#A0ADA0;--shiki-dark:#758575DD;"># 2. 暫存部分檔案</span></span>
<span class="line"><span style="--shiki-light:#59873A;--shiki-dark:#80A665;">git</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> add</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> src/App.vue</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#A0ADA0;--shiki-dark:#758575DD;"># 3. 檢查即將提交的內容</span></span>
<span class="line"><span style="--shiki-light:#59873A;--shiki-dark:#80A665;">git</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> diff</span><span style="--shiki-light:#A65E2B;--shiki-dark:#C99076;"> --staged</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#A0ADA0;--shiki-dark:#758575DD;"># 4. 確認無誤後提交</span></span>
<span class="line"><span style="--shiki-light:#59873A;--shiki-dark:#80A665;">git</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> commit</span><span style="--shiki-light:#A65E2B;--shiki-dark:#C99076;"> -m</span><span style="--shiki-light:#B5695977;--shiki-dark:#C98A7D77;"> &quot;</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;">update: 修改訊息</span><span style="--shiki-light:#B5695977;--shiki-dark:#C98A7D77;">&quot;</span></span></code></pre></div><p><strong>最佳實踐</strong>：養成「commit 前一定先 <code>git diff --staged</code>」的好習慣，避免提交錯誤內容！</p><hr><h3 id="情境-2-比較特定-commit-的單一檔案" tabindex="-1">情境 2：比較特定 Commit 的單一檔案 <a class="header-anchor" href="#情境-2-比較特定-commit-的單一檔案" aria-label="Permalink to &quot;情境 2：比較特定 Commit 的單一檔案&quot;">​</a></h3><div class="language-bash vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki shiki-themes vitesse-light vitesse-dark vp-code"><code><span class="line"><span style="--shiki-light:#A0ADA0;--shiki-dark:#758575DD;"># 查看某個 commit 對特定檔案做了什麼</span></span>
<span class="line"><span style="--shiki-light:#59873A;--shiki-dark:#80A665;">git</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> diff</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> 9d0e107</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> 4f3c2b1</span><span style="--shiki-light:#A65E2B;--shiki-dark:#C99076;"> --</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> src/views/Home.vue</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#A0ADA0;--shiki-dark:#758575DD;"># 加上單字差異</span></span>
<span class="line"><span style="--shiki-light:#59873A;--shiki-dark:#80A665;">git</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> diff</span><span style="--shiki-light:#A65E2B;--shiki-dark:#C99076;"> --word-diff</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> 9d0e107</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> 4f3c2b1</span><span style="--shiki-light:#A65E2B;--shiki-dark:#C99076;"> --</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> README.md</span></span></code></pre></div><hr><h3 id="情境-3-找出兩個分支的差異檔案" tabindex="-1">情境 3：找出兩個分支的差異檔案 <a class="header-anchor" href="#情境-3-找出兩個分支的差異檔案" aria-label="Permalink to &quot;情境 3：找出兩個分支的差異檔案&quot;">​</a></h3><div class="language-bash vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki shiki-themes vitesse-light vitesse-dark vp-code"><code><span class="line"><span style="--shiki-light:#A0ADA0;--shiki-dark:#758575DD;"># 查看 feature 分支相對於 main 改了哪些檔案</span></span>
<span class="line"><span style="--shiki-light:#59873A;--shiki-dark:#80A665;">git</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> diff</span><span style="--shiki-light:#A65E2B;--shiki-dark:#C99076;"> --name-status</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> main</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> feature</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#A0ADA0;--shiki-dark:#758575DD;"># 輸出：</span></span>
<span class="line"><span style="--shiki-light:#A0ADA0;--shiki-dark:#758575DD;"># M    src/App.vue</span></span>
<span class="line"><span style="--shiki-light:#A0ADA0;--shiki-dark:#758575DD;"># A    src/components/NewFeature.vue</span></span>
<span class="line"><span style="--shiki-light:#A0ADA0;--shiki-dark:#758575DD;"># D    src/components/OldFeature.vue</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#A0ADA0;--shiki-dark:#758575DD;"># 只看 src/ 資料夾的差異</span></span>
<span class="line"><span style="--shiki-light:#59873A;--shiki-dark:#80A665;">git</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> diff</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> main</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> feature</span><span style="--shiki-light:#A65E2B;--shiki-dark:#C99076;"> --</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> src/</span></span></code></pre></div><h2 id="實戰練習" tabindex="-1">實戰練習 <a class="header-anchor" href="#實戰練習" aria-label="Permalink to &quot;實戰練習&quot;">​</a></h2><h3 id="練習-1-簡單" tabindex="-1">練習 1（簡單） <a class="header-anchor" href="#練習-1-簡單" aria-label="Permalink to &quot;練習 1（簡單）&quot;">​</a></h3><p>建立一個儲存庫，修改檔案後使用 <code>git diff</code> 查看差異，然後暫存並用 <code>git diff --staged</code> 確認。</p><details class="details custom-block"><summary>參考答案</summary><div class="language-bash vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki shiki-themes vitesse-light vitesse-dark vp-code"><code><span class="line"><span style="--shiki-light:#A0ADA0;--shiki-dark:#758575DD;"># 1. 初始化儲存庫</span></span>
<span class="line"><span style="--shiki-light:#59873A;--shiki-dark:#80A665;">mkdir</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> git-diff-practice</span><span style="--shiki-light:#999999;--shiki-dark:#666666;"> &amp;&amp;</span><span style="--shiki-light:#998418;--shiki-dark:#B8A965;"> cd</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> git-diff-practice</span></span>
<span class="line"><span style="--shiki-light:#59873A;--shiki-dark:#80A665;">git</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> init</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#A0ADA0;--shiki-dark:#758575DD;"># 2. 建立檔案並提交</span></span>
<span class="line"><span style="--shiki-light:#998418;--shiki-dark:#B8A965;">echo</span><span style="--shiki-light:#B5695977;--shiki-dark:#C98A7D77;"> &quot;</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;">Hello</span><span style="--shiki-light:#B5695977;--shiki-dark:#C98A7D77;">&quot;</span><span style="--shiki-light:#AB5959;--shiki-dark:#CB7676;"> &gt;</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> test.txt</span></span>
<span class="line"><span style="--shiki-light:#59873A;--shiki-dark:#80A665;">git</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> add</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> test.txt</span></span>
<span class="line"><span style="--shiki-light:#59873A;--shiki-dark:#80A665;">git</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> commit</span><span style="--shiki-light:#A65E2B;--shiki-dark:#C99076;"> -m</span><span style="--shiki-light:#B5695977;--shiki-dark:#C98A7D77;"> &quot;</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;">init: 初始提交</span><span style="--shiki-light:#B5695977;--shiki-dark:#C98A7D77;">&quot;</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#A0ADA0;--shiki-dark:#758575DD;"># 3. 修改檔案</span></span>
<span class="line"><span style="--shiki-light:#998418;--shiki-dark:#B8A965;">echo</span><span style="--shiki-light:#B5695977;--shiki-dark:#C98A7D77;"> &quot;</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;">World</span><span style="--shiki-light:#B5695977;--shiki-dark:#C98A7D77;">&quot;</span><span style="--shiki-light:#AB5959;--shiki-dark:#CB7676;"> &gt;&gt;</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> test.txt</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#A0ADA0;--shiki-dark:#758575DD;"># 4. 查看工作目錄差異</span></span>
<span class="line"><span style="--shiki-light:#59873A;--shiki-dark:#80A665;">git</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> diff</span></span>
<span class="line"><span style="--shiki-light:#A0ADA0;--shiki-dark:#758575DD;"># 應顯示：</span></span>
<span class="line"><span style="--shiki-light:#A0ADA0;--shiki-dark:#758575DD;"># +World</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#A0ADA0;--shiki-dark:#758575DD;"># 5. 暫存檔案</span></span>
<span class="line"><span style="--shiki-light:#59873A;--shiki-dark:#80A665;">git</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> add</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> test.txt</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#A0ADA0;--shiki-dark:#758575DD;"># 6. 查看暫存區差異</span></span>
<span class="line"><span style="--shiki-light:#59873A;--shiki-dark:#80A665;">git</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> diff</span><span style="--shiki-light:#A65E2B;--shiki-dark:#C99076;"> --staged</span></span>
<span class="line"><span style="--shiki-light:#A0ADA0;--shiki-dark:#758575DD;"># 應顯示相同的 +World</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#A0ADA0;--shiki-dark:#758575DD;"># 7. 確認工作目錄已無未暫存變更</span></span>
<span class="line"><span style="--shiki-light:#59873A;--shiki-dark:#80A665;">git</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> diff</span></span>
<span class="line"><span style="--shiki-light:#A0ADA0;--shiki-dark:#758575DD;"># 應無輸出（空白）</span></span></code></pre></div><p><strong>重點</strong>：成功體驗「工作目錄 暫存區 儲存庫」的三階段檢查流程！</p></details><h3 id="練習-2-簡單" tabindex="-1">練習 2（簡單） <a class="header-anchor" href="#練習-2-簡單" aria-label="Permalink to &quot;練習 2（簡單）&quot;">​</a></h3><p>比較最近兩個 commits 的差異，只顯示變更的檔案名稱。</p><details class="details custom-block"><summary>參考答案</summary><div class="language-bash vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki shiki-themes vitesse-light vitesse-dark vp-code"><code><span class="line"><span style="--shiki-light:#A0ADA0;--shiki-dark:#758575DD;"># 方法一：使用 HEAD~1 表示上一個 commit</span></span>
<span class="line"><span style="--shiki-light:#59873A;--shiki-dark:#80A665;">git</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> diff</span><span style="--shiki-light:#A65E2B;--shiki-dark:#C99076;"> --name-only</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> HEAD~1</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> HEAD</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#A0ADA0;--shiki-dark:#758575DD;"># 方法二：使用 commit hash</span></span>
<span class="line"><span style="--shiki-light:#59873A;--shiki-dark:#80A665;">git</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> log</span><span style="--shiki-light:#A65E2B;--shiki-dark:#C99076;"> --oneline</span><span style="--shiki-light:#A65E2B;--shiki-dark:#C99076;"> -2</span></span>
<span class="line"><span style="--shiki-light:#A0ADA0;--shiki-dark:#758575DD;"># 複製兩個 commit hash，例如：</span></span>
<span class="line"><span style="--shiki-light:#A0ADA0;--shiki-dark:#758575DD;"># abc1234 最新</span></span>
<span class="line"><span style="--shiki-light:#A0ADA0;--shiki-dark:#758575DD;"># def5678 上一個</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#59873A;--shiki-dark:#80A665;">git</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> diff</span><span style="--shiki-light:#A65E2B;--shiki-dark:#C99076;"> --name-only</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> def5678</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> abc1234</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#A0ADA0;--shiki-dark:#758575DD;"># 方法三：顯示變更類型</span></span>
<span class="line"><span style="--shiki-light:#59873A;--shiki-dark:#80A665;">git</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> diff</span><span style="--shiki-light:#A65E2B;--shiki-dark:#C99076;"> --name-status</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> HEAD~1</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> HEAD</span></span>
<span class="line"><span style="--shiki-light:#A0ADA0;--shiki-dark:#758575DD;"># 輸出：</span></span>
<span class="line"><span style="--shiki-light:#A0ADA0;--shiki-dark:#758575DD;"># M    file1.txt  (修改)</span></span>
<span class="line"><span style="--shiki-light:#A0ADA0;--shiki-dark:#758575DD;"># A    file2.txt  (新增)</span></span></code></pre></div></details><h3 id="練習-3-中等" tabindex="-1">練習 3（中等） <a class="header-anchor" href="#練習-3-中等" aria-label="Permalink to &quot;練習 3（中等）&quot;">​</a></h3><p>寫一個 Shell 腳本，自動化「顯示所有未暫存變更 詢問是否查看詳細差異 選擇性暫存檔案」流程。</p><details class="details custom-block"><summary>參考答案與思路</summary><div class="language-bash vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki shiki-themes vitesse-light vitesse-dark vp-code"><code><span class="line"><span style="--shiki-light:#A0ADA0;--shiki-dark:#758575DD;">#!/bin/bash</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#998418;--shiki-dark:#B8A965;">echo</span><span style="--shiki-light:#B5695977;--shiki-dark:#C98A7D77;"> &quot;</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> 檢查未暫存的變更...</span><span style="--shiki-light:#B5695977;--shiki-dark:#C98A7D77;">&quot;</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#A0ADA0;--shiki-dark:#758575DD;"># 取得所有修改的檔案</span></span>
<span class="line"><span style="--shiki-light:#B07D48;--shiki-dark:#BD976A;">modified_files</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">=$(</span><span style="--shiki-light:#59873A;--shiki-dark:#80A665;">git</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> diff</span><span style="--shiki-light:#A65E2B;--shiki-dark:#C99076;"> --name-only</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">)</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#1E754F;--shiki-dark:#4D9375;">if</span><span style="--shiki-light:#999999;--shiki-dark:#666666;"> [[</span><span style="--shiki-light:#AB5959;--shiki-dark:#CB7676;"> -z</span><span style="--shiki-light:#B07D48;--shiki-dark:#BD976A;"> $modified_files</span><span style="--shiki-light:#999999;--shiki-dark:#666666;"> ]];</span><span style="--shiki-light:#1E754F;--shiki-dark:#4D9375;"> then</span></span>
<span class="line"><span style="--shiki-light:#998418;--shiki-dark:#B8A965;">    echo</span><span style="--shiki-light:#B5695977;--shiki-dark:#C98A7D77;"> &quot;</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> 無未暫存的變更</span><span style="--shiki-light:#B5695977;--shiki-dark:#C98A7D77;">&quot;</span></span>
<span class="line"><span style="--shiki-light:#998418;--shiki-dark:#B8A965;">    exit</span><span style="--shiki-light:#2F798A;--shiki-dark:#4C9A91;"> 0</span></span>
<span class="line"><span style="--shiki-light:#1E754F;--shiki-dark:#4D9375;">fi</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#998418;--shiki-dark:#B8A965;">echo</span><span style="--shiki-light:#B5695977;--shiki-dark:#C98A7D77;"> &quot;</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> 以下檔案已修改：</span><span style="--shiki-light:#B5695977;--shiki-dark:#C98A7D77;">&quot;</span></span>
<span class="line"><span style="--shiki-light:#998418;--shiki-dark:#B8A965;">echo</span><span style="--shiki-light:#B5695977;--shiki-dark:#C98A7D77;"> &quot;</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;">$modified_files</span><span style="--shiki-light:#B5695977;--shiki-dark:#C98A7D77;">&quot;</span><span style="--shiki-light:#AB5959;--shiki-dark:#CB7676;"> |</span><span style="--shiki-light:#59873A;--shiki-dark:#80A665;"> nl</span><span style="--shiki-light:#A0ADA0;--shiki-dark:#758575DD;">  # 加上行號</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#998418;--shiki-dark:#B8A965;">echo</span><span style="--shiki-light:#B5695977;--shiki-dark:#C98A7D77;"> &quot;&quot;</span></span>
<span class="line"><span style="--shiki-light:#998418;--shiki-dark:#B8A965;">read</span><span style="--shiki-light:#A65E2B;--shiki-dark:#C99076;"> -p</span><span style="--shiki-light:#B5695977;--shiki-dark:#C98A7D77;"> &quot;</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;">是否查看詳細差異？(y/n): </span><span style="--shiki-light:#B5695977;--shiki-dark:#C98A7D77;">&quot;</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> show_diff</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#1E754F;--shiki-dark:#4D9375;">if</span><span style="--shiki-light:#999999;--shiki-dark:#666666;"> [[</span><span style="--shiki-light:#B07D48;--shiki-dark:#BD976A;"> $show_diff</span><span style="--shiki-light:#AB5959;--shiki-dark:#CB7676;"> ==</span><span style="--shiki-light:#B5695977;--shiki-dark:#C98A7D77;"> &quot;</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;">y</span><span style="--shiki-light:#B5695977;--shiki-dark:#C98A7D77;">&quot;</span><span style="--shiki-light:#999999;--shiki-dark:#666666;"> ]];</span><span style="--shiki-light:#1E754F;--shiki-dark:#4D9375;"> then</span></span>
<span class="line"><span style="--shiki-light:#A0ADA0;--shiki-dark:#758575DD;">    # 逐一顯示每個檔案的差異</span></span>
<span class="line"><span style="--shiki-light:#1E754F;--shiki-dark:#4D9375;">    while</span><span style="--shiki-light:#B07D48;--shiki-dark:#BD976A;"> IFS</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">=</span><span style="--shiki-light:#998418;--shiki-dark:#B8A965;"> read</span><span style="--shiki-light:#A65E2B;--shiki-dark:#C99076;"> -r</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> file</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">;</span><span style="--shiki-light:#1E754F;--shiki-dark:#4D9375;"> do</span></span>
<span class="line"><span style="--shiki-light:#998418;--shiki-dark:#B8A965;">        echo</span><span style="--shiki-light:#B5695977;--shiki-dark:#C98A7D77;"> &quot;&quot;</span></span>
<span class="line"><span style="--shiki-light:#998418;--shiki-dark:#B8A965;">        echo</span><span style="--shiki-light:#B5695977;--shiki-dark:#C98A7D77;"> &quot;</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;">========== $file ==========</span><span style="--shiki-light:#B5695977;--shiki-dark:#C98A7D77;">&quot;</span></span>
<span class="line"><span style="--shiki-light:#59873A;--shiki-dark:#80A665;">        git</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> diff</span><span style="--shiki-light:#A65E2B;--shiki-dark:#C99076;"> --color</span><span style="--shiki-light:#A65E2B;--shiki-dark:#C99076;"> --</span><span style="--shiki-light:#B5695977;--shiki-dark:#C98A7D77;"> &quot;</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;">$file</span><span style="--shiki-light:#B5695977;--shiki-dark:#C98A7D77;">&quot;</span></span>
<span class="line"><span style="--shiki-light:#998418;--shiki-dark:#B8A965;">        echo</span><span style="--shiki-light:#B5695977;--shiki-dark:#C98A7D77;"> &quot;&quot;</span></span>
<span class="line"><span style="--shiki-light:#998418;--shiki-dark:#B8A965;">        read</span><span style="--shiki-light:#A65E2B;--shiki-dark:#C99076;"> -p</span><span style="--shiki-light:#B5695977;--shiki-dark:#C98A7D77;"> &quot;</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;">是否暫存此檔案？(y/n/q退出): </span><span style="--shiki-light:#B5695977;--shiki-dark:#C98A7D77;">&quot;</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> answer</span></span>
<span class="line"><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE;">        </span></span>
<span class="line"><span style="--shiki-light:#1E754F;--shiki-dark:#4D9375;">        case</span><span style="--shiki-light:#B07D48;--shiki-dark:#BD976A;"> $answer</span><span style="--shiki-light:#1E754F;--shiki-dark:#4D9375;"> in</span></span>
<span class="line"><span style="--shiki-light:#AB5E3F;--shiki-dark:#C4704F;">            y</span><span style="--shiki-light:#AB5959;--shiki-dark:#CB7676;">)</span></span>
<span class="line"><span style="--shiki-light:#59873A;--shiki-dark:#80A665;">                git</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> add</span><span style="--shiki-light:#B5695977;--shiki-dark:#C98A7D77;"> &quot;</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;">$file</span><span style="--shiki-light:#B5695977;--shiki-dark:#C98A7D77;">&quot;</span></span>
<span class="line"><span style="--shiki-light:#998418;--shiki-dark:#B8A965;">                echo</span><span style="--shiki-light:#B5695977;--shiki-dark:#C98A7D77;"> &quot;</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> 已暫存：$file</span><span style="--shiki-light:#B5695977;--shiki-dark:#C98A7D77;">&quot;</span></span>
<span class="line"><span style="--shiki-light:#999999;--shiki-dark:#666666;">                ;;</span></span>
<span class="line"><span style="--shiki-light:#AB5E3F;--shiki-dark:#C4704F;">            q</span><span style="--shiki-light:#AB5959;--shiki-dark:#CB7676;">)</span></span>
<span class="line"><span style="--shiki-light:#998418;--shiki-dark:#B8A965;">                echo</span><span style="--shiki-light:#B5695977;--shiki-dark:#C98A7D77;"> &quot;</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> 結束操作</span><span style="--shiki-light:#B5695977;--shiki-dark:#C98A7D77;">&quot;</span></span>
<span class="line"><span style="--shiki-light:#998418;--shiki-dark:#B8A965;">                exit</span><span style="--shiki-light:#2F798A;--shiki-dark:#4C9A91;"> 0</span></span>
<span class="line"><span style="--shiki-light:#999999;--shiki-dark:#666666;">                ;;</span></span>
<span class="line"><span style="--shiki-light:#AB5959;--shiki-dark:#CB7676;">            *)</span></span>
<span class="line"><span style="--shiki-light:#998418;--shiki-dark:#B8A965;">                echo</span><span style="--shiki-light:#B5695977;--shiki-dark:#C98A7D77;"> &quot;</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> 跳過：$file</span><span style="--shiki-light:#B5695977;--shiki-dark:#C98A7D77;">&quot;</span></span>
<span class="line"><span style="--shiki-light:#999999;--shiki-dark:#666666;">                ;;</span></span>
<span class="line"><span style="--shiki-light:#1E754F;--shiki-dark:#4D9375;">        esac</span></span>
<span class="line"><span style="--shiki-light:#1E754F;--shiki-dark:#4D9375;">    done</span><span style="--shiki-light:#AB5959;--shiki-dark:#CB7676;"> &lt;&lt;&lt;</span><span style="--shiki-light:#B5695977;--shiki-dark:#C98A7D77;"> &quot;</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;">$modified_files</span><span style="--shiki-light:#B5695977;--shiki-dark:#C98A7D77;">&quot;</span></span>
<span class="line"><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE;">    </span></span>
<span class="line"><span style="--shiki-light:#998418;--shiki-dark:#B8A965;">    echo</span><span style="--shiki-light:#B5695977;--shiki-dark:#C98A7D77;"> &quot;&quot;</span></span>
<span class="line"><span style="--shiki-light:#998418;--shiki-dark:#B8A965;">    echo</span><span style="--shiki-light:#B5695977;--shiki-dark:#C98A7D77;"> &quot;</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> 暫存區狀態：</span><span style="--shiki-light:#B5695977;--shiki-dark:#C98A7D77;">&quot;</span></span>
<span class="line"><span style="--shiki-light:#59873A;--shiki-dark:#80A665;">    git</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> status</span><span style="--shiki-light:#A65E2B;--shiki-dark:#C99076;"> --short</span></span>
<span class="line"><span style="--shiki-light:#1E754F;--shiki-dark:#4D9375;">else</span></span>
<span class="line"><span style="--shiki-light:#998418;--shiki-dark:#B8A965;">    echo</span><span style="--shiki-light:#B5695977;--shiki-dark:#C98A7D77;"> &quot;</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> 已取消操作</span><span style="--shiki-light:#B5695977;--shiki-dark:#C98A7D77;">&quot;</span></span>
<span class="line"><span style="--shiki-light:#1E754F;--shiki-dark:#4D9375;">fi</span></span></code></pre></div><p><strong>思路：</strong></p><ol><li>用 <code>git diff --name-only</code> 取得未暫存檔案清單</li><li>顯示清單並詢問是否查看詳細差異</li><li>逐一顯示每個檔案的 <code>git diff</code> 輸出</li><li>詢問是否暫存該檔案（y/n/q）</li><li>根據選擇執行 <code>git add</code> 或跳過</li><li>最後顯示暫存區狀態</li></ol><p><strong>進階：加入彩色輸出</strong></p><div class="language-bash vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki shiki-themes vitesse-light vitesse-dark vp-code"><code><span class="line"><span style="--shiki-light:#A0ADA0;--shiki-dark:#758575DD;"># 在腳本開頭定義顏色</span></span>
<span class="line"><span style="--shiki-light:#B07D48;--shiki-dark:#BD976A;">GREEN</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">=</span><span style="--shiki-light:#B5695977;--shiki-dark:#C98A7D77;">&#39;</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;">\\033[0;32m</span><span style="--shiki-light:#B5695977;--shiki-dark:#C98A7D77;">&#39;</span></span>
<span class="line"><span style="--shiki-light:#B07D48;--shiki-dark:#BD976A;">RED</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">=</span><span style="--shiki-light:#B5695977;--shiki-dark:#C98A7D77;">&#39;</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;">\\033[0;31m</span><span style="--shiki-light:#B5695977;--shiki-dark:#C98A7D77;">&#39;</span></span>
<span class="line"><span style="--shiki-light:#B07D48;--shiki-dark:#BD976A;">NC</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">=</span><span style="--shiki-light:#B5695977;--shiki-dark:#C98A7D77;">&#39;</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;">\\033[0m</span><span style="--shiki-light:#B5695977;--shiki-dark:#C98A7D77;">&#39;</span><span style="--shiki-light:#A0ADA0;--shiki-dark:#758575DD;">  # No Color</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#998418;--shiki-dark:#B8A965;">echo</span><span style="--shiki-light:#A65E2B;--shiki-dark:#C99076;"> -e</span><span style="--shiki-light:#B5695977;--shiki-dark:#C98A7D77;"> &quot;</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">\${</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;">GREEN</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">}</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> 已暫存</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">\${</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;">NC</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">}</span><span style="--shiki-light:#B5695977;--shiki-dark:#C98A7D77;">&quot;</span></span>
<span class="line"><span style="--shiki-light:#998418;--shiki-dark:#B8A965;">echo</span><span style="--shiki-light:#A65E2B;--shiki-dark:#C99076;"> -e</span><span style="--shiki-light:#B5695977;--shiki-dark:#C98A7D77;"> &quot;</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">\${</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;">RED</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">}</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> 跳過</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">\${</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;">NC</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">}</span><span style="--shiki-light:#B5695977;--shiki-dark:#C98A7D77;">&quot;</span></span></code></pre></div></details><h2 id="faq" tabindex="-1">FAQ <a class="header-anchor" href="#faq" aria-label="Permalink to &quot;FAQ&quot;">​</a></h2><h3 id="q-git-diff-無輸出代表什麼" tabindex="-1">Q: <code>git diff</code> 無輸出代表什麼？ <a class="header-anchor" href="#q-git-diff-無輸出代表什麼" aria-label="Permalink to &quot;Q: \`git diff\` 無輸出代表什麼？&quot;">​</a></h3><p>兩種可能：</p><ol><li><strong>工作目錄乾淨</strong>：無任何修改</li><li><strong>所有修改已暫存</strong>：用 <code>git diff --staged</code> 查看</li></ol><h3 id="q-如何忽略空白差異" tabindex="-1">Q: 如何忽略空白差異？ <a class="header-anchor" href="#q-如何忽略空白差異" aria-label="Permalink to &quot;Q: 如何忽略空白差異？&quot;">​</a></h3><div class="language-bash vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki shiki-themes vitesse-light vitesse-dark vp-code"><code><span class="line"><span style="--shiki-light:#A0ADA0;--shiki-dark:#758575DD;"># 忽略所有空白變更</span></span>
<span class="line"><span style="--shiki-light:#59873A;--shiki-dark:#80A665;">git</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> diff</span><span style="--shiki-light:#A65E2B;--shiki-dark:#C99076;"> -w</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#A0ADA0;--shiki-dark:#758575DD;"># 忽略行尾空白</span></span>
<span class="line"><span style="--shiki-light:#59873A;--shiki-dark:#80A665;">git</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> diff</span><span style="--shiki-light:#A65E2B;--shiki-dark:#C99076;"> --ignore-space-at-eol</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#A0ADA0;--shiki-dark:#758575DD;"># 忽略空白行變更</span></span>
<span class="line"><span style="--shiki-light:#59873A;--shiki-dark:#80A665;">git</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> diff</span><span style="--shiki-light:#A65E2B;--shiki-dark:#C99076;"> --ignore-blank-lines</span></span></code></pre></div><p><strong>使用時機</strong>：當你只改了縮排或格式化程式碼時，這招可以過濾掉「無意義的差異」！</p><h3 id="q-如何將-diff-輸出存成檔案" tabindex="-1">Q: 如何將 diff 輸出存成檔案？ <a class="header-anchor" href="#q-如何將-diff-輸出存成檔案" aria-label="Permalink to &quot;Q: 如何將 diff 輸出存成檔案？&quot;">​</a></h3><div class="language-bash vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki shiki-themes vitesse-light vitesse-dark vp-code"><code><span class="line"><span style="--shiki-light:#A0ADA0;--shiki-dark:#758575DD;"># 存成 patch 檔</span></span>
<span class="line"><span style="--shiki-light:#59873A;--shiki-dark:#80A665;">git</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> diff</span><span style="--shiki-light:#AB5959;--shiki-dark:#CB7676;"> &gt;</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> changes.patch</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#A0ADA0;--shiki-dark:#758575DD;"># 稍後套用 patch</span></span>
<span class="line"><span style="--shiki-light:#59873A;--shiki-dark:#80A665;">git</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> apply</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> changes.patch</span></span></code></pre></div><h3 id="q-如何在-vs-code-中查看-git-diff" tabindex="-1">Q: 如何在 VS Code 中查看 Git Diff？ <a class="header-anchor" href="#q-如何在-vs-code-中查看-git-diff" aria-label="Permalink to &quot;Q: 如何在 VS Code 中查看 Git Diff？&quot;">​</a></h3><ol><li>點擊左側的<strong>原始檔控制</strong>圖示</li><li>點擊檔案名稱右側的<strong>開啟變更</strong>圖示</li><li>或使用指令：<code>code --diff file1 file2</code></li></ol><h2 id="延伸閱讀" tabindex="-1">延伸閱讀 <a class="header-anchor" href="#延伸閱讀" aria-label="Permalink to &quot;延伸閱讀&quot;">​</a></h2>`,53),m=h('<hr><h2 id="總結" tabindex="-1">總結 <a class="header-anchor" href="#總結" aria-label="Permalink to &quot;總結&quot;">​</a></h2><ol><li><code>git diff</code> 預設比較工作目錄 vs 暫存區（找出還沒加入暫存的改動）。</li><li><code>--staged</code> 比較暫存區 vs 最後 commit，提交前必用（避免交錯作業）！</li><li>可指定檔案路徑（<code>-- path/to/file</code>）或比較特定 commits（時光機功能）。</li><li><code>--word-diff</code> 顯示單字差異，適合文件編輯（精準找出改了哪個字）。</li><li><code>--stat</code> 顯示統計資訊，快速了解變更範圍（不用看程式碼也知道改了什麼）。</li></ol><p><strong>最後一句話</strong>：<code>git diff</code> 就是程式設計師的「放大鏡」，紅色刪除、綠色新增，像偵探一樣找出每個變更的蛛絲馬跡！熟練使用它，就能掌握程式碼的所有秘密！</p>',4);function v(b,E,q,_,x,P){const l=t("VPNolebaseInlineLinkPreview"),e=t("Mermaid"),r=t("NolebaseGitContributors"),g=t("NolebaseGitChangelog");return p(),A("div",null,[y,i("ul",null,[D,C,i("li",null,[s("參考："),a(l,{href:"./git-staging"},{default:n(()=>[s("Git 暫存區")]),_:1})])]),B,(p(),k(d,null,{default:n(()=>[a(e,{id:"mermaid-31",class:"mermaid",graph:"graph%20TB%0A%20%20%20%20A%5B%E5%B7%A5%E4%BD%9C%E7%9B%AE%E9%8C%84%3Cbr%2F%3EWorking%20Directory%5D%20--%3E%7Cgit%20diff%7C%20B%5B%E6%9A%AB%E5%AD%98%E5%8D%80%3Cbr%2F%3EStaging%20Area%5D%0A%20%20%20%20B%20--%3E%7Cgit%20diff%20--staged%7C%20C%5B%E6%9C%80%E5%BE%8C%20Commit%3Cbr%2F%3EHEAD%5D%0A%20%20%20%20A%20--%3E%7Cgit%20diff%20HEAD%7C%20C%0A%20%20%20%20C%20--%3E%7Cgit%20diff%20commit1%20commit2%7C%20D%5B%E5%85%B6%E4%BB%96%20Commits%5D%0A"})]),fallback:n(()=>[s(" Loading... ")]),_:1})),f,(p(),k(d,null,{default:n(()=>[a(e,{id:"mermaid-214",class:"mermaid",graph:"gitGraph%0A%20%20%20%20commit%20id%3A%20%22abc1234%22%0A%20%20%20%20commit%20id%3A%20%22def5678%22%0A%20%20%20%20commit%20id%3A%20%229d0e107%22%20tag%3A%20%22%E8%88%8A%E7%89%88%E6%9C%AC%22%0A%20%20%20%20commit%20id%3A%20%224f3c2b1%22%20tag%3A%20%22%E6%96%B0%E7%89%88%E6%9C%AC%22%0A%20%20%20%20commit%20id%3A%20%22HEAD%22%20type%3A%20HIGHLIGHT%0A"})]),fallback:n(()=>[s(" Loading... ")]),_:1})),u,i("ul",null,[i("li",null,[a(l,{href:"./git-staging"},{default:n(()=>[s("Git 暫存區")]),_:1}),s(" - 了解三大區域")]),i("li",null,[a(l,{href:"./git-log"},{default:n(()=>[s("Git Log")]),_:1}),s(" - 查看 commit 歷史")]),i("li",null,[a(l,{href:"https://git-scm.com/docs/git-show",target:"_blank",rel:"noreferrer"},{default:n(()=>[s("Git Show")]),_:1}),s(" - 查看特定 commit 內容")]),i("li",null,[a(l,{href:"https://git-scm.com/book/zh-tw/v2/Git-%E5%9F%BA%E7%A4%8E-%E6%AA%A2%E8%A6%96%E6%8F%90%E4%BA%A4%E7%9A%84%E6%AD%B7%E5%8F%B2%E8%A8%98%E9%8C%84",target:"_blank",rel:"noreferrer"},{default:n(()=>[s("Pro Git: 檢視提交的歷史記錄")]),_:1})])]),m,a(r),a(g)])}const T=o(c,[["render",v]]);export{w as __pageData,T as default};
