import{_ as p,c as e,b as r,w as a,au as d,J as s,V as t,E as i,o as h,a as g}from"./chunks/framework.C9sE8QFS.js";const b=JSON.parse('{"title":"å‡½æ•¸çµ„åˆã€Point-Free èˆ‡ç®¡ç·šåŒ–ï¼ˆPipe/Composeï¼‰","description":"ä»‹ç´¹å‡½æ•¸çµ„åˆã€pipe/compose å·®ç•°ã€Point-Free é¢¨æ ¼ã€æ‡¶æ±‚å€¼èˆ‡çœŸå¯¦å°ˆæ¡ˆæ•´åˆï¼Œä¸¦æä¾›ç·´ç¿’ã€FAQã€é™¤éŒ¯æŠ€å·§ã€‚","frontmatter":{"outline":"deep","head":[["meta",{"name":"author","content":"è¨±æ©ç¶¸"}],["meta",{"name":"keywords","content":"å‡½æ•¸çµ„åˆ,pipe,compose,point-free,æŸ¯é‡ŒåŒ–,transducer,ramda,rxjs,fp-ts,javascript"}],["meta",{"property":"og:title","content":"å‡½æ•¸çµ„åˆã€Point-Free èˆ‡ç®¡ç·šåŒ– | Pipe vs Compose å®Œå…¨æŒ‡å—"}],["meta",{"property":"og:description","content":"é€é pipe/compose å»ºç«‹è³‡æ–™è½‰æ›ç®¡ç·šï¼Œç†è§£ point-free é¢¨æ ¼ã€æƒ°æ€§æ±‚å€¼ã€èˆ‡ Ramdaã€RxJSã€fp-ts æ•´åˆï¼Œé™„ç·´ç¿’èˆ‡ FAQã€‚"}],["meta",{"property":"og:type","content":"article"}],["meta",{"property":"og:image","content":"https://lucashsu95.github.io/LucasHsu.dev/images/javascript-cover.png"}],["meta",{"property":"og:url","content":"https://lucashsu.dev/javascript/advanced/functional-composition"}],["meta",{"name":"description","content":"ä»‹ç´¹å‡½æ•¸çµ„åˆã€pipe/compose å·®ç•°ã€Point-Free é¢¨æ ¼ã€æ‡¶æ±‚å€¼èˆ‡çœŸå¯¦å°ˆæ¡ˆæ•´åˆï¼Œä¸¦æä¾›ç·´ç¿’ã€FAQã€é™¤éŒ¯æŠ€å·§ã€‚"}],["meta",{"name":"robots","content":"index, follow"}],["meta",{"name":"twitter:card","content":"summary_large_image"}],["meta",{"name":"twitter:title","content":"å‡½æ•¸çµ„åˆã€Point-Free èˆ‡ç®¡ç·šåŒ– | Pipe vs Compose å®Œå…¨æŒ‡å—"}],["meta",{"name":"twitter:description","content":"é€é pipe/compose å»ºç«‹è³‡æ–™è½‰æ›ç®¡ç·šï¼Œç†è§£ point-free é¢¨æ ¼ã€æƒ°æ€§æ±‚å€¼ã€èˆ‡ Ramdaã€RxJSã€fp-ts æ•´åˆï¼Œé™„ç·´ç¿’èˆ‡ FAQã€‚"}]]},"headers":[],"relativePath":"javascript/advanced/point-free.md","filePath":"javascript/advanced/point-free.md","lastUpdated":1766909534000}'),y={name:"javascript/advanced/point-free.md"},o=t('<h1 id="å‡½æ•¸çµ„åˆã€point-free-èˆ‡ç®¡ç·šåŒ–-pipe-compose" tabindex="-1">å‡½æ•¸çµ„åˆã€Point-Free èˆ‡ç®¡ç·šåŒ–ï¼ˆPipe/Composeï¼‰ <a class="header-anchor" href="#å‡½æ•¸çµ„åˆã€point-free-èˆ‡ç®¡ç·šåŒ–-pipe-compose" aria-label="Permalink to &quot;å‡½æ•¸çµ„åˆã€Point-Free èˆ‡ç®¡ç·šåŒ–ï¼ˆPipe/Composeï¼‰&quot;">â€‹</a></h1><h2 id="tl-dr" tabindex="-1">TL;DR <a class="header-anchor" href="#tl-dr" aria-label="Permalink to &quot;TL;DR&quot;">â€‹</a></h2><ul><li><code>compose</code> è‡ªå³å‘å·¦ã€<code>pipe</code> è‡ªå·¦å‘å³ï¼Œæœ¬è³ªéƒ½æ˜¯æŠŠå°å‡½æ•¸ä¸²æˆã€Œè³‡æ–™è™•ç†å·¥å» ã€ã€‚</li><li>Point-Free èšç„¦æ„åœ–ã€æ¸›å°‘æš«å­˜è®Šæ•¸ï¼Œä½†éåº¦æœƒé›£é™¤éŒ¯ï¼›åŠ  <code>tap/log</code> èˆ‡å¥½çš„å‘½åé™ä½é¢¨éšªã€‚</li><li>å¯¦å‹™ä¸Šå¯çµåˆ Ramda è‡ªå‹•æŸ¯é‡ŒåŒ–ã€RxJS/TaskEither è™•ç† async èˆ‡éŒ¯èª¤ï¼Œè³‡æ–™å¤§æ™‚ç”¨ lazy/transducer æ¸›å°‘é‡è¤‡è¿­ä»£ã€‚</li></ul><h2 id="å‰ç½®çŸ¥è­˜" tabindex="-1">å‰ç½®çŸ¥è­˜ <a class="header-anchor" href="#å‰ç½®çŸ¥è­˜" aria-label="Permalink to &quot;å‰ç½®çŸ¥è­˜&quot;">â€‹</a></h2><ul><li>ç®­é ­å‡½å¼èˆ‡æŸ¯é‡ŒåŒ–</li><li>é™£åˆ—é«˜éšå‡½å¼ï¼š<code>map</code>ã€<code>filter</code>ã€<code>reduce</code></li><li>Promise / async-await åŸºæœ¬ç”¨æ³•</li></ul><h2 id="ä¸€åœ–çœ‹æ‡‚è³‡æ–™æµ" tabindex="-1">ä¸€åœ–çœ‹æ‡‚è³‡æ–™æµ <a class="header-anchor" href="#ä¸€åœ–çœ‹æ‡‚è³‡æ–™æµ" aria-label="Permalink to &quot;ä¸€åœ–çœ‹æ‡‚è³‡æ–™æµ&quot;">â€‹</a></h2>',6),A=t(`<h2 id="pipe-vs-compose-æ€éº¼é¸" tabindex="-1">Pipe vs Composeï¼šæ€éº¼é¸ï¼Ÿ <a class="header-anchor" href="#pipe-vs-compose-æ€éº¼é¸" aria-label="Permalink to &quot;Pipe vs Composeï¼šæ€éº¼é¸ï¼Ÿ&quot;">â€‹</a></h2><table><thead><tr><th style="text-align:left;">è§€é»</th><th style="text-align:left;">Compose</th><th style="text-align:left;">Pipe</th></tr></thead><tbody><tr><td style="text-align:left;">æ–¹å‘</td><td style="text-align:left;">å³ â†’ å·¦ï¼ˆæ•¸å­¸å¯«æ³•ï¼‰</td><td style="text-align:left;">å·¦ â†’ å³ï¼ˆæ•˜äº‹å‹å–„ï¼‰</td></tr><tr><td style="text-align:left;">å¯è®€æ€§</td><td style="text-align:left;">é©åˆçŸ­éˆæˆ–å­¸è¡“èƒŒæ™¯</td><td style="text-align:left;">é©åˆé•·éˆã€åœ˜éšŠåˆä½œ</td></tr><tr><td style="text-align:left;">Ramda ä»‹é¢</td><td style="text-align:left;"><code>compose</code></td><td style="text-align:left;"><code>pipe</code> / <code>flow</code></td></tr><tr><td style="text-align:left;">æ¨è–¦å ´æ™¯</td><td style="text-align:left;">èˆ‡æ—¢æœ‰ compose ä¸²æ¥</td><td style="text-align:left;">æ–°åŠŸèƒ½ã€éœ€è¦æ’å…¥é™¤éŒ¯æ™‚</td></tr></tbody></table><blockquote><p>ç¿’æ…£ï¼šæ–°å¢åŠŸèƒ½ç›¡é‡ç”¨ <code>pipe</code>ï¼Œå› ç‚ºé–±è®€æ–¹å‘èˆ‡é™¤éŒ¯é»æ’å…¥éƒ½æ¯”è¼ƒç›´è¦ºã€‚</p></blockquote><h2 id="æ‰‹å¯«-pipe-compose-åŒæ­¥ç‰ˆ" tabindex="-1">æ‰‹å¯« Pipe / Composeï¼ˆåŒæ­¥ç‰ˆï¼‰ <a class="header-anchor" href="#æ‰‹å¯«-pipe-compose-åŒæ­¥ç‰ˆ" aria-label="Permalink to &quot;æ‰‹å¯« Pipe / Composeï¼ˆåŒæ­¥ç‰ˆï¼‰&quot;">â€‹</a></h2><div class="language-javascript vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">javascript</span><pre class="shiki shiki-themes vitesse-light vitesse-dark vp-code"><code><span class="line"><span style="--shiki-light:#AB5959;--shiki-dark:#CB7676;">const</span><span style="--shiki-light:#59873A;--shiki-dark:#80A665;"> compose</span><span style="--shiki-light:#999999;--shiki-dark:#666666;"> =</span><span style="--shiki-light:#999999;--shiki-dark:#666666;"> (...</span><span style="--shiki-light:#B07D48;--shiki-dark:#BD976A;">fns</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">)</span><span style="--shiki-light:#999999;--shiki-dark:#666666;"> =&gt;</span><span style="--shiki-light:#B07D48;--shiki-dark:#BD976A;"> x</span><span style="--shiki-light:#999999;--shiki-dark:#666666;"> =&gt;</span><span style="--shiki-light:#B07D48;--shiki-dark:#BD976A;"> fns</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">.</span><span style="--shiki-light:#59873A;--shiki-dark:#80A665;">reduceRight</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">((</span><span style="--shiki-light:#B07D48;--shiki-dark:#BD976A;">acc</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">,</span><span style="--shiki-light:#B07D48;--shiki-dark:#BD976A;"> fn</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">)</span><span style="--shiki-light:#999999;--shiki-dark:#666666;"> =&gt;</span><span style="--shiki-light:#59873A;--shiki-dark:#80A665;"> fn</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">(</span><span style="--shiki-light:#B07D48;--shiki-dark:#BD976A;">acc</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">),</span><span style="--shiki-light:#B07D48;--shiki-dark:#BD976A;"> x</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">);</span></span>
<span class="line"><span style="--shiki-light:#AB5959;--shiki-dark:#CB7676;">const</span><span style="--shiki-light:#59873A;--shiki-dark:#80A665;"> pipe</span><span style="--shiki-light:#999999;--shiki-dark:#666666;"> =</span><span style="--shiki-light:#999999;--shiki-dark:#666666;"> (...</span><span style="--shiki-light:#B07D48;--shiki-dark:#BD976A;">fns</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">)</span><span style="--shiki-light:#999999;--shiki-dark:#666666;"> =&gt;</span><span style="--shiki-light:#B07D48;--shiki-dark:#BD976A;"> x</span><span style="--shiki-light:#999999;--shiki-dark:#666666;"> =&gt;</span><span style="--shiki-light:#B07D48;--shiki-dark:#BD976A;"> fns</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">.</span><span style="--shiki-light:#59873A;--shiki-dark:#80A665;">reduce</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">((</span><span style="--shiki-light:#B07D48;--shiki-dark:#BD976A;">acc</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">,</span><span style="--shiki-light:#B07D48;--shiki-dark:#BD976A;"> fn</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">)</span><span style="--shiki-light:#999999;--shiki-dark:#666666;"> =&gt;</span><span style="--shiki-light:#59873A;--shiki-dark:#80A665;"> fn</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">(</span><span style="--shiki-light:#B07D48;--shiki-dark:#BD976A;">acc</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">),</span><span style="--shiki-light:#B07D48;--shiki-dark:#BD976A;"> x</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">);</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#AB5959;--shiki-dark:#CB7676;">const</span><span style="--shiki-light:#59873A;--shiki-dark:#80A665;"> add1</span><span style="--shiki-light:#999999;--shiki-dark:#666666;"> =</span><span style="--shiki-light:#B07D48;--shiki-dark:#BD976A;"> x</span><span style="--shiki-light:#999999;--shiki-dark:#666666;"> =&gt;</span><span style="--shiki-light:#B07D48;--shiki-dark:#BD976A;"> x</span><span style="--shiki-light:#AB5959;--shiki-dark:#CB7676;"> +</span><span style="--shiki-light:#2F798A;--shiki-dark:#4C9A91;"> 1</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">;</span></span>
<span class="line"><span style="--shiki-light:#AB5959;--shiki-dark:#CB7676;">const</span><span style="--shiki-light:#59873A;--shiki-dark:#80A665;"> square</span><span style="--shiki-light:#999999;--shiki-dark:#666666;"> =</span><span style="--shiki-light:#B07D48;--shiki-dark:#BD976A;"> x</span><span style="--shiki-light:#999999;--shiki-dark:#666666;"> =&gt;</span><span style="--shiki-light:#B07D48;--shiki-dark:#BD976A;"> x</span><span style="--shiki-light:#AB5959;--shiki-dark:#CB7676;"> *</span><span style="--shiki-light:#B07D48;--shiki-dark:#BD976A;"> x</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">;</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#59873A;--shiki-dark:#80A665;">pipe</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">(</span><span style="--shiki-light:#B07D48;--shiki-dark:#BD976A;">add1</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">,</span><span style="--shiki-light:#B07D48;--shiki-dark:#BD976A;"> square</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">)(</span><span style="--shiki-light:#2F798A;--shiki-dark:#4C9A91;">2</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">);</span><span style="--shiki-light:#A0ADA0;--shiki-dark:#758575DD;">   // 9</span></span>
<span class="line"><span style="--shiki-light:#59873A;--shiki-dark:#80A665;">compose</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">(</span><span style="--shiki-light:#B07D48;--shiki-dark:#BD976A;">square</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">,</span><span style="--shiki-light:#B07D48;--shiki-dark:#BD976A;"> add1</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">)(</span><span style="--shiki-light:#2F798A;--shiki-dark:#4C9A91;">2</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">);</span><span style="--shiki-light:#A0ADA0;--shiki-dark:#758575DD;"> // 9</span></span></code></pre></div><blockquote><p>å¤šåƒæ•¸å‡½æ•¸è«‹å…ˆæŸ¯é‡ŒåŒ–æˆã€Œå–®åƒæ•¸ç‰ˆã€ï¼Œæ‰èƒ½å®‰å…¨ä¸Ÿé€² pipeã€‚</p></blockquote><div class="language-javascript vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">javascript</span><pre class="shiki shiki-themes vitesse-light vitesse-dark vp-code"><code><span class="line"><span style="--shiki-light:#AB5959;--shiki-dark:#CB7676;">const</span><span style="--shiki-light:#59873A;--shiki-dark:#80A665;"> add</span><span style="--shiki-light:#999999;--shiki-dark:#666666;"> =</span><span style="--shiki-light:#B07D48;--shiki-dark:#BD976A;"> a</span><span style="--shiki-light:#999999;--shiki-dark:#666666;"> =&gt;</span><span style="--shiki-light:#B07D48;--shiki-dark:#BD976A;"> b</span><span style="--shiki-light:#999999;--shiki-dark:#666666;"> =&gt;</span><span style="--shiki-light:#B07D48;--shiki-dark:#BD976A;"> a</span><span style="--shiki-light:#AB5959;--shiki-dark:#CB7676;"> +</span><span style="--shiki-light:#B07D48;--shiki-dark:#BD976A;"> b</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">;</span></span>
<span class="line"><span style="--shiki-light:#AB5959;--shiki-dark:#CB7676;">const</span><span style="--shiki-light:#59873A;--shiki-dark:#80A665;"> multiply</span><span style="--shiki-light:#999999;--shiki-dark:#666666;"> =</span><span style="--shiki-light:#B07D48;--shiki-dark:#BD976A;"> a</span><span style="--shiki-light:#999999;--shiki-dark:#666666;"> =&gt;</span><span style="--shiki-light:#B07D48;--shiki-dark:#BD976A;"> b</span><span style="--shiki-light:#999999;--shiki-dark:#666666;"> =&gt;</span><span style="--shiki-light:#B07D48;--shiki-dark:#BD976A;"> a</span><span style="--shiki-light:#AB5959;--shiki-dark:#CB7676;"> *</span><span style="--shiki-light:#B07D48;--shiki-dark:#BD976A;"> b</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">;</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#59873A;--shiki-dark:#80A665;">pipe</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">(</span><span style="--shiki-light:#59873A;--shiki-dark:#80A665;">add</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">(</span><span style="--shiki-light:#2F798A;--shiki-dark:#4C9A91;">2</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">),</span><span style="--shiki-light:#59873A;--shiki-dark:#80A665;"> multiply</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">(</span><span style="--shiki-light:#2F798A;--shiki-dark:#4C9A91;">3</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">))(</span><span style="--shiki-light:#2F798A;--shiki-dark:#4C9A91;">4</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">);</span><span style="--shiki-light:#A0ADA0;--shiki-dark:#758575DD;"> // 18</span></span></code></pre></div><h2 id="point-free-å°‘æ‰“åƒæ•¸-å¤šèªªæ„åœ–" tabindex="-1">Point-Freeï¼šå°‘æ‰“åƒæ•¸ï¼Œå¤šèªªæ„åœ– <a class="header-anchor" href="#point-free-å°‘æ‰“åƒæ•¸-å¤šèªªæ„åœ–" aria-label="Permalink to &quot;Point-Freeï¼šå°‘æ‰“åƒæ•¸ï¼Œå¤šèªªæ„åœ–&quot;">â€‹</a></h2><div class="language-javascript vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">javascript</span><pre class="shiki shiki-themes vitesse-light vitesse-dark vp-code"><code><span class="line"><span style="--shiki-light:#A0ADA0;--shiki-dark:#758575DD;">// å‚³çµ±å¯«æ³•</span></span>
<span class="line"><span style="--shiki-light:#AB5959;--shiki-dark:#CB7676;">const</span><span style="--shiki-light:#59873A;--shiki-dark:#80A665;"> shout</span><span style="--shiki-light:#999999;--shiki-dark:#666666;"> =</span><span style="--shiki-light:#B07D48;--shiki-dark:#BD976A;"> str</span><span style="--shiki-light:#999999;--shiki-dark:#666666;"> =&gt;</span><span style="--shiki-light:#B07D48;--shiki-dark:#BD976A;"> str</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">.</span><span style="--shiki-light:#59873A;--shiki-dark:#80A665;">trim</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">().</span><span style="--shiki-light:#59873A;--shiki-dark:#80A665;">toUpperCase</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">()</span><span style="--shiki-light:#AB5959;--shiki-dark:#CB7676;"> +</span><span style="--shiki-light:#B5695977;--shiki-dark:#C98A7D77;"> &#39;</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;">!</span><span style="--shiki-light:#B5695977;--shiki-dark:#C98A7D77;">&#39;</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">;</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#A0ADA0;--shiki-dark:#758575DD;">// Point-Freeï¼ˆæ­é…è‡ªå‹•æŸ¯é‡ŒåŒ–ï¼‰</span></span>
<span class="line"><span style="--shiki-light:#1E754F;--shiki-dark:#4D9375;">import</span><span style="--shiki-light:#999999;--shiki-dark:#666666;"> {</span><span style="--shiki-light:#B07D48;--shiki-dark:#BD976A;"> pipe</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">,</span><span style="--shiki-light:#B07D48;--shiki-dark:#BD976A;"> trim</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">,</span><span style="--shiki-light:#B07D48;--shiki-dark:#BD976A;"> toUpper</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">,</span><span style="--shiki-light:#B07D48;--shiki-dark:#BD976A;"> concat</span><span style="--shiki-light:#999999;--shiki-dark:#666666;"> }</span><span style="--shiki-light:#1E754F;--shiki-dark:#4D9375;"> from</span><span style="--shiki-light:#B5695977;--shiki-dark:#C98A7D77;"> &#39;</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;">ramda</span><span style="--shiki-light:#B5695977;--shiki-dark:#C98A7D77;">&#39;</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">;</span></span>
<span class="line"><span style="--shiki-light:#AB5959;--shiki-dark:#CB7676;">const</span><span style="--shiki-light:#B07D48;--shiki-dark:#BD976A;"> shout</span><span style="--shiki-light:#999999;--shiki-dark:#666666;"> =</span><span style="--shiki-light:#59873A;--shiki-dark:#80A665;"> pipe</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">(</span><span style="--shiki-light:#B07D48;--shiki-dark:#BD976A;">trim</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">,</span><span style="--shiki-light:#B07D48;--shiki-dark:#BD976A;"> toUpper</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">,</span><span style="--shiki-light:#59873A;--shiki-dark:#80A665;"> concat</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">(</span><span style="--shiki-light:#B5695977;--shiki-dark:#C98A7D77;">&#39;</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;">!</span><span style="--shiki-light:#B5695977;--shiki-dark:#C98A7D77;">&#39;</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">));</span></span></code></pre></div><p>å„ªé»ï¼šç§»é™¤æš«å­˜è®Šæ•¸ã€èšç„¦é‚è¼¯ï¼›ç¼ºé»ï¼šå †ç–Šæ·±ï¼Œé™¤éŒ¯éœ€ <code>tap(console.log)</code> æˆ– <code>pipeWith</code> æ³¨å…¥ loggerã€‚</p><h2 id="é€²éš-éåŒæ­¥-å‹åˆ¥å®ˆè­·" tabindex="-1">é€²éšï¼šéåŒæ­¥ + å‹åˆ¥å®ˆè­· <a class="header-anchor" href="#é€²éš-éåŒæ­¥-å‹åˆ¥å®ˆè­·" aria-label="Permalink to &quot;é€²éšï¼šéåŒæ­¥ + å‹åˆ¥å®ˆè­·&quot;">â€‹</a></h2><div class="language-typescript vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">typescript</span><pre class="shiki shiki-themes vitesse-light vitesse-dark vp-code"><code><span class="line"><span style="--shiki-light:#1E754F;--shiki-dark:#4D9375;">import</span><span style="--shiki-light:#999999;--shiki-dark:#666666;"> {</span><span style="--shiki-light:#B07D48;--shiki-dark:#BD976A;"> pipe</span><span style="--shiki-light:#999999;--shiki-dark:#666666;"> }</span><span style="--shiki-light:#1E754F;--shiki-dark:#4D9375;"> from</span><span style="--shiki-light:#B5695977;--shiki-dark:#C98A7D77;"> &#39;</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;">ramda</span><span style="--shiki-light:#B5695977;--shiki-dark:#C98A7D77;">&#39;</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">;</span></span>
<span class="line"><span style="--shiki-light:#1E754F;--shiki-dark:#4D9375;">import</span><span style="--shiki-light:#AB5959;--shiki-dark:#CB7676;"> *</span><span style="--shiki-light:#1E754F;--shiki-dark:#4D9375;"> as</span><span style="--shiki-light:#B07D48;--shiki-dark:#BD976A;"> TE</span><span style="--shiki-light:#1E754F;--shiki-dark:#4D9375;"> from</span><span style="--shiki-light:#B5695977;--shiki-dark:#C98A7D77;"> &#39;</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;">fp-ts/TaskEither</span><span style="--shiki-light:#B5695977;--shiki-dark:#C98A7D77;">&#39;</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">;</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#AB5959;--shiki-dark:#CB7676;">const </span><span style="--shiki-light:#59873A;--shiki-dark:#80A665;">fetchUsers</span><span style="--shiki-light:#999999;--shiki-dark:#666666;"> =</span><span style="--shiki-light:#999999;--shiki-dark:#666666;"> ()</span><span style="--shiki-light:#999999;--shiki-dark:#666666;"> =&gt;</span><span style="--shiki-light:#B07D48;--shiki-dark:#BD976A;"> TE</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">.</span><span style="--shiki-light:#59873A;--shiki-dark:#80A665;">tryCatch</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">(</span></span>
<span class="line"><span style="--shiki-light:#999999;--shiki-dark:#666666;">  ()</span><span style="--shiki-light:#999999;--shiki-dark:#666666;"> =&gt;</span><span style="--shiki-light:#59873A;--shiki-dark:#80A665;"> fetch</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">(</span><span style="--shiki-light:#B5695977;--shiki-dark:#C98A7D77;">&#39;</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;">/api/users</span><span style="--shiki-light:#B5695977;--shiki-dark:#C98A7D77;">&#39;</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">).</span><span style="--shiki-light:#59873A;--shiki-dark:#80A665;">then</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">(</span><span style="--shiki-light:#B07D48;--shiki-dark:#BD976A;">r</span><span style="--shiki-light:#999999;--shiki-dark:#666666;"> =&gt;</span><span style="--shiki-light:#B07D48;--shiki-dark:#BD976A;"> r</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">.</span><span style="--shiki-light:#59873A;--shiki-dark:#80A665;">json</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">()),</span></span>
<span class="line"><span style="--shiki-light:#B07D48;--shiki-dark:#BD976A;">  e</span><span style="--shiki-light:#999999;--shiki-dark:#666666;"> =&gt;</span><span style="--shiki-light:#B5695977;--shiki-dark:#C98A7D77;"> \`</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;">network error: </span><span style="--shiki-light:#1E754F;--shiki-dark:#4D9375;">\${</span><span style="--shiki-light:#59873A;--shiki-dark:#80A665;">String</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">(</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;">e</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">)</span><span style="--shiki-light:#1E754F;--shiki-dark:#4D9375;">}</span><span style="--shiki-light:#B5695977;--shiki-dark:#C98A7D77;">\`</span></span>
<span class="line"><span style="--shiki-light:#999999;--shiki-dark:#666666;">);</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#AB5959;--shiki-dark:#CB7676;">const </span><span style="--shiki-light:#59873A;--shiki-dark:#80A665;">normalize</span><span style="--shiki-light:#999999;--shiki-dark:#666666;"> =</span><span style="--shiki-light:#B07D48;--shiki-dark:#BD976A;"> u</span><span style="--shiki-light:#999999;--shiki-dark:#666666;"> =&gt;</span><span style="--shiki-light:#999999;--shiki-dark:#666666;"> ({ </span><span style="--shiki-light:#998418;--shiki-dark:#B8A965;">name</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">: </span><span style="--shiki-light:#B07D48;--shiki-dark:#BD976A;">u</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">.</span><span style="--shiki-light:#B07D48;--shiki-dark:#BD976A;">name</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">?.</span><span style="--shiki-light:#59873A;--shiki-dark:#80A665;">trim</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">(), </span><span style="--shiki-light:#998418;--shiki-dark:#B8A965;">email</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">: </span><span style="--shiki-light:#B07D48;--shiki-dark:#BD976A;">u</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">.</span><span style="--shiki-light:#B07D48;--shiki-dark:#BD976A;">email</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">?.</span><span style="--shiki-light:#59873A;--shiki-dark:#80A665;">toLowerCase</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">() });</span></span>
<span class="line"><span style="--shiki-light:#AB5959;--shiki-dark:#CB7676;">const </span><span style="--shiki-light:#59873A;--shiki-dark:#80A665;">isValid</span><span style="--shiki-light:#999999;--shiki-dark:#666666;"> =</span><span style="--shiki-light:#B07D48;--shiki-dark:#BD976A;"> u</span><span style="--shiki-light:#999999;--shiki-dark:#666666;"> =&gt;</span><span style="--shiki-light:#59873A;--shiki-dark:#80A665;"> Boolean</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">(</span><span style="--shiki-light:#B07D48;--shiki-dark:#BD976A;">u</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">.</span><span style="--shiki-light:#B07D48;--shiki-dark:#BD976A;">email</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">);</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#AB5959;--shiki-dark:#CB7676;">const </span><span style="--shiki-light:#B07D48;--shiki-dark:#BD976A;">program</span><span style="--shiki-light:#999999;--shiki-dark:#666666;"> =</span><span style="--shiki-light:#59873A;--shiki-dark:#80A665;"> pipe</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">(</span></span>
<span class="line"><span style="--shiki-light:#B07D48;--shiki-dark:#BD976A;">  fetchUsers</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">,</span></span>
<span class="line"><span style="--shiki-light:#B07D48;--shiki-dark:#BD976A;">  TE</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">.</span><span style="--shiki-light:#59873A;--shiki-dark:#80A665;">map</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">(</span><span style="--shiki-light:#B07D48;--shiki-dark:#BD976A;">users</span><span style="--shiki-light:#999999;--shiki-dark:#666666;"> =&gt;</span><span style="--shiki-light:#B07D48;--shiki-dark:#BD976A;"> users</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">.</span><span style="--shiki-light:#59873A;--shiki-dark:#80A665;">filter</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">(</span><span style="--shiki-light:#B07D48;--shiki-dark:#BD976A;">isValid</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">).</span><span style="--shiki-light:#59873A;--shiki-dark:#80A665;">map</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">(</span><span style="--shiki-light:#B07D48;--shiki-dark:#BD976A;">normalize</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">)),</span></span>
<span class="line"><span style="--shiki-light:#B07D48;--shiki-dark:#BD976A;">  TE</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">.</span><span style="--shiki-light:#59873A;--shiki-dark:#80A665;">map</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">(</span><span style="--shiki-light:#B07D48;--shiki-dark:#BD976A;">users</span><span style="--shiki-light:#999999;--shiki-dark:#666666;"> =&gt;</span><span style="--shiki-light:#B07D48;--shiki-dark:#BD976A;"> users</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">.</span><span style="--shiki-light:#59873A;--shiki-dark:#80A665;">map</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">(</span><span style="--shiki-light:#B07D48;--shiki-dark:#BD976A;">u</span><span style="--shiki-light:#999999;--shiki-dark:#666666;"> =&gt;</span><span style="--shiki-light:#B5695977;--shiki-dark:#C98A7D77;"> \`</span><span style="--shiki-light:#1E754F;--shiki-dark:#4D9375;">\${</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;">u</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">.</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;">name</span><span style="--shiki-light:#1E754F;--shiki-dark:#4D9375;">}</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> &lt;</span><span style="--shiki-light:#1E754F;--shiki-dark:#4D9375;">\${</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;">u</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">.</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;">email</span><span style="--shiki-light:#1E754F;--shiki-dark:#4D9375;">}</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;">&gt;</span><span style="--shiki-light:#B5695977;--shiki-dark:#C98A7D77;">\`</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">).</span><span style="--shiki-light:#59873A;--shiki-dark:#80A665;">join</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">(</span><span style="--shiki-light:#B5695977;--shiki-dark:#C98A7D77;">&#39;</span><span style="--shiki-light:#A65E2B;--shiki-dark:#C99076;">\\n</span><span style="--shiki-light:#B5695977;--shiki-dark:#C98A7D77;">&#39;</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">))</span></span>
<span class="line"><span style="--shiki-light:#999999;--shiki-dark:#666666;">)();</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#59873A;--shiki-dark:#80A665;">program</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">().</span><span style="--shiki-light:#59873A;--shiki-dark:#80A665;">then</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">(</span><span style="--shiki-light:#B07D48;--shiki-dark:#BD976A;">console</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">.</span><span style="--shiki-light:#B07D48;--shiki-dark:#BD976A;">log</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">);</span></span></code></pre></div><ul><li><code>TaskEither</code> è®“éŒ¯èª¤è·¯å¾‘ä¹Ÿåœ¨ç®¡ç·šå…§ï¼Œå°é½Š async / success / failure ä¸‰è€…çš„è¡Œç‚ºã€‚</li><li>è‹¥ç”¨ RxJSï¼Œæ€è·¯ç›¸åŒï¼š<code>pipe(map, filter, tap)</code> é€£æ¥ Observableï¼›æœ€å¾Œæ‰åšå‰¯ä½œç”¨ã€‚</li></ul><h2 id="æ•ˆèƒ½èˆ‡å¯ç¶­è­·æ€§" tabindex="-1">æ•ˆèƒ½èˆ‡å¯ç¶­è­·æ€§ <a class="header-anchor" href="#æ•ˆèƒ½èˆ‡å¯ç¶­è­·æ€§" aria-label="Permalink to &quot;æ•ˆèƒ½èˆ‡å¯ç¶­è­·æ€§&quot;">â€‹</a></h2><ul><li>é¿å…å¤šæ¬¡ä¸­é–“é™£åˆ—ï¼šå¤šå€‹ <code>map/filter</code> å¯æ”¹ transducerï¼Œåˆä½µç‚ºä¸€æ¬¡è¿­ä»£ã€‚</li><li>é•·éˆåŠ è§€æ¸¬é»ï¼š<code>pipe(step1, tap(log), step2...)</code>ï¼Œå£è³‡æ–™ä¸€çœ¼çœ‹å‡ºã€‚</li><li>å‰¯ä½œç”¨ç•™åœ¨æœ«ç«¯ï¼Œå‰æ®µä¿æŒç´”å‡½æ•¸ä»¥åˆ©æ¸¬è©¦ã€‚</li><li>è³‡æ–™é‡å¤§æˆ–åªå–å‰å¹¾ç­†æ™‚ï¼Œæ”¹ç”¨ lazyï¼ˆç”Ÿæˆå™¨ / RxJSï¼‰æ¸›å°‘è¨˜æ†¶é«”å£“åŠ›ã€‚</li></ul><h2 id="å¯¦æˆ°ç·´ç¿’" tabindex="-1">å¯¦æˆ°ç·´ç¿’ <a class="header-anchor" href="#å¯¦æˆ°ç·´ç¿’" aria-label="Permalink to &quot;å¯¦æˆ°ç·´ç¿’&quot;">â€‹</a></h2><h3 id="ç·´ç¿’-1-pipe-é‡æ§‹-ç°¡å–®-â­" tabindex="-1">ç·´ç¿’ 1ï¼šPipe é‡æ§‹ï¼ˆç°¡å–®ï¼‰â­ <a class="header-anchor" href="#ç·´ç¿’-1-pipe-é‡æ§‹-ç°¡å–®-â­" aria-label="Permalink to &quot;ç·´ç¿’ 1ï¼šPipe é‡æ§‹ï¼ˆç°¡å–®ï¼‰â­&quot;">â€‹</a></h3><blockquote><p>æŠŠä¸‹åˆ—ç¨‹å¼æ”¹æˆ <code>pipe</code>ï¼š</p><div class="language-javascript vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">javascript</span><pre class="shiki shiki-themes vitesse-light vitesse-dark vp-code"><code><span class="line"><span style="--shiki-light:#AB5959;--shiki-dark:#CB7676;">const</span><span style="--shiki-light:#59873A;--shiki-dark:#80A665;"> format</span><span style="--shiki-light:#999999;--shiki-dark:#666666;"> =</span><span style="--shiki-light:#B07D48;--shiki-dark:#BD976A;"> str</span><span style="--shiki-light:#999999;--shiki-dark:#666666;"> =&gt;</span><span style="--shiki-light:#B07D48;--shiki-dark:#BD976A;"> str</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">.</span><span style="--shiki-light:#59873A;--shiki-dark:#80A665;">trim</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">().</span><span style="--shiki-light:#59873A;--shiki-dark:#80A665;">toLowerCase</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">();</span></span>
<span class="line"><span style="--shiki-light:#AB5959;--shiki-dark:#CB7676;">const</span><span style="--shiki-light:#59873A;--shiki-dark:#80A665;"> addTag</span><span style="--shiki-light:#999999;--shiki-dark:#666666;"> =</span><span style="--shiki-light:#B07D48;--shiki-dark:#BD976A;"> str</span><span style="--shiki-light:#999999;--shiki-dark:#666666;"> =&gt;</span><span style="--shiki-light:#B5695977;--shiki-dark:#C98A7D77;"> \`</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;">[tag] </span><span style="--shiki-light:#1E754F;--shiki-dark:#4D9375;">\${</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;">str</span><span style="--shiki-light:#1E754F;--shiki-dark:#4D9375;">}</span><span style="--shiki-light:#B5695977;--shiki-dark:#C98A7D77;">\`</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">;</span></span>
<span class="line"><span style="--shiki-light:#AB5959;--shiki-dark:#CB7676;">const</span><span style="--shiki-light:#B07D48;--shiki-dark:#BD976A;"> result</span><span style="--shiki-light:#999999;--shiki-dark:#666666;"> =</span><span style="--shiki-light:#59873A;--shiki-dark:#80A665;"> addTag</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">(</span><span style="--shiki-light:#59873A;--shiki-dark:#80A665;">format</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">(</span><span style="--shiki-light:#B07D48;--shiki-dark:#BD976A;">input</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">));</span></span></code></pre></div></blockquote><details class="details custom-block"><summary>ğŸ’¡ åƒè€ƒç­”æ¡ˆ</summary><div class="language-javascript vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">javascript</span><pre class="shiki shiki-themes vitesse-light vitesse-dark vp-code"><code><span class="line"><span style="--shiki-light:#1E754F;--shiki-dark:#4D9375;">import</span><span style="--shiki-light:#999999;--shiki-dark:#666666;"> {</span><span style="--shiki-light:#B07D48;--shiki-dark:#BD976A;"> pipe</span><span style="--shiki-light:#999999;--shiki-dark:#666666;"> }</span><span style="--shiki-light:#1E754F;--shiki-dark:#4D9375;"> from</span><span style="--shiki-light:#B5695977;--shiki-dark:#C98A7D77;"> &#39;</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;">ramda</span><span style="--shiki-light:#B5695977;--shiki-dark:#C98A7D77;">&#39;</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">;</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#AB5959;--shiki-dark:#CB7676;">const</span><span style="--shiki-light:#B07D48;--shiki-dark:#BD976A;"> format</span><span style="--shiki-light:#999999;--shiki-dark:#666666;"> =</span><span style="--shiki-light:#59873A;--shiki-dark:#80A665;"> pipe</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">(</span></span>
<span class="line"><span style="--shiki-light:#B07D48;--shiki-dark:#BD976A;">  str</span><span style="--shiki-light:#999999;--shiki-dark:#666666;"> =&gt;</span><span style="--shiki-light:#B07D48;--shiki-dark:#BD976A;"> str</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">.</span><span style="--shiki-light:#59873A;--shiki-dark:#80A665;">trim</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">(),</span></span>
<span class="line"><span style="--shiki-light:#B07D48;--shiki-dark:#BD976A;">  str</span><span style="--shiki-light:#999999;--shiki-dark:#666666;"> =&gt;</span><span style="--shiki-light:#B07D48;--shiki-dark:#BD976A;"> str</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">.</span><span style="--shiki-light:#59873A;--shiki-dark:#80A665;">toLowerCase</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">(),</span></span>
<span class="line"><span style="--shiki-light:#B07D48;--shiki-dark:#BD976A;">  str</span><span style="--shiki-light:#999999;--shiki-dark:#666666;"> =&gt;</span><span style="--shiki-light:#B5695977;--shiki-dark:#C98A7D77;"> \`</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;">[tag] </span><span style="--shiki-light:#1E754F;--shiki-dark:#4D9375;">\${</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;">str</span><span style="--shiki-light:#1E754F;--shiki-dark:#4D9375;">}</span><span style="--shiki-light:#B5695977;--shiki-dark:#C98A7D77;">\`</span></span>
<span class="line"><span style="--shiki-light:#999999;--shiki-dark:#666666;">);</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#59873A;--shiki-dark:#80A665;">format</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">(</span><span style="--shiki-light:#B07D48;--shiki-dark:#BD976A;">input</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">);</span></span></code></pre></div></details><h3 id="ç·´ç¿’-2-point-free-åˆ¤æ–·-ç°¡å–®-â­" tabindex="-1">ç·´ç¿’ 2ï¼šPoint-Free åˆ¤æ–·ï¼ˆç°¡å–®ï¼‰â­ <a class="header-anchor" href="#ç·´ç¿’-2-point-free-åˆ¤æ–·-ç°¡å–®-â­" aria-label="Permalink to &quot;ç·´ç¿’ 2ï¼šPoint-Free åˆ¤æ–·ï¼ˆç°¡å–®ï¼‰â­&quot;">â€‹</a></h3><blockquote><p>å¯«ä¸€å€‹ <code>isAdult</code>ï¼Œè³‡æ–™æ ¼å¼ <code>{ age: number }</code>ï¼Œè¦æ±‚ Point-Freeã€‚</p></blockquote><details class="details custom-block"><summary>ğŸ’¡ åƒè€ƒç­”æ¡ˆ</summary><div class="language-javascript vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">javascript</span><pre class="shiki shiki-themes vitesse-light vitesse-dark vp-code"><code><span class="line"><span style="--shiki-light:#1E754F;--shiki-dark:#4D9375;">import</span><span style="--shiki-light:#999999;--shiki-dark:#666666;"> {</span><span style="--shiki-light:#B07D48;--shiki-dark:#BD976A;"> pipe</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">,</span><span style="--shiki-light:#B07D48;--shiki-dark:#BD976A;"> prop</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">,</span><span style="--shiki-light:#B07D48;--shiki-dark:#BD976A;"> gte</span><span style="--shiki-light:#999999;--shiki-dark:#666666;"> }</span><span style="--shiki-light:#1E754F;--shiki-dark:#4D9375;"> from</span><span style="--shiki-light:#B5695977;--shiki-dark:#C98A7D77;"> &#39;</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;">ramda</span><span style="--shiki-light:#B5695977;--shiki-dark:#C98A7D77;">&#39;</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">;</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#AB5959;--shiki-dark:#CB7676;">const</span><span style="--shiki-light:#B07D48;--shiki-dark:#BD976A;"> isAdult</span><span style="--shiki-light:#999999;--shiki-dark:#666666;"> =</span><span style="--shiki-light:#59873A;--shiki-dark:#80A665;"> pipe</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">(</span><span style="--shiki-light:#59873A;--shiki-dark:#80A665;">prop</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">(</span><span style="--shiki-light:#B5695977;--shiki-dark:#C98A7D77;">&#39;</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;">age</span><span style="--shiki-light:#B5695977;--shiki-dark:#C98A7D77;">&#39;</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">),</span><span style="--shiki-light:#59873A;--shiki-dark:#80A665;"> gte</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">(</span><span style="--shiki-light:#2F798A;--shiki-dark:#4C9A91;">18</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">));</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#59873A;--shiki-dark:#80A665;">isAdult</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">({</span><span style="--shiki-light:#998418;--shiki-dark:#B8A965;"> age</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">:</span><span style="--shiki-light:#2F798A;--shiki-dark:#4C9A91;"> 20</span><span style="--shiki-light:#999999;--shiki-dark:#666666;"> });</span><span style="--shiki-light:#A0ADA0;--shiki-dark:#758575DD;"> // true</span></span></code></pre></div></details><h3 id="ç·´ç¿’-3-éåŒæ­¥ç®¡ç·š-ä¸­ç­‰-â­â­" tabindex="-1">ç·´ç¿’ 3ï¼šéåŒæ­¥ç®¡ç·šï¼ˆä¸­ç­‰ï¼‰â­â­ <a class="header-anchor" href="#ç·´ç¿’-3-éåŒæ­¥ç®¡ç·š-ä¸­ç­‰-â­â­" aria-label="Permalink to &quot;ç·´ç¿’ 3ï¼šéåŒæ­¥ç®¡ç·šï¼ˆä¸­ç­‰ï¼‰â­â­&quot;">â€‹</a></h3><blockquote><p>éœ€æ±‚ï¼šå–å¾— <code>/api/posts</code>ï¼Œ</p><ol><li>ç¯©æ‰æ²’æœ‰ <code>title</code> çš„é …ç›®ï¼›</li><li>åªä¿ç•™ <code>title</code> èˆ‡ <code>slug</code>ï¼›</li><li>å›å‚³å­—ä¸²ï¼Œæ¯è¡Œä¸€ç¯‡ï¼› è«‹ç”¨ <code>TaskEither</code> æˆ– Promise + <code>pipe</code> å®Œæˆã€‚</li></ol></blockquote><details class="details custom-block"><summary>ğŸ’¡ åƒè€ƒç­”æ¡ˆèˆ‡æç¤º</summary><div class="language-typescript vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">typescript</span><pre class="shiki shiki-themes vitesse-light vitesse-dark vp-code"><code><span class="line"><span style="--shiki-light:#1E754F;--shiki-dark:#4D9375;">import</span><span style="--shiki-light:#999999;--shiki-dark:#666666;"> {</span><span style="--shiki-light:#B07D48;--shiki-dark:#BD976A;"> pipe</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">,</span><span style="--shiki-light:#B07D48;--shiki-dark:#BD976A;"> filter</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">,</span><span style="--shiki-light:#B07D48;--shiki-dark:#BD976A;"> map</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">,</span><span style="--shiki-light:#B07D48;--shiki-dark:#BD976A;"> pick</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">,</span><span style="--shiki-light:#B07D48;--shiki-dark:#BD976A;"> join</span><span style="--shiki-light:#999999;--shiki-dark:#666666;"> }</span><span style="--shiki-light:#1E754F;--shiki-dark:#4D9375;"> from</span><span style="--shiki-light:#B5695977;--shiki-dark:#C98A7D77;"> &#39;</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;">ramda</span><span style="--shiki-light:#B5695977;--shiki-dark:#C98A7D77;">&#39;</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">;</span></span>
<span class="line"><span style="--shiki-light:#1E754F;--shiki-dark:#4D9375;">import</span><span style="--shiki-light:#AB5959;--shiki-dark:#CB7676;"> *</span><span style="--shiki-light:#1E754F;--shiki-dark:#4D9375;"> as</span><span style="--shiki-light:#B07D48;--shiki-dark:#BD976A;"> TE</span><span style="--shiki-light:#1E754F;--shiki-dark:#4D9375;"> from</span><span style="--shiki-light:#B5695977;--shiki-dark:#C98A7D77;"> &#39;</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;">fp-ts/TaskEither</span><span style="--shiki-light:#B5695977;--shiki-dark:#C98A7D77;">&#39;</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">;</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#AB5959;--shiki-dark:#CB7676;">const </span><span style="--shiki-light:#B07D48;--shiki-dark:#BD976A;">pipeline</span><span style="--shiki-light:#999999;--shiki-dark:#666666;"> =</span><span style="--shiki-light:#59873A;--shiki-dark:#80A665;"> pipe</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">(</span></span>
<span class="line"><span style="--shiki-light:#59873A;--shiki-dark:#80A665;">  filter</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">(</span><span style="--shiki-light:#B07D48;--shiki-dark:#BD976A;">p</span><span style="--shiki-light:#999999;--shiki-dark:#666666;"> =&gt;</span><span style="--shiki-light:#B07D48;--shiki-dark:#BD976A;"> p</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">.</span><span style="--shiki-light:#B07D48;--shiki-dark:#BD976A;">title</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">),</span></span>
<span class="line"><span style="--shiki-light:#59873A;--shiki-dark:#80A665;">  map</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">(</span><span style="--shiki-light:#59873A;--shiki-dark:#80A665;">pick</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">([</span><span style="--shiki-light:#B5695977;--shiki-dark:#C98A7D77;">&#39;</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;">title</span><span style="--shiki-light:#B5695977;--shiki-dark:#C98A7D77;">&#39;</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">,</span><span style="--shiki-light:#B5695977;--shiki-dark:#C98A7D77;"> &#39;</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;">slug</span><span style="--shiki-light:#B5695977;--shiki-dark:#C98A7D77;">&#39;</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">])),</span></span>
<span class="line"><span style="--shiki-light:#B07D48;--shiki-dark:#BD976A;">  posts</span><span style="--shiki-light:#999999;--shiki-dark:#666666;"> =&gt;</span><span style="--shiki-light:#59873A;--shiki-dark:#80A665;"> join</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">(</span><span style="--shiki-light:#B5695977;--shiki-dark:#C98A7D77;">&#39;</span><span style="--shiki-light:#A65E2B;--shiki-dark:#C99076;">\\n</span><span style="--shiki-light:#B5695977;--shiki-dark:#C98A7D77;">&#39;</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">,</span><span style="--shiki-light:#B07D48;--shiki-dark:#BD976A;"> posts</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">.</span><span style="--shiki-light:#59873A;--shiki-dark:#80A665;">map</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">(</span><span style="--shiki-light:#B07D48;--shiki-dark:#BD976A;">p</span><span style="--shiki-light:#999999;--shiki-dark:#666666;"> =&gt;</span><span style="--shiki-light:#B5695977;--shiki-dark:#C98A7D77;"> \`</span><span style="--shiki-light:#1E754F;--shiki-dark:#4D9375;">\${</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;">p</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">.</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;">title</span><span style="--shiki-light:#1E754F;--shiki-dark:#4D9375;">}</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> - /blog/</span><span style="--shiki-light:#1E754F;--shiki-dark:#4D9375;">\${</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;">p</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">.</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;">slug</span><span style="--shiki-light:#1E754F;--shiki-dark:#4D9375;">}</span><span style="--shiki-light:#B5695977;--shiki-dark:#C98A7D77;">\`</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">))</span></span>
<span class="line"><span style="--shiki-light:#999999;--shiki-dark:#666666;">);</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#AB5959;--shiki-dark:#CB7676;">const </span><span style="--shiki-light:#B07D48;--shiki-dark:#BD976A;">program</span><span style="--shiki-light:#999999;--shiki-dark:#666666;"> =</span><span style="--shiki-light:#B07D48;--shiki-dark:#BD976A;"> TE</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">.</span><span style="--shiki-light:#59873A;--shiki-dark:#80A665;">tryCatch</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">(</span></span>
<span class="line"><span style="--shiki-light:#999999;--shiki-dark:#666666;">  ()</span><span style="--shiki-light:#999999;--shiki-dark:#666666;"> =&gt;</span><span style="--shiki-light:#59873A;--shiki-dark:#80A665;"> fetch</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">(</span><span style="--shiki-light:#B5695977;--shiki-dark:#C98A7D77;">&#39;</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;">/api/posts</span><span style="--shiki-light:#B5695977;--shiki-dark:#C98A7D77;">&#39;</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">).</span><span style="--shiki-light:#59873A;--shiki-dark:#80A665;">then</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">(</span><span style="--shiki-light:#B07D48;--shiki-dark:#BD976A;">r</span><span style="--shiki-light:#999999;--shiki-dark:#666666;"> =&gt;</span><span style="--shiki-light:#B07D48;--shiki-dark:#BD976A;"> r</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">.</span><span style="--shiki-light:#59873A;--shiki-dark:#80A665;">json</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">()).</span><span style="--shiki-light:#59873A;--shiki-dark:#80A665;">then</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">(</span><span style="--shiki-light:#B07D48;--shiki-dark:#BD976A;">pipeline</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">),</span></span>
<span class="line"><span style="--shiki-light:#B07D48;--shiki-dark:#BD976A;">  e</span><span style="--shiki-light:#999999;--shiki-dark:#666666;"> =&gt;</span><span style="--shiki-light:#B5695977;--shiki-dark:#C98A7D77;"> \`</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;">fetch failed: </span><span style="--shiki-light:#1E754F;--shiki-dark:#4D9375;">\${</span><span style="--shiki-light:#59873A;--shiki-dark:#80A665;">String</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">(</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;">e</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">)</span><span style="--shiki-light:#1E754F;--shiki-dark:#4D9375;">}</span><span style="--shiki-light:#B5695977;--shiki-dark:#C98A7D77;">\`</span></span>
<span class="line"><span style="--shiki-light:#999999;--shiki-dark:#666666;">);</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#59873A;--shiki-dark:#80A665;">program</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">().</span><span style="--shiki-light:#59873A;--shiki-dark:#80A665;">then</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">(</span><span style="--shiki-light:#B07D48;--shiki-dark:#BD976A;">console</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">.</span><span style="--shiki-light:#B07D48;--shiki-dark:#BD976A;">log</span><span style="--shiki-light:#999999;--shiki-dark:#666666;">);</span></span></code></pre></div></details><h2 id="faq" tabindex="-1">FAQ <a class="header-anchor" href="#faq" aria-label="Permalink to &quot;FAQ&quot;">â€‹</a></h2><ul><li>Pipe èˆ‡ Compose æœ‰æ€§èƒ½å·®å—ï¼Ÿå·®ç•°æ¥µå°ï¼Œæ•ˆèƒ½å–æ±ºæ–¼æ¯å€‹å‡½æ•¸åšçš„äº‹èˆ‡è¿­ä»£æ¬¡æ•¸ã€‚</li><li>Point-Free å¾ˆé›£ debugï¼ŸåŠ  <code>tap(console.log)</code> æˆ– <code>pipeWith</code> æ³¨å…¥ loggerï¼›å¿…è¦æ™‚é€€å›å…·ååƒæ•¸ç‰ˆã€‚</li><li>ä½•æ™‚ç”¨æƒ°æ€§æ±‚å€¼ï¼Ÿè³‡æ–™é‡å¤§ã€åªéœ€å‰å¹¾ç­†æˆ–è¦é¿å…å¤šæ¬¡ä¸­é–“é™£åˆ—æ™‚ï¼Œæ”¹ç”¨ç”Ÿæˆå™¨/RxJSã€‚</li></ul><h2 id="å»¶ä¼¸é–±è®€" tabindex="-1">å»¶ä¼¸é–±è®€ <a class="header-anchor" href="#å»¶ä¼¸é–±è®€" aria-label="Permalink to &quot;å»¶ä¼¸é–±è®€&quot;">â€‹</a></h2><ul><li>Ramda å®˜æ–¹æ–‡ä»¶ï¼š<code>pipe</code> / <code>compose</code></li><li>RxJS å®˜æ–¹æ–‡ä»¶ï¼š<code>pipe</code> èˆ‡å¸¸ç”¨ operators</li><li>fp-ts <code>TaskEither</code> æŒ‡å—ï¼šæŠŠéŒ¯èª¤è·¯å¾‘ç´å…¥å‹åˆ¥</li><li>Kyle Shevlinï¼šJust Enough FP ç³»åˆ—ï¼ˆCompositionã€Point-Freeï¼‰</li></ul><h2 id="å°çµ" tabindex="-1">å°çµ <a class="header-anchor" href="#å°çµ" aria-label="Permalink to &quot;å°çµ&quot;">â€‹</a></h2><ul><li><code>pipe/compose</code> è®“å°å‡½æ•¸æ‹¼æˆå¯è®€çš„è³‡æ–™æµï¼Œé©åˆé€æ­¥é‡æ§‹æ—¢æœ‰è¿´åœˆã€‚</li><li>Point-Free æå‡æ„åœ–æ¸…æ™°ï¼Œä½†å‹™å¿…æ­é…é™¤éŒ¯é‰¤å­èˆ‡è‰¯å¥½å‘½åã€‚</li><li>å‰¯ä½œç”¨å¾Œç½®ã€å¿…è¦æ™‚ç”¨ lazy/transducerï¼Œè®“ç®¡ç·šåŒæ™‚å…¼é¡§æ€§èƒ½èˆ‡å¯æ¸¬è©¦æ€§ã€‚---</li></ul>`,31);function c(B,D,m,C,u,f){const k=i("Mermaid"),n=i("NolebaseGitContributors"),l=i("NolebaseGitChangelog");return h(),e("div",null,[o,(h(),r(d,null,{default:a(()=>[s(k,{id:"mermaid-46",class:"mermaid",graph:"flowchart%20LR%0A%20%20%20%20data%5B%E8%BC%B8%E5%85%A5%E8%B3%87%E6%96%99%5D%20--%3E%20clean%5B%E6%B8%85%E6%B4%97%3A%20trim%E3%80%81lowerCase%5D%0A%20%20%20%20clean%20--%3E%20validate%5B%E9%A9%97%E8%AD%89%3A%20schema%20%2F%20type%20guard%5D%0A%20%20%20%20validate%20--%3E%20enrich%5B%E5%8A%A0%E6%96%99%3A%20enrich%20%2F%20mask%5D%0A%20%20%20%20enrich%20--%3E%20output%5B%E8%BC%B8%E5%87%BA%3A%20%E5%AD%97%E4%B8%B2%E6%88%96%E7%89%A9%E4%BB%B6%5D%0A%20%20%20%20classDef%20step%20stroke%3A%231890ff%2Cstroke-width%3A1px%3B%0A%20%20%20%20class%20clean%2Cvalidate%2Cenrich%20step%3B%0A"})]),fallback:a(()=>[g(" Loading... ")]),_:1})),A,s(n),s(l)])}const E=p(y,[["render",c]]);export{b as __pageData,E as default};
