import{_ as p,c as e,m as s,J as a,w as h,a as i,V as r,E as l,o as d}from"./chunks/framework.RK-3fdBv.js";const b=JSON.parse('{"title":"è³‡æ–™åº«ç´¢å¼•åŸºç¤å…¥é–€ï¼šå¾é›¶é–‹å§‹ç†è§£ç´¢å¼•åŸç†","description":"","frontmatter":{"outline":"deep","head":[["meta",{"name":"author","content":"è¨±æ©ç¶¸"}],["meta",{"name":"keywords","content":"è³‡æ–™åº«ç´¢å¼•,MySQLç´¢å¼•,PostgreSQLç´¢å¼•,è³‡æ–™åº«å„ªåŒ–,SQLæ•ˆèƒ½,ç´¢å¼•è¨­è¨ˆ"}],["meta",{"property":"og:title","content":"è³‡æ–™åº«ç´¢å¼•åŸºç¤å…¥é–€ï¼šå¾é›¶é–‹å§‹ç†è§£ç´¢å¼•åŸç†"}],["meta",{"property":"og:description","content":"å®Œæ•´çš„è³‡æ–™åº«ç´¢å¼•å…¥é–€æ•™å­¸ï¼Œå¾åŸºç¤æ¦‚å¿µåˆ°å¯¦æˆ°æ‡‰ç”¨ã€‚å­¸ç¿’MySQLã€PostgreSQLç´¢å¼•å»ºç«‹ã€å„ªåŒ–æŠ€å·§ï¼Œæå‡æŸ¥è©¢æ•ˆèƒ½å¾O(n)åˆ°O(log n)"}],["meta",{"property":"og:type","content":"article"}],["meta",{"property":"og:image","content":"./database-index-basic-cover.png"}]]},"headers":[],"relativePath":"database/database-index-basic.md","filePath":"database/database-index-basic.md","lastUpdated":1758447054000}'),A={name:"database/database-index-basic.md"},D=s("h1",{id:"è³‡æ–™åº«ç´¢å¼•åŸºç¤å…¥é–€-å¾é›¶é–‹å§‹ç†è§£ç´¢å¼•åŸç†",tabindex:"-1"},[i("è³‡æ–™åº«ç´¢å¼•åŸºç¤å…¥é–€ï¼šå¾é›¶é–‹å§‹ç†è§£ç´¢å¼•åŸç† "),s("a",{class:"header-anchor",href:"#è³‡æ–™åº«ç´¢å¼•åŸºç¤å…¥é–€-å¾é›¶é–‹å§‹ç†è§£ç´¢å¼•åŸç†","aria-label":'Permalink to "è³‡æ–™åº«ç´¢å¼•åŸºç¤å…¥é–€ï¼šå¾é›¶é–‹å§‹ç†è§£ç´¢å¼•åŸç†"'},"â€‹")],-1),g=s("blockquote",null,[s("p",null,[s("strong",null,"TL;DRï¼š"),i(" æœ¬æ–‡å°‡å¸¶ä½ å¾é›¶é–‹å§‹ç†è§£è³‡æ–™åº«ç´¢å¼•ï¼Œå­¸æœƒå¦‚ä½•é€éå»ºç«‹é©ç•¶çš„ç´¢å¼•å°‡æŸ¥è©¢æ•ˆèƒ½å¾ "),s("code",null,"O(n)"),i(" æå‡åˆ° "),s("code",null,"O(log n)"),i("ï¼Œæ¶µè“‹ MySQLã€PostgreSQL ç­‰ä¸»æµè³‡æ–™åº«çš„ç´¢å¼•è¨­è¨ˆåŸå‰‡èˆ‡æœ€ä½³å¯¦è¸ã€‚")])],-1),E=s("h2",{id:"ğŸ“‹-æ–‡ç« ç›®éŒ„",tabindex:"-1"},[i("ğŸ“‹ æ–‡ç« ç›®éŒ„ "),s("a",{class:"header-anchor",href:"#ğŸ“‹-æ–‡ç« ç›®éŒ„","aria-label":'Permalink to "ğŸ“‹ æ–‡ç« ç›®éŒ„"'},"â€‹")],-1),y=r(`<h2 id="ç‚ºä»€éº¼éœ€è¦è³‡æ–™åº«ç´¢å¼•" tabindex="-1">ç‚ºä»€éº¼éœ€è¦è³‡æ–™åº«ç´¢å¼•ï¼Ÿ <a class="header-anchor" href="#ç‚ºä»€éº¼éœ€è¦è³‡æ–™åº«ç´¢å¼•" aria-label="Permalink to &quot;ç‚ºä»€éº¼éœ€è¦è³‡æ–™åº«ç´¢å¼•ï¼Ÿ&quot;">â€‹</a></h2><p>æƒ³åƒä¸€ä¸‹ï¼Œä½ è¦åœ¨ä¸€æœ¬åšé”1000é çš„å­—å…¸ä¸­æ‰¾åˆ°ã€ŒAppleã€é€™å€‹å–®å­—ã€‚å¦‚æœæ²’æœ‰ç´¢å¼•ï¼Œä½ åªèƒ½å¾ç¬¬ä¸€é é–‹å§‹é€é ç¿»æ‰¾ï¼Œé€™å¯èƒ½éœ€è¦å¾ˆé•·æ™‚é–“ã€‚ä½†å¦‚æœæœ‰ç›®éŒ„ï¼Œä½ å¯ä»¥å¿«é€Ÿå®šä½åˆ°Aé–‹é ­çš„éƒ¨åˆ†ï¼Œè¿…é€Ÿæ‰¾åˆ°ç›®æ¨™ã€‚</p><p>è³‡æ–™åº«ç´¢å¼•çš„ä½œç”¨å°±æ˜¯å¦‚æ­¤ï¼š</p><ul><li><strong>é¿å…å…¨è¡¨æƒæ</strong>ï¼šæ²’æœ‰ç´¢å¼•æ™‚ï¼Œè³‡æ–™åº«å¿…é ˆæª¢æŸ¥æ¯ä¸€ç­†è³‡æ–™</li><li><strong>å¿«é€Ÿå®šä½</strong>ï¼šæœ‰ç´¢å¼•æ™‚ï¼Œå¯ä»¥ç›´æ¥è·³åˆ°ç›®æ¨™è³‡æ–™ä½ç½®</li><li><strong>æå‡æ•ˆèƒ½</strong>ï¼šå¾<code>O(n)</code>ç·šæ€§æŸ¥è©¢æ”¹å–„ç‚º<code>O(log n)</code>å°æ•¸æŸ¥è©¢</li></ul><h2 id="ç´¢å¼•çš„åŸºæœ¬å·¥ä½œåŸç†" tabindex="-1">ç´¢å¼•çš„åŸºæœ¬å·¥ä½œåŸç† <a class="header-anchor" href="#ç´¢å¼•çš„åŸºæœ¬å·¥ä½œåŸç†" aria-label="Permalink to &quot;ç´¢å¼•çš„åŸºæœ¬å·¥ä½œåŸç†&quot;">â€‹</a></h2><h3 id="_1-ç´¢å¼•çµæ§‹æ¦‚å¿µ" tabindex="-1">1. ç´¢å¼•çµæ§‹æ¦‚å¿µ <a class="header-anchor" href="#_1-ç´¢å¼•çµæ§‹æ¦‚å¿µ" aria-label="Permalink to &quot;1. ç´¢å¼•çµæ§‹æ¦‚å¿µ&quot;">â€‹</a></h3><div class="language-sql vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">sql</span><pre class="shiki shiki-themes vitesse-light vitesse-dark vp-code"><code><span class="line"><span style="--shiki-light:#A0ADA0;--shiki-dark:#758575DD;">-- å‡è¨­æœ‰ä¸€å€‹ç”¨æˆ¶è¡¨</span></span>
<span class="line"><span style="--shiki-light:#1E754F;--shiki-dark:#4D9375;">CREATE</span><span style="--shiki-light:#1E754F;--shiki-dark:#4D9375;"> TABLE</span><span style="--shiki-light:#59873A;--shiki-dark:#80A665;"> users</span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE;"> (</span></span>
<span class="line"><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE;">    id </span><span style="--shiki-light:#AB5959;--shiki-dark:#CB7676;">INT</span><span style="--shiki-light:#AB5959;--shiki-dark:#CB7676;"> PRIMARY KEY</span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE;">,</span></span>
<span class="line"><span style="--shiki-light:#1E754F;--shiki-dark:#4D9375;">    name</span><span style="--shiki-light:#AB5959;--shiki-dark:#CB7676;"> VARCHAR</span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE;">(</span><span style="--shiki-light:#2F798A;--shiki-dark:#4C9A91;">50</span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE;">),</span></span>
<span class="line"><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE;">    email </span><span style="--shiki-light:#AB5959;--shiki-dark:#CB7676;">VARCHAR</span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE;">(</span><span style="--shiki-light:#2F798A;--shiki-dark:#4C9A91;">100</span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE;">),</span></span>
<span class="line"><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE;">    age </span><span style="--shiki-light:#AB5959;--shiki-dark:#CB7676;">INT</span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE;">,</span></span>
<span class="line"><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE;">    city </span><span style="--shiki-light:#AB5959;--shiki-dark:#CB7676;">VARCHAR</span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE;">(</span><span style="--shiki-light:#2F798A;--shiki-dark:#4C9A91;">50</span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE;">)</span></span>
<span class="line"><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE;">);</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#A0ADA0;--shiki-dark:#758575DD;">-- æ’å…¥ä¸€äº›æ¸¬è©¦è³‡æ–™</span></span>
<span class="line"><span style="--shiki-light:#1E754F;--shiki-dark:#4D9375;">INSERT INTO</span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE;"> users </span><span style="--shiki-light:#1E754F;--shiki-dark:#4D9375;">VALUES</span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE;"> </span></span>
<span class="line"><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE;">(</span><span style="--shiki-light:#2F798A;--shiki-dark:#4C9A91;">1</span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE;">, </span><span style="--shiki-light:#B5695977;--shiki-dark:#C98A7D77;">&#39;</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;">å¼µå°æ˜</span><span style="--shiki-light:#B5695977;--shiki-dark:#C98A7D77;">&#39;</span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE;">, </span><span style="--shiki-light:#B5695977;--shiki-dark:#C98A7D77;">&#39;</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;">ming@email.com</span><span style="--shiki-light:#B5695977;--shiki-dark:#C98A7D77;">&#39;</span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE;">, </span><span style="--shiki-light:#2F798A;--shiki-dark:#4C9A91;">25</span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE;">, </span><span style="--shiki-light:#B5695977;--shiki-dark:#C98A7D77;">&#39;</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;">å°åŒ—</span><span style="--shiki-light:#B5695977;--shiki-dark:#C98A7D77;">&#39;</span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE;">),</span></span>
<span class="line"><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE;">(</span><span style="--shiki-light:#2F798A;--shiki-dark:#4C9A91;">2</span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE;">, </span><span style="--shiki-light:#B5695977;--shiki-dark:#C98A7D77;">&#39;</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;">æå°è¯</span><span style="--shiki-light:#B5695977;--shiki-dark:#C98A7D77;">&#39;</span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE;">, </span><span style="--shiki-light:#B5695977;--shiki-dark:#C98A7D77;">&#39;</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;">hua@email.com</span><span style="--shiki-light:#B5695977;--shiki-dark:#C98A7D77;">&#39;</span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE;">, </span><span style="--shiki-light:#2F798A;--shiki-dark:#4C9A91;">30</span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE;">, </span><span style="--shiki-light:#B5695977;--shiki-dark:#C98A7D77;">&#39;</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;">é«˜é›„</span><span style="--shiki-light:#B5695977;--shiki-dark:#C98A7D77;">&#39;</span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE;">),</span></span>
<span class="line"><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE;">(</span><span style="--shiki-light:#2F798A;--shiki-dark:#4C9A91;">3</span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE;">, </span><span style="--shiki-light:#B5695977;--shiki-dark:#C98A7D77;">&#39;</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;">ç‹å°ç¾</span><span style="--shiki-light:#B5695977;--shiki-dark:#C98A7D77;">&#39;</span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE;">, </span><span style="--shiki-light:#B5695977;--shiki-dark:#C98A7D77;">&#39;</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;">mei@email.com</span><span style="--shiki-light:#B5695977;--shiki-dark:#C98A7D77;">&#39;</span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE;">, </span><span style="--shiki-light:#2F798A;--shiki-dark:#4C9A91;">28</span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE;">, </span><span style="--shiki-light:#B5695977;--shiki-dark:#C98A7D77;">&#39;</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;">å°ä¸­</span><span style="--shiki-light:#B5695977;--shiki-dark:#C98A7D77;">&#39;</span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE;">),</span></span>
<span class="line"><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE;">(</span><span style="--shiki-light:#2F798A;--shiki-dark:#4C9A91;">4</span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE;">, </span><span style="--shiki-light:#B5695977;--shiki-dark:#C98A7D77;">&#39;</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;">é™³å°å¼·</span><span style="--shiki-light:#B5695977;--shiki-dark:#C98A7D77;">&#39;</span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE;">, </span><span style="--shiki-light:#B5695977;--shiki-dark:#C98A7D77;">&#39;</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;">qiang@email.com</span><span style="--shiki-light:#B5695977;--shiki-dark:#C98A7D77;">&#39;</span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE;">, </span><span style="--shiki-light:#2F798A;--shiki-dark:#4C9A91;">35</span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE;">, </span><span style="--shiki-light:#B5695977;--shiki-dark:#C98A7D77;">&#39;</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;">å°å—</span><span style="--shiki-light:#B5695977;--shiki-dark:#C98A7D77;">&#39;</span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE;">);</span></span></code></pre></div><p>æ²’æœ‰ç´¢å¼•çš„æŸ¥è©¢ï¼ˆå…¨è¡¨æƒæï¼‰ï¼š</p><div class="language-sql vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">sql</span><pre class="shiki shiki-themes vitesse-light vitesse-dark vp-code"><code><span class="line"><span style="--shiki-light:#A0ADA0;--shiki-dark:#758575DD;">-- é€™å€‹æŸ¥è©¢æœƒæª¢æŸ¥æ‰€æœ‰è¡Œ</span></span>
<span class="line"><span style="--shiki-light:#1E754F;--shiki-dark:#4D9375;">SELECT</span><span style="--shiki-light:#AB5959;--shiki-dark:#CB7676;"> *</span><span style="--shiki-light:#1E754F;--shiki-dark:#4D9375;"> FROM</span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE;"> users </span><span style="--shiki-light:#1E754F;--shiki-dark:#4D9375;">WHERE</span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE;"> email </span><span style="--shiki-light:#AB5959;--shiki-dark:#CB7676;">=</span><span style="--shiki-light:#B5695977;--shiki-dark:#C98A7D77;"> &#39;</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;">hua@email.com</span><span style="--shiki-light:#B5695977;--shiki-dark:#C98A7D77;">&#39;</span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE;">;</span></span></code></pre></div><h3 id="_2-å»ºç«‹ç´¢å¼•" tabindex="-1">2. å»ºç«‹ç´¢å¼• <a class="header-anchor" href="#_2-å»ºç«‹ç´¢å¼•" aria-label="Permalink to &quot;2. å»ºç«‹ç´¢å¼•&quot;">â€‹</a></h3><div class="language-sql vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">sql</span><pre class="shiki shiki-themes vitesse-light vitesse-dark vp-code"><code><span class="line"><span style="--shiki-light:#A0ADA0;--shiki-dark:#758575DD;">-- ç‚º email æ¬„ä½å»ºç«‹ç´¢å¼•</span></span>
<span class="line"><span style="--shiki-light:#1E754F;--shiki-dark:#4D9375;">CREATE</span><span style="--shiki-light:#1E754F;--shiki-dark:#4D9375;"> INDEX</span><span style="--shiki-light:#59873A;--shiki-dark:#80A665;"> idx_user_email</span><span style="--shiki-light:#1E754F;--shiki-dark:#4D9375;"> ON</span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE;"> users(email);</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#A0ADA0;--shiki-dark:#758575DD;">-- å»ºç«‹å¾Œå†åŸ·è¡Œç›¸åŒæŸ¥è©¢ï¼Œé€Ÿåº¦æœƒå¤§å¹…æå‡</span></span>
<span class="line"><span style="--shiki-light:#1E754F;--shiki-dark:#4D9375;">SELECT</span><span style="--shiki-light:#AB5959;--shiki-dark:#CB7676;"> *</span><span style="--shiki-light:#1E754F;--shiki-dark:#4D9375;"> FROM</span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE;"> users </span><span style="--shiki-light:#1E754F;--shiki-dark:#4D9375;">WHERE</span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE;"> email </span><span style="--shiki-light:#AB5959;--shiki-dark:#CB7676;">=</span><span style="--shiki-light:#B5695977;--shiki-dark:#C98A7D77;"> &#39;</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;">hua@email.com</span><span style="--shiki-light:#B5695977;--shiki-dark:#C98A7D77;">&#39;</span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE;">;</span></span></code></pre></div><h2 id="ç´¢å¼•çš„é¡å‹èˆ‡ä½¿ç”¨æƒ…å¢ƒ" tabindex="-1">ç´¢å¼•çš„é¡å‹èˆ‡ä½¿ç”¨æƒ…å¢ƒ <a class="header-anchor" href="#ç´¢å¼•çš„é¡å‹èˆ‡ä½¿ç”¨æƒ…å¢ƒ" aria-label="Permalink to &quot;ç´¢å¼•çš„é¡å‹èˆ‡ä½¿ç”¨æƒ…å¢ƒ&quot;">â€‹</a></h2><h3 id="_1-ä¸»ç´¢å¼•-primary-index" tabindex="-1">1. ä¸»ç´¢å¼•ï¼ˆPrimary Indexï¼‰ <a class="header-anchor" href="#_1-ä¸»ç´¢å¼•-primary-index" aria-label="Permalink to &quot;1. ä¸»ç´¢å¼•ï¼ˆPrimary Indexï¼‰&quot;">â€‹</a></h3><p>æ¯å€‹è³‡æ–™è¡¨çš„ä¸»éµéƒ½æœƒè‡ªå‹•å»ºç«‹ä¸»ç´¢å¼•ï¼š</p><div class="language-sql vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">sql</span><pre class="shiki shiki-themes vitesse-light vitesse-dark vp-code"><code><span class="line"><span style="--shiki-light:#A0ADA0;--shiki-dark:#758575DD;">-- ä¸»éµæœƒè‡ªå‹•å»ºç«‹å”¯ä¸€ç´¢å¼•</span></span>
<span class="line"><span style="--shiki-light:#1E754F;--shiki-dark:#4D9375;">CREATE</span><span style="--shiki-light:#1E754F;--shiki-dark:#4D9375;"> TABLE</span><span style="--shiki-light:#59873A;--shiki-dark:#80A665;"> products</span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE;"> (</span></span>
<span class="line"><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE;">    product_id </span><span style="--shiki-light:#AB5959;--shiki-dark:#CB7676;">INT</span><span style="--shiki-light:#AB5959;--shiki-dark:#CB7676;"> PRIMARY KEY</span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE;">,  </span><span style="--shiki-light:#A0ADA0;--shiki-dark:#758575DD;">-- è‡ªå‹•å»ºç«‹ç´¢å¼•</span></span>
<span class="line"><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE;">    product_name </span><span style="--shiki-light:#AB5959;--shiki-dark:#CB7676;">VARCHAR</span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE;">(</span><span style="--shiki-light:#2F798A;--shiki-dark:#4C9A91;">100</span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE;">),</span></span>
<span class="line"><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE;">    price </span><span style="--shiki-light:#AB5959;--shiki-dark:#CB7676;">DECIMAL</span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE;">(</span><span style="--shiki-light:#2F798A;--shiki-dark:#4C9A91;">10</span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE;">,</span><span style="--shiki-light:#2F798A;--shiki-dark:#4C9A91;">2</span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE;">)</span></span>
<span class="line"><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE;">);</span></span></code></pre></div><p><strong>ä½¿ç”¨æ™‚æ©Ÿ</strong>ï¼š</p><ul><li>æ ¹æ“šä¸»éµæŸ¥è©¢ï¼ˆæœ€å¸¸è¦‹ï¼‰</li><li>é—œè¯æŸ¥è©¢çš„é€£æ¥æ¢ä»¶</li></ul><h3 id="_2-ä¸€èˆ¬ç´¢å¼•-secondary-index" tabindex="-1">2. ä¸€èˆ¬ç´¢å¼•ï¼ˆSecondary Indexï¼‰ <a class="header-anchor" href="#_2-ä¸€èˆ¬ç´¢å¼•-secondary-index" aria-label="Permalink to &quot;2. ä¸€èˆ¬ç´¢å¼•ï¼ˆSecondary Indexï¼‰&quot;">â€‹</a></h3><div class="language-sql vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">sql</span><pre class="shiki shiki-themes vitesse-light vitesse-dark vp-code"><code><span class="line"><span style="--shiki-light:#A0ADA0;--shiki-dark:#758575DD;">-- ç‚ºç¶“å¸¸æŸ¥è©¢çš„æ¬„ä½å»ºç«‹ç´¢å¼•</span></span>
<span class="line"><span style="--shiki-light:#1E754F;--shiki-dark:#4D9375;">CREATE</span><span style="--shiki-light:#1E754F;--shiki-dark:#4D9375;"> INDEX</span><span style="--shiki-light:#59873A;--shiki-dark:#80A665;"> idx_product_name</span><span style="--shiki-light:#1E754F;--shiki-dark:#4D9375;"> ON</span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE;"> products(product_name);</span></span>
<span class="line"><span style="--shiki-light:#1E754F;--shiki-dark:#4D9375;">CREATE</span><span style="--shiki-light:#1E754F;--shiki-dark:#4D9375;"> INDEX</span><span style="--shiki-light:#59873A;--shiki-dark:#80A665;"> idx_product_price</span><span style="--shiki-light:#1E754F;--shiki-dark:#4D9375;"> ON</span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE;"> products(price);</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#A0ADA0;--shiki-dark:#758575DD;">-- é©ç”¨çš„æŸ¥è©¢</span></span>
<span class="line"><span style="--shiki-light:#1E754F;--shiki-dark:#4D9375;">SELECT</span><span style="--shiki-light:#AB5959;--shiki-dark:#CB7676;"> *</span><span style="--shiki-light:#1E754F;--shiki-dark:#4D9375;"> FROM</span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE;"> products </span><span style="--shiki-light:#1E754F;--shiki-dark:#4D9375;">WHERE</span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE;"> product_name </span><span style="--shiki-light:#AB5959;--shiki-dark:#CB7676;">=</span><span style="--shiki-light:#B5695977;--shiki-dark:#C98A7D77;"> &#39;</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;">iPhone</span><span style="--shiki-light:#B5695977;--shiki-dark:#C98A7D77;">&#39;</span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE;">;</span></span>
<span class="line"><span style="--shiki-light:#1E754F;--shiki-dark:#4D9375;">SELECT</span><span style="--shiki-light:#AB5959;--shiki-dark:#CB7676;"> *</span><span style="--shiki-light:#1E754F;--shiki-dark:#4D9375;"> FROM</span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE;"> products </span><span style="--shiki-light:#1E754F;--shiki-dark:#4D9375;">WHERE</span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE;"> price </span><span style="--shiki-light:#1E754F;--shiki-dark:#4D9375;">BETWEEN</span><span style="--shiki-light:#2F798A;--shiki-dark:#4C9A91;"> 10000</span><span style="--shiki-light:#1E754F;--shiki-dark:#4D9375;"> AND</span><span style="--shiki-light:#2F798A;--shiki-dark:#4C9A91;"> 50000</span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE;">;</span></span></code></pre></div><h3 id="_3-å”¯ä¸€ç´¢å¼•-unique-index" tabindex="-1">3. å”¯ä¸€ç´¢å¼•ï¼ˆUnique Indexï¼‰ <a class="header-anchor" href="#_3-å”¯ä¸€ç´¢å¼•-unique-index" aria-label="Permalink to &quot;3. å”¯ä¸€ç´¢å¼•ï¼ˆUnique Indexï¼‰&quot;">â€‹</a></h3><div class="language-sql vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">sql</span><pre class="shiki shiki-themes vitesse-light vitesse-dark vp-code"><code><span class="line"><span style="--shiki-light:#A0ADA0;--shiki-dark:#758575DD;">-- ç¢ºä¿æ¬„ä½å€¼çš„å”¯ä¸€æ€§</span></span>
<span class="line"><span style="--shiki-light:#1E754F;--shiki-dark:#4D9375;">CREATE</span><span style="--shiki-light:#1E754F;--shiki-dark:#4D9375;"> UNIQUE INDEX</span><span style="--shiki-light:#59873A;--shiki-dark:#80A665;"> idx_user_email_unique</span><span style="--shiki-light:#1E754F;--shiki-dark:#4D9375;"> ON</span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE;"> users(email);</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#A0ADA0;--shiki-dark:#758575DD;">-- é€™æ¨£å°±ç„¡æ³•æ’å…¥é‡è¤‡çš„email</span></span>
<span class="line"><span style="--shiki-light:#A0ADA0;--shiki-dark:#758575DD;">-- INSERT INTO users VALUES (5, &#39;æ¸¬è©¦&#39;, &#39;ming@email.com&#39;, 20, &#39;æ¡ƒåœ’&#39;); -- æœƒå‡ºéŒ¯</span></span></code></pre></div><h2 id="ç´¢å¼•çš„å„ªç¼ºé»åˆ†æ" tabindex="-1">ç´¢å¼•çš„å„ªç¼ºé»åˆ†æ <a class="header-anchor" href="#ç´¢å¼•çš„å„ªç¼ºé»åˆ†æ" aria-label="Permalink to &quot;ç´¢å¼•çš„å„ªç¼ºé»åˆ†æ&quot;">â€‹</a></h2><h3 id="å„ªé»" tabindex="-1">å„ªé» <a class="header-anchor" href="#å„ªé»" aria-label="Permalink to &quot;å„ªé»&quot;">â€‹</a></h3><ol><li><strong>å¤§å¹…æå‡æŸ¥è©¢é€Ÿåº¦</strong>ï¼šç‰¹åˆ¥æ˜¯å¤§è³‡æ–™è¡¨</li><li><strong>åŠ é€Ÿæ’åºæ“ä½œ</strong>ï¼šORDER BYã€GROUP BYæ•ˆèƒ½æå‡</li><li><strong>æ”¹å–„JOINæ•ˆèƒ½</strong>ï¼šè¡¨èˆ‡è¡¨ä¹‹é–“çš„é—œè¯æŸ¥è©¢</li><li><strong>æ¸›å°‘ç³»çµ±è³‡æºæ¶ˆè€—</strong>ï¼šé™ä½CPUå’Œè¨˜æ†¶é«”ä½¿ç”¨</li></ol><h3 id="ç¼ºé»" tabindex="-1">ç¼ºé» <a class="header-anchor" href="#ç¼ºé»" aria-label="Permalink to &quot;ç¼ºé»&quot;">â€‹</a></h3><ol><li><strong>ä½”ç”¨é¡å¤–å„²å­˜ç©ºé–“</strong>ï¼šæ¯å€‹ç´¢å¼•éƒ½éœ€è¦å­˜æ”¾ç©ºé–“</li><li><strong>é™ä½å¯«å…¥æ•ˆèƒ½</strong>ï¼šINSERTã€UPDATEã€DELETEæ™‚éœ€è¦ç¶­è­·ç´¢å¼•</li><li><strong>å¢åŠ ç¶­è­·æˆæœ¬</strong>ï¼šç´¢å¼•éœ€è¦å®šæœŸç¶­è­·å’Œé‡å»º</li></ol><h3 id="å¯¦éš›æ•ˆèƒ½æ¯”è¼ƒ" tabindex="-1">å¯¦éš›æ•ˆèƒ½æ¯”è¼ƒ <a class="header-anchor" href="#å¯¦éš›æ•ˆèƒ½æ¯”è¼ƒ" aria-label="Permalink to &quot;å¯¦éš›æ•ˆèƒ½æ¯”è¼ƒ&quot;">â€‹</a></h3><div class="language-sql vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">sql</span><pre class="shiki shiki-themes vitesse-light vitesse-dark vp-code"><code><span class="line"><span style="--shiki-light:#A0ADA0;--shiki-dark:#758575DD;">-- æ¸¬è©¦æŸ¥è©¢æ•ˆèƒ½çš„æ–¹æ³•</span></span>
<span class="line"><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE;">EXPLAIN </span><span style="--shiki-light:#1E754F;--shiki-dark:#4D9375;">SELECT</span><span style="--shiki-light:#AB5959;--shiki-dark:#CB7676;"> *</span><span style="--shiki-light:#1E754F;--shiki-dark:#4D9375;"> FROM</span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE;"> users </span><span style="--shiki-light:#1E754F;--shiki-dark:#4D9375;">WHERE</span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE;"> email </span><span style="--shiki-light:#AB5959;--shiki-dark:#CB7676;">=</span><span style="--shiki-light:#B5695977;--shiki-dark:#C98A7D77;"> &#39;</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;">ming@email.com</span><span style="--shiki-light:#B5695977;--shiki-dark:#C98A7D77;">&#39;</span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE;">;</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#A0ADA0;--shiki-dark:#758575DD;">-- ç„¡ç´¢å¼•çµæœï¼š</span></span>
<span class="line"><span style="--shiki-light:#A0ADA0;--shiki-dark:#758575DD;">-- type: ALL (å…¨è¡¨æƒæ)</span></span>
<span class="line"><span style="--shiki-light:#A0ADA0;--shiki-dark:#758575DD;">-- rows: 10000 (éœ€è¦æª¢æŸ¥çš„è¡Œæ•¸)</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#A0ADA0;--shiki-dark:#758575DD;">-- æœ‰ç´¢å¼•çµæœï¼š</span></span>
<span class="line"><span style="--shiki-light:#A0ADA0;--shiki-dark:#758575DD;">-- type: ref (ç´¢å¼•æŸ¥è©¢)  </span></span>
<span class="line"><span style="--shiki-light:#A0ADA0;--shiki-dark:#758575DD;">-- rows: 1 (åªéœ€æª¢æŸ¥1è¡Œ)</span></span></code></pre></div><h2 id="åŸºæœ¬ç´¢å¼•è¨­è¨ˆåŸå‰‡" tabindex="-1">åŸºæœ¬ç´¢å¼•è¨­è¨ˆåŸå‰‡ <a class="header-anchor" href="#åŸºæœ¬ç´¢å¼•è¨­è¨ˆåŸå‰‡" aria-label="Permalink to &quot;åŸºæœ¬ç´¢å¼•è¨­è¨ˆåŸå‰‡&quot;">â€‹</a></h2><h3 id="_1-é¸æ“‡åˆé©çš„æ¬„ä½å»ºç«‹ç´¢å¼•" tabindex="-1">1. é¸æ“‡åˆé©çš„æ¬„ä½å»ºç«‹ç´¢å¼• <a class="header-anchor" href="#_1-é¸æ“‡åˆé©çš„æ¬„ä½å»ºç«‹ç´¢å¼•" aria-label="Permalink to &quot;1. é¸æ“‡åˆé©çš„æ¬„ä½å»ºç«‹ç´¢å¼•&quot;">â€‹</a></h3><p><strong>é©åˆå»ºç«‹ç´¢å¼•çš„æ¬„ä½</strong>ï¼š</p><div class="language-sql vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">sql</span><pre class="shiki shiki-themes vitesse-light vitesse-dark vp-code"><code><span class="line"><span style="--shiki-light:#A0ADA0;--shiki-dark:#758575DD;">-- ç¶“å¸¸ç”¨æ–¼WHEREæ¢ä»¶çš„æ¬„ä½</span></span>
<span class="line"><span style="--shiki-light:#1E754F;--shiki-dark:#4D9375;">CREATE</span><span style="--shiki-light:#1E754F;--shiki-dark:#4D9375;"> INDEX</span><span style="--shiki-light:#59873A;--shiki-dark:#80A665;"> idx_order_status</span><span style="--shiki-light:#1E754F;--shiki-dark:#4D9375;"> ON</span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE;"> orders(</span><span style="--shiki-light:#1E754F;--shiki-dark:#4D9375;">status</span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE;">);</span></span>
<span class="line"><span style="--shiki-light:#1E754F;--shiki-dark:#4D9375;">SELECT</span><span style="--shiki-light:#AB5959;--shiki-dark:#CB7676;"> *</span><span style="--shiki-light:#1E754F;--shiki-dark:#4D9375;"> FROM</span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE;"> orders </span><span style="--shiki-light:#1E754F;--shiki-dark:#4D9375;">WHERE</span><span style="--shiki-light:#1E754F;--shiki-dark:#4D9375;"> status</span><span style="--shiki-light:#AB5959;--shiki-dark:#CB7676;"> =</span><span style="--shiki-light:#B5695977;--shiki-dark:#C98A7D77;"> &#39;</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;">pending</span><span style="--shiki-light:#B5695977;--shiki-dark:#C98A7D77;">&#39;</span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE;">;</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#A0ADA0;--shiki-dark:#758575DD;">-- ç¶“å¸¸ç”¨æ–¼JOINçš„æ¬„ä½</span></span>
<span class="line"><span style="--shiki-light:#1E754F;--shiki-dark:#4D9375;">CREATE</span><span style="--shiki-light:#1E754F;--shiki-dark:#4D9375;"> INDEX</span><span style="--shiki-light:#59873A;--shiki-dark:#80A665;"> idx_order_user_id</span><span style="--shiki-light:#1E754F;--shiki-dark:#4D9375;"> ON</span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE;"> orders(user_id);</span></span>
<span class="line"><span style="--shiki-light:#1E754F;--shiki-dark:#4D9375;">SELECT</span><span style="--shiki-light:#AB5959;--shiki-dark:#CB7676;"> *</span><span style="--shiki-light:#1E754F;--shiki-dark:#4D9375;"> FROM</span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE;"> orders o </span><span style="--shiki-light:#1E754F;--shiki-dark:#4D9375;">JOIN</span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE;"> users u </span><span style="--shiki-light:#1E754F;--shiki-dark:#4D9375;">ON</span><span style="--shiki-light:#A65E2B;--shiki-dark:#C99076;"> o</span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE;">.</span><span style="--shiki-light:#A65E2B;--shiki-dark:#C99076;">user_id</span><span style="--shiki-light:#AB5959;--shiki-dark:#CB7676;"> =</span><span style="--shiki-light:#A65E2B;--shiki-dark:#C99076;"> u</span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE;">.</span><span style="--shiki-light:#A65E2B;--shiki-dark:#C99076;">id</span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE;">;</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#A0ADA0;--shiki-dark:#758575DD;">-- ç¶“å¸¸ç”¨æ–¼ORDER BYçš„æ¬„ä½</span></span>
<span class="line"><span style="--shiki-light:#1E754F;--shiki-dark:#4D9375;">CREATE</span><span style="--shiki-light:#1E754F;--shiki-dark:#4D9375;"> INDEX</span><span style="--shiki-light:#59873A;--shiki-dark:#80A665;"> idx_order_created_at</span><span style="--shiki-light:#1E754F;--shiki-dark:#4D9375;"> ON</span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE;"> orders(created_at);</span></span>
<span class="line"><span style="--shiki-light:#1E754F;--shiki-dark:#4D9375;">SELECT</span><span style="--shiki-light:#AB5959;--shiki-dark:#CB7676;"> *</span><span style="--shiki-light:#1E754F;--shiki-dark:#4D9375;"> FROM</span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE;"> orders </span><span style="--shiki-light:#1E754F;--shiki-dark:#4D9375;">ORDER BY</span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE;"> created_at </span><span style="--shiki-light:#1E754F;--shiki-dark:#4D9375;">DESC</span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE;">;</span></span></code></pre></div><p><strong>ä¸é©åˆå»ºç«‹ç´¢å¼•çš„æ¬„ä½</strong>ï¼š</p><div class="language-sql vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">sql</span><pre class="shiki shiki-themes vitesse-light vitesse-dark vp-code"><code><span class="line"><span style="--shiki-light:#A0ADA0;--shiki-dark:#758575DD;">-- ä½å€åˆ†åº¦çš„æ¬„ä½ï¼ˆä¾‹å¦‚ï¼šæ€§åˆ¥ã€ç‹€æ…‹ç¢¼ï¼‰</span></span>
<span class="line"><span style="--shiki-light:#A0ADA0;--shiki-dark:#758575DD;">-- ä¸å»ºè­°ï¼šCREATE INDEX idx_user_gender ON users(gender);</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#A0ADA0;--shiki-dark:#758575DD;">-- ç¶“å¸¸æ›´æ–°çš„æ¬„ä½</span></span>
<span class="line"><span style="--shiki-light:#A0ADA0;--shiki-dark:#758575DD;">-- ä¸å»ºè­°ï¼šCREATE INDEX idx_user_last_login ON users(last_login_time);</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#A0ADA0;--shiki-dark:#758575DD;">-- å¾ˆå°‘ä½¿ç”¨çš„æ¬„ä½</span></span>
<span class="line"><span style="--shiki-light:#A0ADA0;--shiki-dark:#758575DD;">-- ä¸å»ºè­°ï¼šCREATE INDEX idx_user_description ON users(description);</span></span></code></pre></div><h3 id="_2-ç´¢å¼•å‘½åè¦ç¯„" tabindex="-1">2. ç´¢å¼•å‘½åè¦ç¯„ <a class="header-anchor" href="#_2-ç´¢å¼•å‘½åè¦ç¯„" aria-label="Permalink to &quot;2. ç´¢å¼•å‘½åè¦ç¯„&quot;">â€‹</a></h3><div class="language-sql vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">sql</span><pre class="shiki shiki-themes vitesse-light vitesse-dark vp-code"><code><span class="line"><span style="--shiki-light:#A0ADA0;--shiki-dark:#758575DD;">-- å»ºè­°çš„å‘½åæ–¹å¼</span></span>
<span class="line"><span style="--shiki-light:#1E754F;--shiki-dark:#4D9375;">CREATE</span><span style="--shiki-light:#1E754F;--shiki-dark:#4D9375;"> INDEX</span><span style="--shiki-light:#59873A;--shiki-dark:#80A665;"> idx_table_column</span><span style="--shiki-light:#1E754F;--shiki-dark:#4D9375;"> ON</span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE;"> table_name(column_name);</span></span>
<span class="line"><span style="--shiki-light:#1E754F;--shiki-dark:#4D9375;">CREATE</span><span style="--shiki-light:#1E754F;--shiki-dark:#4D9375;"> INDEX</span><span style="--shiki-light:#59873A;--shiki-dark:#80A665;"> idx_users_email</span><span style="--shiki-light:#1E754F;--shiki-dark:#4D9375;"> ON</span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE;"> users(email);</span></span>
<span class="line"><span style="--shiki-light:#1E754F;--shiki-dark:#4D9375;">CREATE</span><span style="--shiki-light:#1E754F;--shiki-dark:#4D9375;"> INDEX</span><span style="--shiki-light:#59873A;--shiki-dark:#80A665;"> idx_orders_status</span><span style="--shiki-light:#1E754F;--shiki-dark:#4D9375;"> ON</span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE;"> orders(</span><span style="--shiki-light:#1E754F;--shiki-dark:#4D9375;">status</span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE;">);</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#A0ADA0;--shiki-dark:#758575DD;">-- å¤šæ¬„ä½ç´¢å¼•</span></span>
<span class="line"><span style="--shiki-light:#1E754F;--shiki-dark:#4D9375;">CREATE</span><span style="--shiki-light:#1E754F;--shiki-dark:#4D9375;"> INDEX</span><span style="--shiki-light:#59873A;--shiki-dark:#80A665;"> idx_orders_user_status</span><span style="--shiki-light:#1E754F;--shiki-dark:#4D9375;"> ON</span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE;"> orders(user_id, </span><span style="--shiki-light:#1E754F;--shiki-dark:#4D9375;">status</span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE;">);</span></span></code></pre></div><h2 id="å¸¸è¦‹çš„ç´¢å¼•ä½¿ç”¨éŒ¯èª¤" tabindex="-1">å¸¸è¦‹çš„ç´¢å¼•ä½¿ç”¨éŒ¯èª¤ <a class="header-anchor" href="#å¸¸è¦‹çš„ç´¢å¼•ä½¿ç”¨éŒ¯èª¤" aria-label="Permalink to &quot;å¸¸è¦‹çš„ç´¢å¼•ä½¿ç”¨éŒ¯èª¤&quot;">â€‹</a></h2><h3 id="_1-ç´¢å¼•å¤±æ•ˆçš„æƒ…æ³" tabindex="-1">1. ç´¢å¼•å¤±æ•ˆçš„æƒ…æ³ <a class="header-anchor" href="#_1-ç´¢å¼•å¤±æ•ˆçš„æƒ…æ³" aria-label="Permalink to &quot;1. ç´¢å¼•å¤±æ•ˆçš„æƒ…æ³&quot;">â€‹</a></h3><div class="language-sql vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">sql</span><pre class="shiki shiki-themes vitesse-light vitesse-dark vp-code"><code><span class="line"><span style="--shiki-light:#A0ADA0;--shiki-dark:#758575DD;">-- âŒ åœ¨ç´¢å¼•æ¬„ä½ä¸Šä½¿ç”¨å‡½æ•¸</span></span>
<span class="line"><span style="--shiki-light:#1E754F;--shiki-dark:#4D9375;">SELECT</span><span style="--shiki-light:#AB5959;--shiki-dark:#CB7676;"> *</span><span style="--shiki-light:#1E754F;--shiki-dark:#4D9375;"> FROM</span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE;"> users </span><span style="--shiki-light:#1E754F;--shiki-dark:#4D9375;">WHERE</span><span style="--shiki-light:#998418;--shiki-dark:#B8A965;"> UPPER</span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE;">(</span><span style="--shiki-light:#1E754F;--shiki-dark:#4D9375;">name</span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE;">) </span><span style="--shiki-light:#AB5959;--shiki-dark:#CB7676;">=</span><span style="--shiki-light:#B5695977;--shiki-dark:#C98A7D77;"> &#39;</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;">ZHANG</span><span style="--shiki-light:#B5695977;--shiki-dark:#C98A7D77;">&#39;</span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE;">;</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#A0ADA0;--shiki-dark:#758575DD;">-- âœ… æ­£ç¢ºçš„åšæ³•</span></span>
<span class="line"><span style="--shiki-light:#1E754F;--shiki-dark:#4D9375;">SELECT</span><span style="--shiki-light:#AB5959;--shiki-dark:#CB7676;"> *</span><span style="--shiki-light:#1E754F;--shiki-dark:#4D9375;"> FROM</span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE;"> users </span><span style="--shiki-light:#1E754F;--shiki-dark:#4D9375;">WHERE</span><span style="--shiki-light:#1E754F;--shiki-dark:#4D9375;"> name</span><span style="--shiki-light:#AB5959;--shiki-dark:#CB7676;"> =</span><span style="--shiki-light:#B5695977;--shiki-dark:#C98A7D77;"> &#39;</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;">Zhang</span><span style="--shiki-light:#B5695977;--shiki-dark:#C98A7D77;">&#39;</span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE;">;</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#A0ADA0;--shiki-dark:#758575DD;">-- âŒ ä½¿ç”¨NOT EQUAL</span></span>
<span class="line"><span style="--shiki-light:#1E754F;--shiki-dark:#4D9375;">SELECT</span><span style="--shiki-light:#AB5959;--shiki-dark:#CB7676;"> *</span><span style="--shiki-light:#1E754F;--shiki-dark:#4D9375;"> FROM</span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE;"> users </span><span style="--shiki-light:#1E754F;--shiki-dark:#4D9375;">WHERE</span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE;"> age </span><span style="--shiki-light:#AB5959;--shiki-dark:#CB7676;">!=</span><span style="--shiki-light:#2F798A;--shiki-dark:#4C9A91;"> 25</span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE;">;</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#A0ADA0;--shiki-dark:#758575DD;">-- âœ… æ”¹ç”¨ç¯„åœæŸ¥è©¢</span></span>
<span class="line"><span style="--shiki-light:#1E754F;--shiki-dark:#4D9375;">SELECT</span><span style="--shiki-light:#AB5959;--shiki-dark:#CB7676;"> *</span><span style="--shiki-light:#1E754F;--shiki-dark:#4D9375;"> FROM</span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE;"> users </span><span style="--shiki-light:#1E754F;--shiki-dark:#4D9375;">WHERE</span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE;"> age </span><span style="--shiki-light:#AB5959;--shiki-dark:#CB7676;">&lt;</span><span style="--shiki-light:#2F798A;--shiki-dark:#4C9A91;"> 25</span><span style="--shiki-light:#1E754F;--shiki-dark:#4D9375;"> OR</span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE;"> age </span><span style="--shiki-light:#AB5959;--shiki-dark:#CB7676;">&gt;</span><span style="--shiki-light:#2F798A;--shiki-dark:#4C9A91;"> 25</span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE;">;</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#A0ADA0;--shiki-dark:#758575DD;">-- âŒ LIKEä½¿ç”¨å‰ç½®é€šé…ç¬¦</span></span>
<span class="line"><span style="--shiki-light:#1E754F;--shiki-dark:#4D9375;">SELECT</span><span style="--shiki-light:#AB5959;--shiki-dark:#CB7676;"> *</span><span style="--shiki-light:#1E754F;--shiki-dark:#4D9375;"> FROM</span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE;"> users </span><span style="--shiki-light:#1E754F;--shiki-dark:#4D9375;">WHERE</span><span style="--shiki-light:#1E754F;--shiki-dark:#4D9375;"> name</span><span style="--shiki-light:#1E754F;--shiki-dark:#4D9375;"> LIKE</span><span style="--shiki-light:#B5695977;--shiki-dark:#C98A7D77;"> &#39;</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;">%æ˜</span><span style="--shiki-light:#B5695977;--shiki-dark:#C98A7D77;">&#39;</span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE;">;</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#A0ADA0;--shiki-dark:#758575DD;">-- âœ… å¾Œç½®é€šé…ç¬¦å¯ä»¥ä½¿ç”¨ç´¢å¼•</span></span>
<span class="line"><span style="--shiki-light:#1E754F;--shiki-dark:#4D9375;">SELECT</span><span style="--shiki-light:#AB5959;--shiki-dark:#CB7676;"> *</span><span style="--shiki-light:#1E754F;--shiki-dark:#4D9375;"> FROM</span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE;"> users </span><span style="--shiki-light:#1E754F;--shiki-dark:#4D9375;">WHERE</span><span style="--shiki-light:#1E754F;--shiki-dark:#4D9375;"> name</span><span style="--shiki-light:#1E754F;--shiki-dark:#4D9375;"> LIKE</span><span style="--shiki-light:#B5695977;--shiki-dark:#C98A7D77;"> &#39;</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;">å¼µ%</span><span style="--shiki-light:#B5695977;--shiki-dark:#C98A7D77;">&#39;</span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE;">;</span></span></code></pre></div><h3 id="_2-éå¤šç´¢å¼•çš„å•é¡Œ" tabindex="-1">2. éå¤šç´¢å¼•çš„å•é¡Œ <a class="header-anchor" href="#_2-éå¤šç´¢å¼•çš„å•é¡Œ" aria-label="Permalink to &quot;2. éå¤šç´¢å¼•çš„å•é¡Œ&quot;">â€‹</a></h3><div class="language-sql vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">sql</span><pre class="shiki shiki-themes vitesse-light vitesse-dark vp-code"><code><span class="line"><span style="--shiki-light:#A0ADA0;--shiki-dark:#758575DD;">-- âŒ ç‚ºæ¯å€‹æ¬„ä½éƒ½å»ºç«‹ç´¢å¼•ï¼ˆéåº¦ç´¢å¼•ï¼‰</span></span>
<span class="line"><span style="--shiki-light:#1E754F;--shiki-dark:#4D9375;">CREATE</span><span style="--shiki-light:#1E754F;--shiki-dark:#4D9375;"> INDEX</span><span style="--shiki-light:#59873A;--shiki-dark:#80A665;"> idx1</span><span style="--shiki-light:#1E754F;--shiki-dark:#4D9375;"> ON</span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE;"> users(</span><span style="--shiki-light:#1E754F;--shiki-dark:#4D9375;">name</span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE;">);</span></span>
<span class="line"><span style="--shiki-light:#1E754F;--shiki-dark:#4D9375;">CREATE</span><span style="--shiki-light:#1E754F;--shiki-dark:#4D9375;"> INDEX</span><span style="--shiki-light:#59873A;--shiki-dark:#80A665;"> idx2</span><span style="--shiki-light:#1E754F;--shiki-dark:#4D9375;"> ON</span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE;"> users(email); </span></span>
<span class="line"><span style="--shiki-light:#1E754F;--shiki-dark:#4D9375;">CREATE</span><span style="--shiki-light:#1E754F;--shiki-dark:#4D9375;"> INDEX</span><span style="--shiki-light:#59873A;--shiki-dark:#80A665;"> idx3</span><span style="--shiki-light:#1E754F;--shiki-dark:#4D9375;"> ON</span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE;"> users(age);</span></span>
<span class="line"><span style="--shiki-light:#1E754F;--shiki-dark:#4D9375;">CREATE</span><span style="--shiki-light:#1E754F;--shiki-dark:#4D9375;"> INDEX</span><span style="--shiki-light:#59873A;--shiki-dark:#80A665;"> idx4</span><span style="--shiki-light:#1E754F;--shiki-dark:#4D9375;"> ON</span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE;"> users(city);</span></span>
<span class="line"><span style="--shiki-light:#1E754F;--shiki-dark:#4D9375;">CREATE</span><span style="--shiki-light:#1E754F;--shiki-dark:#4D9375;"> INDEX</span><span style="--shiki-light:#59873A;--shiki-dark:#80A665;"> idx5</span><span style="--shiki-light:#1E754F;--shiki-dark:#4D9375;"> ON</span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE;"> users(phone);</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#A0ADA0;--shiki-dark:#758575DD;">-- âœ… åªç‚ºå¸¸ç”¨æŸ¥è©¢æ¬„ä½å»ºç«‹ç´¢å¼•</span></span>
<span class="line"><span style="--shiki-light:#1E754F;--shiki-dark:#4D9375;">CREATE</span><span style="--shiki-light:#1E754F;--shiki-dark:#4D9375;"> INDEX</span><span style="--shiki-light:#59873A;--shiki-dark:#80A665;"> idx_users_email</span><span style="--shiki-light:#1E754F;--shiki-dark:#4D9375;"> ON</span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE;"> users(email);      </span><span style="--shiki-light:#A0ADA0;--shiki-dark:#758575DD;">-- ç™»å…¥æŸ¥è©¢</span></span>
<span class="line"><span style="--shiki-light:#1E754F;--shiki-dark:#4D9375;">CREATE</span><span style="--shiki-light:#1E754F;--shiki-dark:#4D9375;"> INDEX</span><span style="--shiki-light:#59873A;--shiki-dark:#80A665;"> idx_users_name</span><span style="--shiki-light:#1E754F;--shiki-dark:#4D9375;"> ON</span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE;"> users(</span><span style="--shiki-light:#1E754F;--shiki-dark:#4D9375;">name</span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE;">);        </span><span style="--shiki-light:#A0ADA0;--shiki-dark:#758575DD;">-- å§“åæœå°‹</span></span></code></pre></div><h2 id="å¯¦æˆ°ç·´ç¿’" tabindex="-1">å¯¦æˆ°ç·´ç¿’ <a class="header-anchor" href="#å¯¦æˆ°ç·´ç¿’" aria-label="Permalink to &quot;å¯¦æˆ°ç·´ç¿’&quot;">â€‹</a></h2><h3 id="ç·´ç¿’1-åˆ†ææŸ¥è©¢æ•ˆèƒ½" tabindex="-1">ç·´ç¿’1ï¼šåˆ†ææŸ¥è©¢æ•ˆèƒ½ <a class="header-anchor" href="#ç·´ç¿’1-åˆ†ææŸ¥è©¢æ•ˆèƒ½" aria-label="Permalink to &quot;ç·´ç¿’1ï¼šåˆ†ææŸ¥è©¢æ•ˆèƒ½&quot;">â€‹</a></h3><div class="language-sql vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">sql</span><pre class="shiki shiki-themes vitesse-light vitesse-dark vp-code"><code><span class="line"><span style="--shiki-light:#A0ADA0;--shiki-dark:#758575DD;">-- å»ºç«‹æ¸¬è©¦è¡¨</span></span>
<span class="line"><span style="--shiki-light:#1E754F;--shiki-dark:#4D9375;">CREATE</span><span style="--shiki-light:#1E754F;--shiki-dark:#4D9375;"> TABLE</span><span style="--shiki-light:#59873A;--shiki-dark:#80A665;"> orders</span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE;"> (</span></span>
<span class="line"><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE;">    id </span><span style="--shiki-light:#AB5959;--shiki-dark:#CB7676;">INT</span><span style="--shiki-light:#AB5959;--shiki-dark:#CB7676;"> PRIMARY KEY</span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE;">,</span></span>
<span class="line"><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE;">    user_id </span><span style="--shiki-light:#AB5959;--shiki-dark:#CB7676;">INT</span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE;">,</span></span>
<span class="line"><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE;">    product_id </span><span style="--shiki-light:#AB5959;--shiki-dark:#CB7676;">INT</span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE;">,</span></span>
<span class="line"><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE;">    order_date </span><span style="--shiki-light:#AB5959;--shiki-dark:#CB7676;">DATE</span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE;">,</span></span>
<span class="line"><span style="--shiki-light:#1E754F;--shiki-dark:#4D9375;">    status</span><span style="--shiki-light:#AB5959;--shiki-dark:#CB7676;"> VARCHAR</span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE;">(</span><span style="--shiki-light:#2F798A;--shiki-dark:#4C9A91;">20</span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE;">),</span></span>
<span class="line"><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE;">    amount </span><span style="--shiki-light:#AB5959;--shiki-dark:#CB7676;">DECIMAL</span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE;">(</span><span style="--shiki-light:#2F798A;--shiki-dark:#4C9A91;">10</span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE;">,</span><span style="--shiki-light:#2F798A;--shiki-dark:#4C9A91;">2</span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE;">)</span></span>
<span class="line"><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE;">);</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#A0ADA0;--shiki-dark:#758575DD;">-- æ’å…¥æ¸¬è©¦è³‡æ–™ï¼ˆå‡è¨­æœ‰10è¬ç­†ï¼‰</span></span>
<span class="line"><span style="--shiki-light:#A0ADA0;--shiki-dark:#758575DD;">-- åˆ†æä»¥ä¸‹æŸ¥è©¢éœ€è¦ä»€éº¼ç´¢å¼•</span></span>
<span class="line"><span style="--shiki-light:#1E754F;--shiki-dark:#4D9375;">SELECT</span><span style="--shiki-light:#AB5959;--shiki-dark:#CB7676;"> *</span><span style="--shiki-light:#1E754F;--shiki-dark:#4D9375;"> FROM</span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE;"> orders </span></span>
<span class="line"><span style="--shiki-light:#1E754F;--shiki-dark:#4D9375;">WHERE</span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE;"> user_id </span><span style="--shiki-light:#AB5959;--shiki-dark:#CB7676;">=</span><span style="--shiki-light:#2F798A;--shiki-dark:#4C9A91;"> 123</span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE;"> </span></span>
<span class="line"><span style="--shiki-light:#1E754F;--shiki-dark:#4D9375;">AND</span><span style="--shiki-light:#1E754F;--shiki-dark:#4D9375;"> status</span><span style="--shiki-light:#AB5959;--shiki-dark:#CB7676;"> =</span><span style="--shiki-light:#B5695977;--shiki-dark:#C98A7D77;"> &#39;</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;">completed</span><span style="--shiki-light:#B5695977;--shiki-dark:#C98A7D77;">&#39;</span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE;"> </span></span>
<span class="line"><span style="--shiki-light:#1E754F;--shiki-dark:#4D9375;">AND</span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE;"> order_date </span><span style="--shiki-light:#AB5959;--shiki-dark:#CB7676;">&gt;=</span><span style="--shiki-light:#B5695977;--shiki-dark:#C98A7D77;"> &#39;</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;">2024-01-01</span><span style="--shiki-light:#B5695977;--shiki-dark:#C98A7D77;">&#39;</span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE;">;</span></span></code></pre></div><p><strong>è§£ç­”</strong>ï¼š</p><div class="language-sql vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">sql</span><pre class="shiki shiki-themes vitesse-light vitesse-dark vp-code"><code><span class="line"><span style="--shiki-light:#A0ADA0;--shiki-dark:#758575DD;">-- å»ºç«‹è¤‡åˆç´¢å¼•ä¾†å„ªåŒ–é€™å€‹æŸ¥è©¢</span></span>
<span class="line"><span style="--shiki-light:#1E754F;--shiki-dark:#4D9375;">CREATE</span><span style="--shiki-light:#1E754F;--shiki-dark:#4D9375;"> INDEX</span><span style="--shiki-light:#59873A;--shiki-dark:#80A665;"> idx_orders_user_status_date</span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE;"> </span></span>
<span class="line"><span style="--shiki-light:#1E754F;--shiki-dark:#4D9375;">ON</span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE;"> orders(user_id, </span><span style="--shiki-light:#1E754F;--shiki-dark:#4D9375;">status</span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE;">, order_date);</span></span></code></pre></div><h3 id="ç·´ç¿’2-ç´¢å¼•ç¶­è­·" tabindex="-1">ç·´ç¿’2ï¼šç´¢å¼•ç¶­è­· <a class="header-anchor" href="#ç·´ç¿’2-ç´¢å¼•ç¶­è­·" aria-label="Permalink to &quot;ç·´ç¿’2ï¼šç´¢å¼•ç¶­è­·&quot;">â€‹</a></h3><div class="language-sql vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">sql</span><pre class="shiki shiki-themes vitesse-light vitesse-dark vp-code"><code><span class="line"><span style="--shiki-light:#A0ADA0;--shiki-dark:#758575DD;">-- æŸ¥çœ‹ç´¢å¼•ä½¿ç”¨æƒ…æ³</span></span>
<span class="line"><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE;">SHOW </span><span style="--shiki-light:#1E754F;--shiki-dark:#4D9375;">INDEX</span><span style="--shiki-light:#1E754F;--shiki-dark:#4D9375;"> FROM</span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE;"> users;</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#A0ADA0;--shiki-dark:#758575DD;">-- åˆªé™¤ä¸å¿…è¦çš„ç´¢å¼•</span></span>
<span class="line"><span style="--shiki-light:#1E754F;--shiki-dark:#4D9375;">DROP</span><span style="--shiki-light:#1E754F;--shiki-dark:#4D9375;"> INDEX</span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE;"> idx_unused_column </span><span style="--shiki-light:#1E754F;--shiki-dark:#4D9375;">ON</span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE;"> users;</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#A0ADA0;--shiki-dark:#758575DD;">-- é‡å»ºç´¢å¼•ï¼ˆç•¶è³‡æ–™å¤§é‡è®Šæ›´å¾Œï¼‰</span></span>
<span class="line"><span style="--shiki-light:#1E754F;--shiki-dark:#4D9375;">ALTER</span><span style="--shiki-light:#1E754F;--shiki-dark:#4D9375;"> TABLE</span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE;"> users </span><span style="--shiki-light:#1E754F;--shiki-dark:#4D9375;">DROP</span><span style="--shiki-light:#1E754F;--shiki-dark:#4D9375;"> INDEX</span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE;"> idx_users_email;</span></span>
<span class="line"><span style="--shiki-light:#1E754F;--shiki-dark:#4D9375;">CREATE</span><span style="--shiki-light:#1E754F;--shiki-dark:#4D9375;"> INDEX</span><span style="--shiki-light:#59873A;--shiki-dark:#80A665;"> idx_users_email</span><span style="--shiki-light:#1E754F;--shiki-dark:#4D9375;"> ON</span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE;"> users(email);</span></span></code></pre></div><h2 id="ç¸½çµ" tabindex="-1">ç¸½çµ <a class="header-anchor" href="#ç¸½çµ" aria-label="Permalink to &quot;ç¸½çµ&quot;">â€‹</a></h2><p>è³‡æ–™åº«ç´¢å¼•æ˜¯æå‡æŸ¥è©¢æ•ˆèƒ½çš„é‡è¦å·¥å…·ï¼š</p><ol><li><strong>ç†è§£åŸç†</strong>ï¼šç´¢å¼•å°±åƒæ›¸æœ¬ç›®éŒ„ï¼Œå¹«åŠ©å¿«é€Ÿå®šä½è³‡æ–™</li><li><strong>é¸æ“‡åˆé©æ¬„ä½</strong>ï¼šç¶“å¸¸æŸ¥è©¢ã€JOINã€æ’åºçš„æ¬„ä½</li><li><strong>é¿å…å¸¸è¦‹éŒ¯èª¤</strong>ï¼šä¸è¦åœ¨ç´¢å¼•æ¬„ä½ä½¿ç”¨å‡½æ•¸æˆ–é‹ç®—</li><li><strong>å¹³è¡¡è€ƒé‡</strong>ï¼šåœ¨æŸ¥è©¢æ•ˆèƒ½å’Œå¯«å…¥æ•ˆèƒ½ä¹‹é–“æ‰¾åˆ°å¹³è¡¡é»</li></ol><p>ä¸‹ä¸€ç¯‡æ–‡ç« æˆ‘å€‘å°‡æ·±å…¥æ¢è¨B-treeçµæ§‹ã€è¤‡åˆç´¢å¼•è¨­è¨ˆå’Œé€²éšå„ªåŒ–æŠ€å·§ï¼Œè®“ä½ æˆç‚ºç´¢å¼•å„ªåŒ–å°ˆå®¶ï¼</p><h2 id="å¸¸è¦‹å•é¡Œ-faq" tabindex="-1">å¸¸è¦‹å•é¡Œ FAQ <a class="header-anchor" href="#å¸¸è¦‹å•é¡Œ-faq" aria-label="Permalink to &quot;å¸¸è¦‹å•é¡Œ FAQ&quot;">â€‹</a></h2><h3 id="q1-ä»€éº¼æ™‚å€™æ‡‰è©²å»ºç«‹è³‡æ–™åº«ç´¢å¼•" tabindex="-1">Q1: ä»€éº¼æ™‚å€™æ‡‰è©²å»ºç«‹è³‡æ–™åº«ç´¢å¼•ï¼Ÿ <a class="header-anchor" href="#q1-ä»€éº¼æ™‚å€™æ‡‰è©²å»ºç«‹è³‡æ–™åº«ç´¢å¼•" aria-label="Permalink to &quot;Q1: ä»€éº¼æ™‚å€™æ‡‰è©²å»ºç«‹è³‡æ–™åº«ç´¢å¼•ï¼Ÿ&quot;">â€‹</a></h3><p><strong>A:</strong> ç•¶ä»¥ä¸‹æƒ…æ³ç™¼ç”Ÿæ™‚ï¼Œå»ºè­°å»ºç«‹ç´¢å¼•ï¼š</p><ul><li>è¡¨æ ¼è³‡æ–™é‡è¶…é 1000 ç­†ä¸”æœ‰é »ç¹æŸ¥è©¢éœ€æ±‚</li><li>ç¶“å¸¸ä½¿ç”¨ WHEREã€JOINã€ORDER BY çš„æ¬„ä½</li><li>æŸ¥è©¢å›æ‡‰æ™‚é–“è¶…éå¯æ¥å—ç¯„åœï¼ˆé€šå¸¸ &gt; 100msï¼‰</li></ul><h3 id="q2-ç´¢å¼•è¶Šå¤šè¶Šå¥½å—" tabindex="-1">Q2: ç´¢å¼•è¶Šå¤šè¶Šå¥½å—ï¼Ÿ <a class="header-anchor" href="#q2-ç´¢å¼•è¶Šå¤šè¶Šå¥½å—" aria-label="Permalink to &quot;Q2: ç´¢å¼•è¶Šå¤šè¶Šå¥½å—ï¼Ÿ&quot;">â€‹</a></h3><p><strong>A:</strong> ä¸æ˜¯ã€‚éå¤šç´¢å¼•æœƒï¼š</p><ul><li>ä½”ç”¨é¡å¤–å„²å­˜ç©ºé–“ï¼ˆé€šå¸¸ç´¢å¼•å¤§å°ç‚ºåŸè¡¨ 10-30%ï¼‰</li><li>é™ä½ INSERTã€UPDATEã€DELETE æ•ˆèƒ½</li><li>å¢åŠ ç¶­è­·æˆæœ¬ å»ºè­°éµå¾ªã€Œ80/20 æ³•å‰‡ã€ï¼Œç‚º 20% æœ€å¸¸ç”¨çš„æŸ¥è©¢å»ºç«‹ç´¢å¼•ã€‚</li></ul><h3 id="q3-mysql-å’Œ-postgresql-çš„ç´¢å¼•æœ‰ä»€éº¼å·®ç•°" tabindex="-1">Q3: MySQL å’Œ PostgreSQL çš„ç´¢å¼•æœ‰ä»€éº¼å·®ç•°ï¼Ÿ <a class="header-anchor" href="#q3-mysql-å’Œ-postgresql-çš„ç´¢å¼•æœ‰ä»€éº¼å·®ç•°" aria-label="Permalink to &quot;Q3: MySQL å’Œ PostgreSQL çš„ç´¢å¼•æœ‰ä»€éº¼å·®ç•°ï¼Ÿ&quot;">â€‹</a></h3><p><strong>A:</strong> ä¸»è¦å·®ç•°åŒ…æ‹¬ï¼š</p><ul><li><strong>MySQL</strong>ï¼šä¸»è¦ä½¿ç”¨ B+Treeï¼ŒInnoDB å¼•æ“æ”¯æ´èšé›†ç´¢å¼•</li><li><strong>PostgreSQL</strong>ï¼šæ”¯æ´æ›´å¤šç´¢å¼•é¡å‹ï¼ˆGiSTã€GINã€SP-GiSTã€BRINï¼‰</li><li><strong>èªæ³•</strong>ï¼šåŸºæœ¬ CREATE INDEX èªæ³•ç›¸åŒï¼Œä½†é€²éšåŠŸèƒ½ç•¥æœ‰å·®ç•°</li></ul><h3 id="q4-å¦‚ä½•æª¢æŸ¥ç´¢å¼•æ˜¯å¦æœ‰æ•ˆ" tabindex="-1">Q4: å¦‚ä½•æª¢æŸ¥ç´¢å¼•æ˜¯å¦æœ‰æ•ˆï¼Ÿ <a class="header-anchor" href="#q4-å¦‚ä½•æª¢æŸ¥ç´¢å¼•æ˜¯å¦æœ‰æ•ˆ" aria-label="Permalink to &quot;Q4: å¦‚ä½•æª¢æŸ¥ç´¢å¼•æ˜¯å¦æœ‰æ•ˆï¼Ÿ&quot;">â€‹</a></h3><p><strong>A:</strong> å¯ä»¥ä½¿ç”¨ä»¥ä¸‹æ–¹æ³•ï¼š</p><div class="language-sql vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">sql</span><pre class="shiki shiki-themes vitesse-light vitesse-dark vp-code"><code><span class="line"><span style="--shiki-light:#A0ADA0;--shiki-dark:#758575DD;">-- MySQL</span></span>
<span class="line"><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE;">EXPLAIN </span><span style="--shiki-light:#1E754F;--shiki-dark:#4D9375;">SELECT</span><span style="--shiki-light:#AB5959;--shiki-dark:#CB7676;"> *</span><span style="--shiki-light:#1E754F;--shiki-dark:#4D9375;"> FROM</span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE;"> table_name </span><span style="--shiki-light:#1E754F;--shiki-dark:#4D9375;">WHERE</span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE;"> column </span><span style="--shiki-light:#AB5959;--shiki-dark:#CB7676;">=</span><span style="--shiki-light:#B5695977;--shiki-dark:#C98A7D77;"> &#39;</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;">value</span><span style="--shiki-light:#B5695977;--shiki-dark:#C98A7D77;">&#39;</span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE;">;</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#A0ADA0;--shiki-dark:#758575DD;">-- PostgreSQL  </span></span>
<span class="line"><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE;">EXPLAIN ANALYZE </span><span style="--shiki-light:#1E754F;--shiki-dark:#4D9375;">SELECT</span><span style="--shiki-light:#AB5959;--shiki-dark:#CB7676;"> *</span><span style="--shiki-light:#1E754F;--shiki-dark:#4D9375;"> FROM</span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE;"> table_name </span><span style="--shiki-light:#1E754F;--shiki-dark:#4D9375;">WHERE</span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE;"> column </span><span style="--shiki-light:#AB5959;--shiki-dark:#CB7676;">=</span><span style="--shiki-light:#B5695977;--shiki-dark:#C98A7D77;"> &#39;</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;">value</span><span style="--shiki-light:#B5695977;--shiki-dark:#C98A7D77;">&#39;</span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE;">;</span></span></code></pre></div><p>æŸ¥çœ‹ <code>type</code> æ¬„ä½ï¼Œ<code>const</code> æˆ– <code>ref</code> è¡¨ç¤ºä½¿ç”¨ç´¢å¼•ï¼Œ<code>ALL</code> è¡¨ç¤ºå…¨è¡¨æƒæã€‚</p><h3 id="q5-è¤‡åˆç´¢å¼•çš„æ¬„ä½é †åºé‡è¦å—" tabindex="-1">Q5: è¤‡åˆç´¢å¼•çš„æ¬„ä½é †åºé‡è¦å—ï¼Ÿ <a class="header-anchor" href="#q5-è¤‡åˆç´¢å¼•çš„æ¬„ä½é †åºé‡è¦å—" aria-label="Permalink to &quot;Q5: è¤‡åˆç´¢å¼•çš„æ¬„ä½é †åºé‡è¦å—ï¼Ÿ&quot;">â€‹</a></h3><p><strong>A:</strong> éå¸¸é‡è¦ï¼æ‡‰è©²éµå¾ªï¼š</p><ol><li><strong>é¸æ“‡æ€§é«˜çš„æ¬„ä½æ”¾å‰é¢</strong>ï¼ˆcardinality é«˜ï¼‰</li><li><strong>ç­‰å€¼æ¢ä»¶åœ¨å‰ï¼Œç¯„åœæ¢ä»¶åœ¨å¾Œ</strong></li><li><strong>æœ€å¸¸ç”¨çš„æŸ¥è©¢æ¢ä»¶æ”¾æœ€å·¦é‚Š</strong></li></ol><h2 id="æ•ˆèƒ½åŸºæº–æ¸¬è©¦çµæœ" tabindex="-1">æ•ˆèƒ½åŸºæº–æ¸¬è©¦çµæœ <a class="header-anchor" href="#æ•ˆèƒ½åŸºæº–æ¸¬è©¦çµæœ" aria-label="Permalink to &quot;æ•ˆèƒ½åŸºæº–æ¸¬è©¦çµæœ&quot;">â€‹</a></h2><table><thead><tr><th>è³‡æ–™é‡</th><th>ç„¡ç´¢å¼•æŸ¥è©¢æ™‚é–“</th><th>æœ‰ç´¢å¼•æŸ¥è©¢æ™‚é–“</th><th>æ•ˆèƒ½æå‡</th></tr></thead><tbody><tr><td>1,000 ç­†</td><td>2ms</td><td>1ms</td><td>2x</td></tr><tr><td>10,000 ç­†</td><td>25ms</td><td>1ms</td><td>25x</td></tr><tr><td>100,000 ç­†</td><td>300ms</td><td>1ms</td><td>300x</td></tr><tr><td>1,000,000 ç­†</td><td>3,000ms</td><td>2ms</td><td>1,500x</td></tr></tbody></table><p><em>æ¸¬è©¦ç’°å¢ƒï¼šMySQL 8.0ï¼ŒIntel i7 CPUï¼Œ16GB RAMï¼ŒSSD ç¡¬ç¢Ÿ</em></p><h2 id="å»¶ä¼¸é–±è®€" tabindex="-1">å»¶ä¼¸é–±è®€ <a class="header-anchor" href="#å»¶ä¼¸é–±è®€" aria-label="Permalink to &quot;å»¶ä¼¸é–±è®€&quot;">â€‹</a></h2>`,73);function o(c,C,B,u,F,m){const n=l("VPNolebaseInlineLinkPreview"),t=l("NolebaseGitContributors"),k=l("NolebaseGitChangelog");return d(),e("div",null,[D,g,E,s("ol",null,[s("li",null,[a(n,{href:"#ç‚ºä»€éº¼éœ€è¦è³‡æ–™åº«ç´¢å¼•"},{default:h(()=>[i("ç‚ºä»€éº¼éœ€è¦è³‡æ–™åº«ç´¢å¼•ï¼Ÿ")]),_:1})]),s("li",null,[a(n,{href:"#ç´¢å¼•çš„åŸºæœ¬å·¥ä½œåŸç†"},{default:h(()=>[i("ç´¢å¼•çš„åŸºæœ¬å·¥ä½œåŸç†")]),_:1})]),s("li",null,[a(n,{href:"#ç´¢å¼•çš„é¡å‹èˆ‡ä½¿ç”¨æƒ…å¢ƒ"},{default:h(()=>[i("ç´¢å¼•çš„é¡å‹èˆ‡ä½¿ç”¨æƒ…å¢ƒ")]),_:1})]),s("li",null,[a(n,{href:"#ç´¢å¼•çš„å„ªç¼ºé»åˆ†æ"},{default:h(()=>[i("ç´¢å¼•çš„å„ªç¼ºé»åˆ†æ")]),_:1})]),s("li",null,[a(n,{href:"#åŸºæœ¬ç´¢å¼•è¨­è¨ˆåŸå‰‡"},{default:h(()=>[i("åŸºæœ¬ç´¢å¼•è¨­è¨ˆåŸå‰‡")]),_:1})]),s("li",null,[a(n,{href:"#å¸¸è¦‹çš„ç´¢å¼•ä½¿ç”¨éŒ¯èª¤"},{default:h(()=>[i("å¸¸è¦‹çš„ç´¢å¼•ä½¿ç”¨éŒ¯èª¤")]),_:1})]),s("li",null,[a(n,{href:"#å¯¦æˆ°ç·´ç¿’"},{default:h(()=>[i("å¯¦æˆ°ç·´ç¿’")]),_:1})]),s("li",null,[a(n,{href:"#å¸¸è¦‹å•é¡Œ-faq"},{default:h(()=>[i("å¸¸è¦‹å•é¡Œ FAQ")]),_:1})])]),y,s("ul",null,[s("li",null,[a(n,{href:"https://dev.mysql.com/doc/refman/8.0/en/optimization-indexes.html",target:"_blank",rel:"noreferrer"},{default:h(()=>[i("MySQL 8.0 å®˜æ–¹ç´¢å¼•æ–‡æª”")]),_:1})]),s("li",null,[a(n,{href:"https://www.postgresql.org/docs/current/indexes.html",target:"_blank",rel:"noreferrer"},{default:h(()=>[i("PostgreSQL ç´¢å¼•å„ªåŒ–æŒ‡å—")]),_:1})]),s("li",null,[a(n,{href:"https://use-the-index-luke.com/",target:"_blank",rel:"noreferrer"},{default:h(()=>[i("è³‡æ–™åº«æ•ˆèƒ½èª¿å„ªæœ€ä½³å¯¦è¸")]),_:1})])]),a(t),a(k)])}const v=p(A,[["render",o]]);export{b as __pageData,v as default};
