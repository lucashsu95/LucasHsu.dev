import{_ as c,c as g,b as k,w as s,au as d,m as e,J as i,a,V as l,E as t,o as h}from"./chunks/framework.C9sE8QFS.js";const P=JSON.parse('{"title":"Git Push 與 Fetch","description":"","frontmatter":{"outline":"deep","head":[["meta",{"name":"author","content":"許恩綸"}],["meta",{"name":"keywords","content":"git push,git fetch,遠端倉庫,強制推送,分支追蹤,git pull"}],["meta",{"property":"og:title","content":"Git Push 與 Fetch 完整教學"}],["meta",{"property":"og:description","content":"Git push 推送與 fetch 下載的完整指南,包含遠端設定、強制推送、分支追蹤與常見問題排解"}],["meta",{"property":"og:type","content":"article"}],["meta",{"property":"og:image","content":"./imgs/git-cover.png"}]]},"headers":[],"relativePath":"git/git-push.md","filePath":"git/git-push.md","lastUpdated":1766683168000}'),A={name:"git/git-push.md"},y=l('<h1 id="git-push-與-fetch" tabindex="-1">Git Push 與 Fetch <a class="header-anchor" href="#git-push-與-fetch" aria-label="Permalink to &quot;Git Push 與 Fetch&quot;">​</a></h1><blockquote><p>TL;DR：<code>git fetch</code> 像是去郵局領包裹但不拆封（下載遠端更新但不合併）；<code>git push</code> 是把你的作品寄出去（上傳本地提交到遠端）。首次推送用 <code>-u</code> 建立追蹤，之後直接 <code>push</code> 就行。Push 失敗通常是遠端有新提交，先 <code>pull</code> 再推。強制推送 <code>-f</code> 會覆蓋遠端，慎用！</p></blockquote><h2 id="前置知識" tabindex="-1">前置知識 <a class="header-anchor" href="#前置知識" aria-label="Permalink to &quot;前置知識&quot;">​</a></h2><ul><li>了解本地與遠端倉庫的差異</li><li>會使用 git add、commit 基本操作</li><li>知道什麼是分支（branch）</li></ul><h2 id="fetch-安全地下載遠端更新" tabindex="-1">Fetch：安全地下載遠端更新 <a class="header-anchor" href="#fetch-安全地下載遠端更新" aria-label="Permalink to &quot;Fetch：安全地下載遠端更新&quot;">​</a></h2><h3 id="為什麼需要-fetch" tabindex="-1">為什麼需要 Fetch？ <a class="header-anchor" href="#為什麼需要-fetch" aria-label="Permalink to &quot;為什麼需要 Fetch？&quot;">​</a></h3><p>想像你和同事同時在開發：</p><ol><li>你在本地寫程式碼</li><li>同事推送了新功能到遠端</li><li>你想知道他改了什麼，但<strong>還不想立刻合併</strong>（怕爆炸 ）</li></ol><p>這時用 <code>git fetch</code> 就對了！它像是先把郵件下載到信箱，你可以慢慢看再決定要不要打開。</p>',9),u=l(`<h3 id="基本用法" tabindex="-1">基本用法 <a class="header-anchor" href="#基本用法" aria-label="Permalink to &quot;基本用法&quot;">​</a></h3><div class="language-shell vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">shell</span><pre class="shiki shiki-themes vitesse-light vitesse-dark vp-code"><code><span class="line"><span style="--shiki-light:#A0ADA0;--shiki-dark:#758575DD;"># 下載所有遠端分支的更新（全部都要！）</span></span>
<span class="line"><span style="--shiki-light:#59873A;--shiki-dark:#80A665;">git</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> fetch</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> origin</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#A0ADA0;--shiki-dark:#758575DD;"># 只下載特定分支（挑食模式）</span></span>
<span class="line"><span style="--shiki-light:#59873A;--shiki-dark:#80A665;">git</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> fetch</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> origin</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> main</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#A0ADA0;--shiki-dark:#758575DD;"># 下載並清理已刪除的遠端分支（大掃除）</span></span>
<span class="line"><span style="--shiki-light:#59873A;--shiki-dark:#80A665;">git</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> fetch</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> origin</span><span style="--shiki-light:#A65E2B;--shiki-dark:#C99076;"> --prune</span></span></code></pre></div><h3 id="檢視剛下載的更新" tabindex="-1">檢視剛下載的更新 <a class="header-anchor" href="#檢視剛下載的更新" aria-label="Permalink to &quot;檢視剛下載的更新&quot;">​</a></h3><div class="language-shell vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">shell</span><pre class="shiki shiki-themes vitesse-light vitesse-dark vp-code"><code><span class="line"><span style="--shiki-light:#A0ADA0;--shiki-dark:#758575DD;"># 查看遠端最新提交（偷看一下）</span></span>
<span class="line"><span style="--shiki-light:#59873A;--shiki-dark:#80A665;">git</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> log</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> origin/main</span><span style="--shiki-light:#A65E2B;--shiki-dark:#C99076;"> --oneline</span><span style="--shiki-light:#A65E2B;--shiki-dark:#C99076;"> -5</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#A0ADA0;--shiki-dark:#758575DD;"># 比較本地與遠端差異（看看差多少）</span></span>
<span class="line"><span style="--shiki-light:#59873A;--shiki-dark:#80A665;">git</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> diff</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> main</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> origin/main</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#A0ADA0;--shiki-dark:#758575DD;"># 查看所有遠端分支（遠端有哪些平行宇宙）</span></span>
<span class="line"><span style="--shiki-light:#59873A;--shiki-dark:#80A665;">git</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> branch</span><span style="--shiki-light:#A65E2B;--shiki-dark:#C99076;"> -r</span></span></code></pre></div><h2 id="push-上傳本地提交到遠端" tabindex="-1">Push：上傳本地提交到遠端 <a class="header-anchor" href="#push-上傳本地提交到遠端" aria-label="Permalink to &quot;Push：上傳本地提交到遠端&quot;">​</a></h2><h3 id="基本語法" tabindex="-1">基本語法 <a class="header-anchor" href="#基本語法" aria-label="Permalink to &quot;基本語法&quot;">​</a></h3><div class="language-shell vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">shell</span><pre class="shiki shiki-themes vitesse-light vitesse-dark vp-code"><code><span class="line"><span style="--shiki-light:#59873A;--shiki-dark:#80A665;">git</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> push</span><span style="--shiki-light:#AB5959;--shiki-dark:#CB7676;"> &lt;</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;">遠端名</span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE;">稱</span><span style="--shiki-light:#AB5959;--shiki-dark:#CB7676;">&gt;</span><span style="--shiki-light:#AB5959;--shiki-dark:#CB7676;"> &lt;</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;">本地分</span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE;">支</span><span style="--shiki-light:#AB5959;--shiki-dark:#CB7676;">&gt;</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;">:</span><span style="--shiki-light:#AB5959;--shiki-dark:#CB7676;">&lt;</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;">遠端分</span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE;">支</span><span style="--shiki-light:#AB5959;--shiki-dark:#CB7676;">&gt;</span></span></code></pre></div><p>若本地與遠端分支同名，可簡化（懶人模式）：</p><div class="language-shell vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">shell</span><pre class="shiki shiki-themes vitesse-light vitesse-dark vp-code"><code><span class="line"><span style="--shiki-light:#59873A;--shiki-dark:#80A665;">git</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> push</span><span style="--shiki-light:#AB5959;--shiki-dark:#CB7676;"> &lt;</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;">遠端名</span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE;">稱</span><span style="--shiki-light:#AB5959;--shiki-dark:#CB7676;">&gt;</span><span style="--shiki-light:#AB5959;--shiki-dark:#CB7676;"> &lt;</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;">分支名</span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE;">稱</span><span style="--shiki-light:#AB5959;--shiki-dark:#CB7676;">&gt;</span></span></code></pre></div><h3 id="常用範例" tabindex="-1">常用範例 <a class="header-anchor" href="#常用範例" aria-label="Permalink to &quot;常用範例&quot;">​</a></h3><div class="language-shell vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">shell</span><pre class="shiki shiki-themes vitesse-light vitesse-dark vp-code"><code><span class="line"><span style="--shiki-light:#A0ADA0;--shiki-dark:#758575DD;"># 推送 main 分支（最常用）</span></span>
<span class="line"><span style="--shiki-light:#59873A;--shiki-dark:#80A665;">git</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> push</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> origin</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> main</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#A0ADA0;--shiki-dark:#758575DD;"># 推送當前分支（已設定追蹤時，超懶模式）</span></span>
<span class="line"><span style="--shiki-light:#59873A;--shiki-dark:#80A665;">git</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> push</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#A0ADA0;--shiki-dark:#758575DD;"># 首次推送新分支並建立追蹤（一次搞定）</span></span>
<span class="line"><span style="--shiki-light:#59873A;--shiki-dark:#80A665;">git</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> push</span><span style="--shiki-light:#A65E2B;--shiki-dark:#C99076;"> -u</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> origin</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> feature-login</span></span></code></pre></div>`,11),D=l(`<h2 id="遠端設定與追蹤" tabindex="-1">遠端設定與追蹤 <a class="header-anchor" href="#遠端設定與追蹤" aria-label="Permalink to &quot;遠端設定與追蹤&quot;">​</a></h2><h3 id="查看遠端倉庫" tabindex="-1">查看遠端倉庫 <a class="header-anchor" href="#查看遠端倉庫" aria-label="Permalink to &quot;查看遠端倉庫&quot;">​</a></h3><div class="language-shell vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">shell</span><pre class="shiki shiki-themes vitesse-light vitesse-dark vp-code"><code><span class="line"><span style="--shiki-light:#59873A;--shiki-dark:#80A665;">git</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> remote</span><span style="--shiki-light:#A65E2B;--shiki-dark:#C99076;"> -v</span></span></code></pre></div><p>輸出範例：</p><div class="language- vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki shiki-themes vitesse-light vitesse-dark vp-code"><code><span class="line"><span>origin  https://github.com/user/repo.git (fetch)</span></span>
<span class="line"><span>origin  https://github.com/user/repo.git (push)</span></span></code></pre></div><h3 id="新增-刪除遠端倉庫" tabindex="-1">新增/刪除遠端倉庫 <a class="header-anchor" href="#新增-刪除遠端倉庫" aria-label="Permalink to &quot;新增/刪除遠端倉庫&quot;">​</a></h3><div class="language-shell vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">shell</span><pre class="shiki shiki-themes vitesse-light vitesse-dark vp-code"><code><span class="line"><span style="--shiki-light:#A0ADA0;--shiki-dark:#758575DD;"># 新增遠端（通常在 git clone 時自動完成，不用管）</span></span>
<span class="line"><span style="--shiki-light:#59873A;--shiki-dark:#80A665;">git</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> remote</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> add</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> origin</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> https://github.com/user/repo.git</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#A0ADA0;--shiki-dark:#758575DD;"># 修改遠端網址（搬家時用）</span></span>
<span class="line"><span style="--shiki-light:#59873A;--shiki-dark:#80A665;">git</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> remote</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> set-url</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> origin</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> git@github.com:user/repo.git</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#A0ADA0;--shiki-dark:#758575DD;"># 刪除遠端（分手時用）</span></span>
<span class="line"><span style="--shiki-light:#59873A;--shiki-dark:#80A665;">git</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> remote</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> remove</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> origin</span></span></code></pre></div><h3 id="設定上游追蹤" tabindex="-1">設定上游追蹤 <a class="header-anchor" href="#設定上游追蹤" aria-label="Permalink to &quot;設定上游追蹤&quot;">​</a></h3><p>首次推送時加上 <code>-u</code>（像是設定快速撥號）：</p><div class="language-shell vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">shell</span><pre class="shiki shiki-themes vitesse-light vitesse-dark vp-code"><code><span class="line"><span style="--shiki-light:#59873A;--shiki-dark:#80A665;">git</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> push</span><span style="--shiki-light:#A65E2B;--shiki-dark:#C99076;"> -u</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> origin</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> feature-navbar</span></span></code></pre></div><p>之後就能直接用（一鍵搞定）：</p><div class="language-shell vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">shell</span><pre class="shiki shiki-themes vitesse-light vitesse-dark vp-code"><code><span class="line"><span style="--shiki-light:#59873A;--shiki-dark:#80A665;">git</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> push</span></span>
<span class="line"><span style="--shiki-light:#59873A;--shiki-dark:#80A665;">git</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> pull</span></span></code></pre></div><h2 id="強制推送-危險操作" tabindex="-1">強制推送（危險操作） <a class="header-anchor" href="#強制推送-危險操作" aria-label="Permalink to &quot;強制推送（危險操作）&quot;">​</a></h2><h3 id="何時需要強制推送" tabindex="-1">何時需要強制推送？ <a class="header-anchor" href="#何時需要強制推送" aria-label="Permalink to &quot;何時需要強制推送？&quot;">​</a></h3><ul><li>用 <code>git rebase</code> 或 <code>git commit --amend</code> 重寫了歷史</li><li>本地與遠端歷史分歧，且確定要用本地覆蓋遠端</li></ul><div class="language-shell vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">shell</span><pre class="shiki shiki-themes vitesse-light vitesse-dark vp-code"><code><span class="line"><span style="--shiki-light:#A0ADA0;--shiki-dark:#758575DD;"># 強制推送（核彈模式，會覆蓋遠端）</span></span>
<span class="line"><span style="--shiki-light:#59873A;--shiki-dark:#80A665;">git</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> push</span><span style="--shiki-light:#A65E2B;--shiki-dark:#C99076;"> -f</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> origin</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> main</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#A0ADA0;--shiki-dark:#758575DD;"># 更安全的強制推送（若遠端有新提交會拒絕，救命符）</span></span>
<span class="line"><span style="--shiki-light:#59873A;--shiki-dark:#80A665;">git</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> push</span><span style="--shiki-light:#A65E2B;--shiki-dark:#C99076;"> --force-with-lease</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> origin</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> main</span></span></code></pre></div><div class="danger custom-block"><p class="custom-block-title">危險！核彈按鈕！</p><p>強制推送會<strong>覆蓋遠端歷史</strong>，可能導致：</p><ul><li>團隊成員的提交消失（被你不小心刪掉）</li><li>引發合併衝突（大家都來打架）</li><li>破壞協作（成為全公司公敵）</li></ul><p><strong>只在以下情況使用：</strong></p><ol><li>個人私有分支（只有你在用）</li><li>確定無人在使用該分支（確認過了）</li><li>已和團隊溝通（通知過大家了）</li></ol><p>不然就等著被追殺吧</p></div><h2 id="fetch-vs-pull-的差異" tabindex="-1">Fetch vs Pull 的差異 <a class="header-anchor" href="#fetch-vs-pull-的差異" aria-label="Permalink to &quot;Fetch vs Pull 的差異&quot;">​</a></h2><table><thead><tr><th>指令</th><th>動作</th><th>安全性</th><th>適用情境</th></tr></thead><tbody><tr><td><code>git fetch</code></td><td>只下載</td><td>高（安全第一）</td><td>先看看遠端有什麼更新</td></tr><tr><td><code>git pull</code></td><td>下載+合併</td><td>中（一次到位）</td><td>確定要立刻合併遠端更新</td></tr></tbody></table><p><code>git pull</code> 等同於（組合技）：</p><div class="language-shell vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">shell</span><pre class="shiki shiki-themes vitesse-light vitesse-dark vp-code"><code><span class="line"><span style="--shiki-light:#59873A;--shiki-dark:#80A665;">git</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> fetch</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> origin</span></span>
<span class="line"><span style="--shiki-light:#59873A;--shiki-dark:#80A665;">git</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> merge</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> origin/main</span></span></code></pre></div><h2 id="實戰練習" tabindex="-1">實戰練習 <a class="header-anchor" href="#實戰練習" aria-label="Permalink to &quot;實戰練習&quot;">​</a></h2><h3 id="練習-1-簡單" tabindex="-1">練習 1（簡單） <a class="header-anchor" href="#練習-1-簡單" aria-label="Permalink to &quot;練習 1（簡單）&quot;">​</a></h3><p>在本地建立 <code>feature-header</code> 分支，新增一個檔案，提交後推送到遠端並建立追蹤。</p><details class="details custom-block"><summary>參考答案</summary><div class="language-shell vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">shell</span><pre class="shiki shiki-themes vitesse-light vitesse-dark vp-code"><code><span class="line"><span style="--shiki-light:#59873A;--shiki-dark:#80A665;">git</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> checkout</span><span style="--shiki-light:#A65E2B;--shiki-dark:#C99076;"> -b</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> feature-header</span></span>
<span class="line"><span style="--shiki-light:#998418;--shiki-dark:#B8A965;">echo</span><span style="--shiki-light:#B5695977;--shiki-dark:#C98A7D77;"> &quot;</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;">header content</span><span style="--shiki-light:#B5695977;--shiki-dark:#C98A7D77;">&quot;</span><span style="--shiki-light:#AB5959;--shiki-dark:#CB7676;"> &gt;</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> header.html</span></span>
<span class="line"><span style="--shiki-light:#59873A;--shiki-dark:#80A665;">git</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> add</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> header.html</span></span>
<span class="line"><span style="--shiki-light:#59873A;--shiki-dark:#80A665;">git</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> commit</span><span style="--shiki-light:#A65E2B;--shiki-dark:#C99076;"> -m</span><span style="--shiki-light:#B5695977;--shiki-dark:#C98A7D77;"> &quot;</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;">feat: add header</span><span style="--shiki-light:#B5695977;--shiki-dark:#C98A7D77;">&quot;</span></span>
<span class="line"><span style="--shiki-light:#59873A;--shiki-dark:#80A665;">git</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> push</span><span style="--shiki-light:#A65E2B;--shiki-dark:#C99076;"> -u</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> origin</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> feature-header</span><span style="--shiki-light:#A0ADA0;--shiki-dark:#758575DD;">  # 一次搞定！</span></span></code></pre></div></details><h3 id="練習-2-簡單" tabindex="-1">練習 2（簡單） <a class="header-anchor" href="#練習-2-簡單" aria-label="Permalink to &quot;練習 2（簡單）&quot;">​</a></h3><p>遠端有新提交，你想先查看內容再決定是否合併。請用 fetch 下載並檢視差異。</p><details class="details custom-block"><summary>參考答案</summary><div class="language-shell vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">shell</span><pre class="shiki shiki-themes vitesse-light vitesse-dark vp-code"><code><span class="line"><span style="--shiki-light:#59873A;--shiki-dark:#80A665;">git</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> fetch</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> origin</span><span style="--shiki-light:#A0ADA0;--shiki-dark:#758575DD;">  # 先下載（偷看）</span></span>
<span class="line"><span style="--shiki-light:#59873A;--shiki-dark:#80A665;">git</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> log</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> origin/main</span><span style="--shiki-light:#A65E2B;--shiki-dark:#C99076;"> --oneline</span><span style="--shiki-light:#A65E2B;--shiki-dark:#C99076;"> -5</span><span style="--shiki-light:#A0ADA0;--shiki-dark:#758575DD;">  # 看看有什麼新東西</span></span>
<span class="line"><span style="--shiki-light:#59873A;--shiki-dark:#80A665;">git</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> diff</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> main</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> origin/main</span><span style="--shiki-light:#A0ADA0;--shiki-dark:#758575DD;">  # 比較差異</span></span>
<span class="line"><span style="--shiki-light:#A0ADA0;--shiki-dark:#758575DD;"># 確認後再合併</span></span>
<span class="line"><span style="--shiki-light:#59873A;--shiki-dark:#80A665;">git</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> merge</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> origin/main</span><span style="--shiki-light:#A0ADA0;--shiki-dark:#758575DD;">  # OK，可以合併</span></span></code></pre></div></details><h3 id="練習-3-中等" tabindex="-1">練習 3（中等） <a class="header-anchor" href="#練習-3-中等" aria-label="Permalink to &quot;練習 3（中等）&quot;">​</a></h3><p>你在 <code>dev</code> 分支用 <code>rebase</code> 整理了提交，但已推送過。現在需要強制推送，但要確保不會覆蓋別人的更新。</p><details class="details custom-block"><summary>參考答案與思路</summary><div class="language-shell vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">shell</span><pre class="shiki shiki-themes vitesse-light vitesse-dark vp-code"><code><span class="line"><span style="--shiki-light:#A0ADA0;--shiki-dark:#758575DD;"># 1. 先 fetch 確認遠端狀態</span></span>
<span class="line"><span style="--shiki-light:#59873A;--shiki-dark:#80A665;">git</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> fetch</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> origin</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#A0ADA0;--shiki-dark:#758575DD;"># 2. 檢查遠端是否有新提交</span></span>
<span class="line"><span style="--shiki-light:#59873A;--shiki-dark:#80A665;">git</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> log</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> dev..origin/dev</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#A0ADA0;--shiki-dark:#758575DD;"># 3. 若無新提交，用 --force-with-lease 推送（救命符）</span></span>
<span class="line"><span style="--shiki-light:#59873A;--shiki-dark:#80A665;">git</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> push</span><span style="--shiki-light:#A65E2B;--shiki-dark:#C99076;"> --force-with-lease</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> origin</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> dev</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#A0ADA0;--shiki-dark:#758575DD;"># 4. 若有新提交，先和團隊確認再操作（別當壞人）</span></span></code></pre></div><p><strong>思路：</strong></p><ul><li><code>--force-with-lease</code> 會檢查遠端是否有新提交</li><li>若有，會拒絕推送（比 <code>-f</code> 安全多了）</li><li>適合個人分支的強制推送</li></ul></details><h2 id="faq" tabindex="-1">FAQ <a class="header-anchor" href="#faq" aria-label="Permalink to &quot;FAQ&quot;">​</a></h2><h3 id="q-push-失敗顯示「rejected」怎麼辦" tabindex="-1">Q: Push 失敗顯示「rejected」怎麼辦？ <a class="header-anchor" href="#q-push-失敗顯示「rejected」怎麼辦" aria-label="Permalink to &quot;Q: Push 失敗顯示「rejected」怎麼辦？&quot;">​</a></h3><p>通常是遠端有新提交（別人先推了）。解決方式：</p><div class="language-shell vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">shell</span><pre class="shiki shiki-themes vitesse-light vitesse-dark vp-code"><code><span class="line"><span style="--shiki-light:#59873A;--shiki-dark:#80A665;">git</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> pull</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> origin</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> main</span><span style="--shiki-light:#A0ADA0;--shiki-dark:#758575DD;">  # 或 git fetch + git merge</span></span>
<span class="line"><span style="--shiki-light:#59873A;--shiki-dark:#80A665;">git</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> push</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> origin</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> main</span><span style="--shiki-light:#A0ADA0;--shiki-dark:#758575DD;">  # 再推一次就成功了</span></span></code></pre></div><h3 id="q-fetch-和-pull-該用哪個" tabindex="-1">Q: Fetch 和 Pull 該用哪個？ <a class="header-anchor" href="#q-fetch-和-pull-該用哪個" aria-label="Permalink to &quot;Q: Fetch 和 Pull 該用哪個？&quot;">​</a></h3><ul><li>不確定遠端更新內容：用 <code>fetch</code> 先看（安全牌）</li><li>確定要立刻合併：用 <code>pull</code>（快速牌）</li><li>建議養成先 <code>fetch</code> 再 <code>merge</code> 的習慣（穩穩的）</li></ul><h3 id="q-如何撤銷錯誤的-push" tabindex="-1">Q: 如何撤銷錯誤的 Push？ <a class="header-anchor" href="#q-如何撤銷錯誤的-push" aria-label="Permalink to &quot;Q: 如何撤銷錯誤的 Push？&quot;">​</a></h3><p>若尚未被他人拉取：</p><div class="language-shell vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">shell</span><pre class="shiki shiki-themes vitesse-light vitesse-dark vp-code"><code><span class="line"><span style="--shiki-light:#59873A;--shiki-dark:#80A665;">git</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> revert</span><span style="--shiki-light:#AB5959;--shiki-dark:#CB7676;"> &lt;</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;">commit-i</span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE;">d</span><span style="--shiki-light:#AB5959;--shiki-dark:#CB7676;">&gt;</span><span style="--shiki-light:#A0ADA0;--shiki-dark:#758575DD;">  # 推薦：生成反向提交（溫柔模式）</span></span>
<span class="line"><span style="--shiki-light:#59873A;--shiki-dark:#80A665;">git</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> push</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> origin</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> main</span></span></code></pre></div><p>若已被他人拉取，避免用 <code>reset + push -f</code>，會影響團隊（變公敵）。</p><h3 id="q-推送時要輸入密碼很麻煩" tabindex="-1">Q: 推送時要輸入密碼很麻煩？ <a class="header-anchor" href="#q-推送時要輸入密碼很麻煩" aria-label="Permalink to &quot;Q: 推送時要輸入密碼很麻煩？&quot;">​</a></h3><p>使用 SSH 金鑰（一勞永逸）：</p><div class="language-shell vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">shell</span><pre class="shiki shiki-themes vitesse-light vitesse-dark vp-code"><code><span class="line"><span style="--shiki-light:#A0ADA0;--shiki-dark:#758575DD;"># 生成金鑰（若未有）</span></span>
<span class="line"><span style="--shiki-light:#59873A;--shiki-dark:#80A665;">ssh-keygen</span><span style="--shiki-light:#A65E2B;--shiki-dark:#C99076;"> -t</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> ed25519</span><span style="--shiki-light:#A65E2B;--shiki-dark:#C99076;"> -C</span><span style="--shiki-light:#B5695977;--shiki-dark:#C98A7D77;"> &quot;</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;">your_email@example.com</span><span style="--shiki-light:#B5695977;--shiki-dark:#C98A7D77;">&quot;</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#A0ADA0;--shiki-dark:#758575DD;"># 將公鑰 (~/.ssh/id_ed25519.pub) 加到 GitHub/GitLab</span></span>
<span class="line"><span style="--shiki-light:#A0ADA0;--shiki-dark:#758575DD;"># 改用 SSH 網址</span></span>
<span class="line"><span style="--shiki-light:#59873A;--shiki-dark:#80A665;">git</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> remote</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> set-url</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> origin</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> git@github.com:user/repo.git</span></span></code></pre></div><h2 id="延伸閱讀" tabindex="-1">延伸閱讀 <a class="header-anchor" href="#延伸閱讀" aria-label="Permalink to &quot;延伸閱讀&quot;">​</a></h2>`,45),C=l('<h2 id="總結" tabindex="-1">總結 <a class="header-anchor" href="#總結" aria-label="Permalink to &quot;總結&quot;">​</a></h2><ol><li><code>fetch</code> 只下載不合併，安全檢視遠端更新（先看再說）。</li><li><code>push</code> 上傳本地提交，首次用 <code>-u</code> 建立追蹤（設定快速撥號）。</li><li>Push 失敗通常因遠端有新提交，先 <code>pull</code> 再推（別急）。</li><li>強制推送 <code>-f</code> 會覆蓋遠端，<code>--force-with-lease</code> 較安全（救命符）。</li><li>推薦流程：<code>fetch</code> 檢視差異 <code>merge</code> <code>push</code>（穩穩的）。</li></ol><p>掌握 Push 與 Fetch，你就是遠端同步大師！</p>',3);function B(m,v,b,f,E,_){const p=t("Mermaid"),n=t("VPNolebaseInlineLinkPreview"),r=t("NolebaseGitContributors"),o=t("NolebaseGitChangelog");return h(),g("div",null,[y,(h(),k(d,null,{default:s(()=>[i(p,{id:"mermaid-57",class:"mermaid",graph:"sequenceDiagram%0A%20%20%20%20participant%20L%20as%20%E6%9C%AC%E5%9C%B0%E5%80%89%E5%BA%AB%0A%20%20%20%20participant%20R%20as%20%E9%81%A0%E7%AB%AF%E5%80%89%E5%BA%AB%0A%20%20%20%20R-%3E%3EL%3A%20fetch%EF%BC%88%E5%8F%AA%E4%B8%8B%E8%BC%89%EF%BC%89%0A%20%20%20%20Note%20over%20L%3A%20%E6%AA%A2%E8%A6%96%E6%9B%B4%E6%96%B0%EF%BC%8C%E6%B1%BA%E5%AE%9A%E6%98%AF%E5%90%A6%E5%90%88%E4%BD%B5%3Cbr%2F%3E%EF%BC%88%E5%85%88%E7%9C%8B%E7%9C%8B%EF%BC%8C%E4%B8%8D%E6%80%A5%E8%91%97%E5%8B%95%E6%89%8B%EF%BC%89%0A%20%20%20%20L-%3E%3EL%3A%20merge%2Frebase%EF%BC%88%E6%89%8B%E5%8B%95%E5%90%88%E4%BD%B5%EF%BC%89%0A"})]),fallback:s(()=>[a(" Loading... ")]),_:1})),u,(h(),k(d,null,{default:s(()=>[i(p,{id:"mermaid-81",class:"mermaid",graph:"sequenceDiagram%0A%20%20%20%20participant%20L%20as%20%E6%9C%AC%E5%9C%B0%E5%80%89%E5%BA%AB%0A%20%20%20%20participant%20R%20as%20%E9%81%A0%E7%AB%AF%E5%80%89%E5%BA%AB%0A%20%20%20%20L-%3E%3EL%3A%20git%20commit%0A%20%20%20%20L-%3E%3ER%3A%20git%20push%20origin%20main%0A%20%20%20%20Note%20over%20R%3A%20%E9%81%A0%E7%AB%AF%E6%9B%B4%E6%96%B0%20%0A"})]),fallback:s(()=>[a(" Loading... ")]),_:1})),D,e("ul",null,[e("li",null,[i(n,{href:"./git-branch"},{default:s(()=>[a("git-branch.md")]),_:1}),a(" - 分支管理")]),e("li",null,[i(n,{href:"./git-commit"},{default:s(()=>[a("git-commit.md")]),_:1}),a(" - 提交訊息規範")]),e("li",null,[i(n,{href:"https://docs.github.com/en/authentication/connecting-to-github-with-ssh",target:"_blank",rel:"noreferrer"},{default:s(()=>[a("GitHub SSH 設定")]),_:1})])]),C,i(r),i(o)])}const x=c(A,[["render",B]]);export{P as __pageData,x as default};
