import{_ as o,c as g,b as l,w as s,au as h,m as p,J as i,a,V as e,E as k,o as t}from"./chunks/framework.C9sE8QFS.js";const E=JSON.parse('{"title":"Git Branch 分支管理","description":"","frontmatter":{"outline":"deep","head":[["meta",{"name":"author","content":"許恩綸"}],["meta",{"name":"keywords","content":"git,git branch,分支管理,merge,rebase,cherry-pick"}],["meta",{"property":"og:title","content":"Git Branch 分支管理完全指南"}],["meta",{"property":"og:description","content":"從基礎到進階的 Git 分支操作,包含建立、切換、合併、rebase 互動式重寫等完整教學與視覺化流程圖"}],["meta",{"property":"og:type","content":"article"}],["meta",{"property":"og:image","content":"./imgs/git-cover.png"}]]},"headers":[],"relativePath":"git/git-branch.md","filePath":"git/git-branch.md","lastUpdated":1766683168000}'),A={name:"git/git-branch.md"},m=e('<h1 id="git-branch-分支管理" tabindex="-1">Git Branch 分支管理 <a class="header-anchor" href="#git-branch-分支管理" aria-label="Permalink to &quot;Git Branch 分支管理&quot;">​</a></h1><blockquote><p>TL;DR：分支就像平行宇宙，讓多人可以各自開發不同功能不打架！基本套路：<code>git branch &lt;name&gt;</code> 創造分支 <code>git checkout &lt;name&gt;</code> 穿越過去 開發完成後 <code>merge</code> 或 <code>rebase</code> 合體回主線。遠端分支用 <code>git push origin &lt;branch&gt;</code> 發射出去</p></blockquote><h2 id="前置知識" tabindex="-1">前置知識 <a class="header-anchor" href="#前置知識" aria-label="Permalink to &quot;前置知識&quot;">​</a></h2><ul><li>了解 Git 基本操作：add、commit、log</li><li>知道什麼是工作區、暫存區、本地倉庫</li></ul><h2 id="為什麼需要分支" tabindex="-1">為什麼需要分支？ <a class="header-anchor" href="#為什麼需要分支" aria-label="Permalink to &quot;為什麼需要分支？&quot;">​</a></h2><p>想像團隊同時開發三個功能：</p><ul><li>開發者 A：新增登入功能</li><li>開發者 B：修復購物車 bug</li><li>開發者 C：重構資料庫結構</li></ul><p>若都在同一條主線上開發，程式碼會互相干擾（就像三個人同時在同一張紙上畫畫 ）。<strong>分支</strong>讓每個人在獨立的「平行宇宙」工作，完成後再合併回主線這樣大家都開心！</p>',8),u=e(`<h2 id="基本分支操作" tabindex="-1">基本分支操作 <a class="header-anchor" href="#基本分支操作" aria-label="Permalink to &quot;基本分支操作&quot;">​</a></h2><h3 id="查看分支" tabindex="-1">查看分支 <a class="header-anchor" href="#查看分支" aria-label="Permalink to &quot;查看分支&quot;">​</a></h3><div class="language-shell vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">shell</span><pre class="shiki shiki-themes vitesse-light vitesse-dark vp-code"><code><span class="line"><span style="--shiki-light:#59873A;--shiki-dark:#80A665;">git</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> branch</span><span style="--shiki-light:#A0ADA0;--shiki-dark:#758575DD;">           # 列出本地分支（看看你有幾個平行宇宙）</span></span>
<span class="line"><span style="--shiki-light:#59873A;--shiki-dark:#80A665;">git</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> branch</span><span style="--shiki-light:#A65E2B;--shiki-dark:#C99076;"> -r</span><span style="--shiki-light:#A0ADA0;--shiki-dark:#758575DD;">        # 列出遠端分支（別人的平行宇宙）</span></span>
<span class="line"><span style="--shiki-light:#59873A;--shiki-dark:#80A665;">git</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> branch</span><span style="--shiki-light:#A65E2B;--shiki-dark:#C99076;"> -a</span><span style="--shiki-light:#A0ADA0;--shiki-dark:#758575DD;">        # 全部都要！（本地+遠端）</span></span></code></pre></div><h3 id="建立與切換分支" tabindex="-1">建立與切換分支 <a class="header-anchor" href="#建立與切換分支" aria-label="Permalink to &quot;建立與切換分支&quot;">​</a></h3><div class="language-shell vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">shell</span><pre class="shiki shiki-themes vitesse-light vitesse-dark vp-code"><code><span class="line"><span style="--shiki-light:#A0ADA0;--shiki-dark:#758575DD;"># 建立新分支（但不切換過去，只是先開個門）</span></span>
<span class="line"><span style="--shiki-light:#59873A;--shiki-dark:#80A665;">git</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> branch</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> feature-payment</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#A0ADA0;--shiki-dark:#758575DD;"># 切換到該分支（穿越！）</span></span>
<span class="line"><span style="--shiki-light:#59873A;--shiki-dark:#80A665;">git</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> checkout</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> feature-payment</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#A0ADA0;--shiki-dark:#758575DD;"># 建立並立刻切換（常用！一步到位）</span></span>
<span class="line"><span style="--shiki-light:#59873A;--shiki-dark:#80A665;">git</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> checkout</span><span style="--shiki-light:#A65E2B;--shiki-dark:#C99076;"> -b</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> feature-payment</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#A0ADA0;--shiki-dark:#758575DD;"># 新版 Git（2.23+）推薦用 switch（語意更清楚）</span></span>
<span class="line"><span style="--shiki-light:#59873A;--shiki-dark:#80A665;">git</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> switch</span><span style="--shiki-light:#A65E2B;--shiki-dark:#C99076;"> -c</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> feature-payment</span></span></code></pre></div><h3 id="刪除分支" tabindex="-1">刪除分支 <a class="header-anchor" href="#刪除分支" aria-label="Permalink to &quot;刪除分支&quot;">​</a></h3><div class="language-shell vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">shell</span><pre class="shiki shiki-themes vitesse-light vitesse-dark vp-code"><code><span class="line"><span style="--shiki-light:#59873A;--shiki-dark:#80A665;">git</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> branch</span><span style="--shiki-light:#A65E2B;--shiki-dark:#C99076;"> -d</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> feature-payment</span><span style="--shiki-light:#A0ADA0;--shiki-dark:#758575DD;">    # 溫柔刪除（已合併才刪，安全第一）</span></span>
<span class="line"><span style="--shiki-light:#59873A;--shiki-dark:#80A665;">git</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> branch</span><span style="--shiki-light:#A65E2B;--shiki-dark:#C99076;"> -D</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> feature-payment</span><span style="--shiki-light:#A0ADA0;--shiki-dark:#758575DD;">    # 狠心刪除（不管有沒有合併都刪掉！）</span></span></code></pre></div><div class="tip custom-block"><p class="custom-block-title">小提示</p><p>用 <code>-d</code> 刪不掉時，Git 會提醒你「欸這個分支還沒合併喔」。確定要刪再用 <code>-D</code> 這個核彈按鈕！</p></div><h2 id="遠端分支管理" tabindex="-1">遠端分支管理 <a class="header-anchor" href="#遠端分支管理" aria-label="Permalink to &quot;遠端分支管理&quot;">​</a></h2><h3 id="推送本地分支到遠端" tabindex="-1">推送本地分支到遠端 <a class="header-anchor" href="#推送本地分支到遠端" aria-label="Permalink to &quot;推送本地分支到遠端&quot;">​</a></h3><div class="language-shell vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">shell</span><pre class="shiki shiki-themes vitesse-light vitesse-dark vp-code"><code><span class="line"><span style="--shiki-light:#A0ADA0;--shiki-dark:#758575DD;"># 首次推送並建立追蹤（像是在雲端開一個新的平行宇宙）</span></span>
<span class="line"><span style="--shiki-light:#59873A;--shiki-dark:#80A665;">git</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> push</span><span style="--shiki-light:#A65E2B;--shiki-dark:#C99076;"> -u</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> origin</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> feature-payment</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#A0ADA0;--shiki-dark:#758575DD;"># 之後只需這樣就好（因為已經建立追蹤關係了）</span></span>
<span class="line"><span style="--shiki-light:#59873A;--shiki-dark:#80A665;">git</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> push</span></span></code></pre></div><h3 id="刪除遠端分支" tabindex="-1">刪除遠端分支 <a class="header-anchor" href="#刪除遠端分支" aria-label="Permalink to &quot;刪除遠端分支&quot;">​</a></h3><div class="language-shell vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">shell</span><pre class="shiki shiki-themes vitesse-light vitesse-dark vp-code"><code><span class="line"><span style="--shiki-light:#59873A;--shiki-dark:#80A665;">git</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> push</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> origin</span><span style="--shiki-light:#A65E2B;--shiki-dark:#C99076;"> --delete</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> feature-payment</span><span style="--shiki-light:#A0ADA0;--shiki-dark:#758575DD;">  # 清楚明瞭</span></span>
<span class="line"><span style="--shiki-light:#59873A;--shiki-dark:#80A665;">git</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> push</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> origin</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> :feature-payment</span><span style="--shiki-light:#A0ADA0;--shiki-dark:#758575DD;">          # 舊語法（像是推送「空白」到遠端）</span></span></code></pre></div><h3 id="清理已刪除的遠端分支參照" tabindex="-1">清理已刪除的遠端分支參照 <a class="header-anchor" href="#清理已刪除的遠端分支參照" aria-label="Permalink to &quot;清理已刪除的遠端分支參照&quot;">​</a></h3><div class="language-shell vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">shell</span><pre class="shiki shiki-themes vitesse-light vitesse-dark vp-code"><code><span class="line"><span style="--shiki-light:#59873A;--shiki-dark:#80A665;">git</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> fetch</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> origin</span><span style="--shiki-light:#A65E2B;--shiki-dark:#C99076;"> --prune</span><span style="--shiki-light:#A0ADA0;--shiki-dark:#758575DD;">  # 大掃除！清理本地記錄中已經不存在的遠端分支</span></span></code></pre></div><h2 id="合併分支-merge-vs-rebase" tabindex="-1">合併分支：Merge vs Rebase <a class="header-anchor" href="#合併分支-merge-vs-rebase" aria-label="Permalink to &quot;合併分支：Merge vs Rebase&quot;">​</a></h2><h3 id="merge-保留完整歷史" tabindex="-1">Merge（保留完整歷史） <a class="header-anchor" href="#merge-保留完整歷史" aria-label="Permalink to &quot;Merge（保留完整歷史）&quot;">​</a></h3><div class="language-shell vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">shell</span><pre class="shiki shiki-themes vitesse-light vitesse-dark vp-code"><code><span class="line"><span style="--shiki-light:#59873A;--shiki-dark:#80A665;">git</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> checkout</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> main</span></span>
<span class="line"><span style="--shiki-light:#59873A;--shiki-dark:#80A665;">git</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> merge</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> feature-login</span></span></code></pre></div>`,18),y=e(`<p><strong>優點</strong>：歷史完整、安全（就像保存完整的家族樹）<br><strong>缺點</strong>：歷史線圖複雜（家族關係複雜到看不懂 ）</p><h3 id="rebase-線性歷史" tabindex="-1">Rebase（線性歷史） <a class="header-anchor" href="#rebase-線性歷史" aria-label="Permalink to &quot;Rebase（線性歷史）&quot;">​</a></h3><div class="language-shell vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">shell</span><pre class="shiki shiki-themes vitesse-light vitesse-dark vp-code"><code><span class="line"><span style="--shiki-light:#59873A;--shiki-dark:#80A665;">git</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> checkout</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> feature-login</span></span>
<span class="line"><span style="--shiki-light:#59873A;--shiki-dark:#80A665;">git</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> rebase</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> main</span></span></code></pre></div>`,3),b=e(`<p><strong>優點</strong>：歷史簡潔（一條直線看起來超舒服）<br><strong>缺點</strong>：重寫歷史，已推送的分支勿用（會造成時空悖論！）</p><div class="warning custom-block"><p class="custom-block-title">Rebase 黃金法則</p><p><strong>絕不 rebase 已推送到遠端的公開分支！</strong><br> 只在本地私有分支使用，避免團隊衝突。不然就等著被隊友追殺吧</p></div><h2 id="cherry-pick-挑選特定提交" tabindex="-1">Cherry-pick：挑選特定提交 <a class="header-anchor" href="#cherry-pick-挑選特定提交" aria-label="Permalink to &quot;Cherry-pick：挑選特定提交&quot;">​</a></h2><p>情境：想把 dev 分支的某個 commit 單獨套用到 main，但不想合併整個分支（就像只想吃蛋糕上的櫻桃 ）。</p><div class="language-shell vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">shell</span><pre class="shiki shiki-themes vitesse-light vitesse-dark vp-code"><code><span class="line"><span style="--shiki-light:#59873A;--shiki-dark:#80A665;">git</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> checkout</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> main</span></span>
<span class="line"><span style="--shiki-light:#59873A;--shiki-dark:#80A665;">git</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> cherry-pick</span><span style="--shiki-light:#AB5959;--shiki-dark:#CB7676;"> &lt;</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;">commit-i</span><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE;">d</span><span style="--shiki-light:#AB5959;--shiki-dark:#CB7676;">&gt;</span></span></code></pre></div>`,5),D=e(`<h2 id="互動式-rebase-進階" tabindex="-1">互動式 Rebase（進階） <a class="header-anchor" href="#互動式-rebase-進階" aria-label="Permalink to &quot;互動式 Rebase（進階）&quot;">​</a></h2><div class="danger custom-block"><p class="custom-block-title">警告</p><p>只用於<strong>尚未推送</strong>的本地提交！這是在改寫歷史，已經公開的不要亂動！</p></div><h3 id="重寫最近-4-筆提交" tabindex="-1">重寫最近 4 筆提交 <a class="header-anchor" href="#重寫最近-4-筆提交" aria-label="Permalink to &quot;重寫最近 4 筆提交&quot;">​</a></h3><div class="language-shell vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">shell</span><pre class="shiki shiki-themes vitesse-light vitesse-dark vp-code"><code><span class="line"><span style="--shiki-light:#59873A;--shiki-dark:#80A665;">git</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> rebase</span><span style="--shiki-light:#A65E2B;--shiki-dark:#C99076;"> -i</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> HEAD~4</span></span></code></pre></div><p>編輯器會打開：</p><div class="language- vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki shiki-themes vitesse-light vitesse-dark vp-code"><code><span class="line"><span>pick a1b2c3d feat: add login</span></span>
<span class="line"><span>pick e4f5g6h fix: typo</span></span>
<span class="line"><span>pick i7j8k9l refactor: clean code</span></span>
<span class="line"><span>pick m0n1o2p docs: update readme</span></span></code></pre></div><p>可用指令（像是時光機的操作面板）：</p><ul><li><code>pick</code>：保留（這個提交沒問題）</li><li><code>reword</code>：修改訊息（改個錯字）</li><li><code>edit</code>：暫停以修改內容（要大改）</li><li><code>squash</code>：合併到前一筆（保留訊息）</li><li><code>fixup</code>：合併到前一筆（丟棄訊息，更乾淨）</li><li><code>drop</code>：刪除該提交（黑歷史不要了）</li></ul><p>範例：合併中間兩筆</p><div class="language- vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki shiki-themes vitesse-light vitesse-dark vp-code"><code><span class="line"><span>pick a1b2c3d feat: add login</span></span>
<span class="line"><span>squash e4f5g6h fix: typo</span></span>
<span class="line"><span>squash i7j8k9l refactor: clean code</span></span>
<span class="line"><span>pick m0n1o2p docs: update readme</span></span></code></pre></div><h2 id="實戰練習" tabindex="-1">實戰練習 <a class="header-anchor" href="#實戰練習" aria-label="Permalink to &quot;實戰練習&quot;">​</a></h2><h3 id="練習-1-簡單" tabindex="-1">練習 1（簡單） <a class="header-anchor" href="#練習-1-簡單" aria-label="Permalink to &quot;練習 1（簡單）&quot;">​</a></h3><p>建立分支 <code>feature-navbar</code>，新增一個檔案 <code>navbar.html</code>，提交後切回 main 並檢視分支差異。</p><details class="details custom-block"><summary>參考答案</summary><div class="language-shell vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">shell</span><pre class="shiki shiki-themes vitesse-light vitesse-dark vp-code"><code><span class="line"><span style="--shiki-light:#59873A;--shiki-dark:#80A665;">git</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> checkout</span><span style="--shiki-light:#A65E2B;--shiki-dark:#C99076;"> -b</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> feature-navbar</span></span>
<span class="line"><span style="--shiki-light:#998418;--shiki-dark:#B8A965;">echo</span><span style="--shiki-light:#B5695977;--shiki-dark:#C98A7D77;"> &quot;</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;">&lt;nav&gt;Menu&lt;/nav&gt;</span><span style="--shiki-light:#B5695977;--shiki-dark:#C98A7D77;">&quot;</span><span style="--shiki-light:#AB5959;--shiki-dark:#CB7676;"> &gt;</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> navbar.html</span></span>
<span class="line"><span style="--shiki-light:#59873A;--shiki-dark:#80A665;">git</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> add</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> navbar.html</span></span>
<span class="line"><span style="--shiki-light:#59873A;--shiki-dark:#80A665;">git</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> commit</span><span style="--shiki-light:#A65E2B;--shiki-dark:#C99076;"> -m</span><span style="--shiki-light:#B5695977;--shiki-dark:#C98A7D77;"> &quot;</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;">feat: add navbar</span><span style="--shiki-light:#B5695977;--shiki-dark:#C98A7D77;">&quot;</span></span>
<span class="line"><span style="--shiki-light:#59873A;--shiki-dark:#80A665;">git</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> checkout</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> main</span></span>
<span class="line"><span style="--shiki-light:#59873A;--shiki-dark:#80A665;">git</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> log</span><span style="--shiki-light:#A65E2B;--shiki-dark:#C99076;"> --oneline</span><span style="--shiki-light:#A65E2B;--shiki-dark:#C99076;"> --graph</span><span style="--shiki-light:#A65E2B;--shiki-dark:#C99076;"> --all</span></span></code></pre></div></details><h3 id="練習-2-簡單" tabindex="-1">練習 2（簡單） <a class="header-anchor" href="#練習-2-簡單" aria-label="Permalink to &quot;練習 2（簡單）&quot;">​</a></h3><p>刪除本地分支 <code>old-feature</code>，並清理已不存在的遠端分支參照。</p><details class="details custom-block"><summary>參考答案</summary><div class="language-shell vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">shell</span><pre class="shiki shiki-themes vitesse-light vitesse-dark vp-code"><code><span class="line"><span style="--shiki-light:#59873A;--shiki-dark:#80A665;">git</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> branch</span><span style="--shiki-light:#A65E2B;--shiki-dark:#C99076;"> -d</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> old-feature</span><span style="--shiki-light:#A0ADA0;--shiki-dark:#758575DD;">           # 或 -D 強制刪除（狠心模式）</span></span>
<span class="line"><span style="--shiki-light:#59873A;--shiki-dark:#80A665;">git</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> fetch</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> origin</span><span style="--shiki-light:#A65E2B;--shiki-dark:#C99076;"> --prune</span><span style="--shiki-light:#A0ADA0;--shiki-dark:#758575DD;">            # 大掃除</span></span>
<span class="line"><span style="--shiki-light:#59873A;--shiki-dark:#80A665;">git</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> branch</span><span style="--shiki-light:#A65E2B;--shiki-dark:#C99076;"> -r</span><span style="--shiki-light:#A0ADA0;--shiki-dark:#758575DD;">                       # 確認已清理乾淨</span></span></code></pre></div></details><h3 id="練習-3-中等" tabindex="-1">練習 3（中等） <a class="header-anchor" href="#練習-3-中等" aria-label="Permalink to &quot;練習 3（中等）&quot;">​</a></h3><p>你在 <code>dev</code> 分支做了 3 個提交，但第 2 個提交訊息寫錯。請用互動式 rebase 修正訊息，但不改變程式碼。</p><details class="details custom-block"><summary>參考答案與思路</summary><div class="language-shell vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">shell</span><pre class="shiki shiki-themes vitesse-light vitesse-dark vp-code"><code><span class="line"><span style="--shiki-light:#A0ADA0;--shiki-dark:#758575DD;"># 1. 確認提交歷史</span></span>
<span class="line"><span style="--shiki-light:#59873A;--shiki-dark:#80A665;">git</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> log</span><span style="--shiki-light:#A65E2B;--shiki-dark:#C99076;"> --oneline</span><span style="--shiki-light:#A65E2B;--shiki-dark:#C99076;"> -5</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#A0ADA0;--shiki-dark:#758575DD;"># 2. 啟動互動式 rebase（假設要改最近 3 筆）</span></span>
<span class="line"><span style="--shiki-light:#59873A;--shiki-dark:#80A665;">git</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> rebase</span><span style="--shiki-light:#A65E2B;--shiki-dark:#C99076;"> -i</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> HEAD~3</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#A0ADA0;--shiki-dark:#758575DD;"># 3. 編輯器中，將第 2 筆的 pick 改為 reword</span></span>
<span class="line"><span style="--shiki-light:#A0ADA0;--shiki-dark:#758575DD;"># pick abc1234 first commit</span></span>
<span class="line"><span style="--shiki-light:#A0ADA0;--shiki-dark:#758575DD;"># reword def5678 second commit (錯誤訊息)</span></span>
<span class="line"><span style="--shiki-light:#A0ADA0;--shiki-dark:#758575DD;"># pick ghi9012 third commit</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#A0ADA0;--shiki-dark:#758575DD;"># 4. 儲存後會跳出編輯器讓你修改第 2 筆訊息</span></span>
<span class="line"><span style="--shiki-light:#A0ADA0;--shiki-dark:#758575DD;"># 5. 確認結果</span></span>
<span class="line"><span style="--shiki-light:#59873A;--shiki-dark:#80A665;">git</span><span style="--shiki-light:#B56959;--shiki-dark:#C98A7D;"> log</span><span style="--shiki-light:#A65E2B;--shiki-dark:#C99076;"> --oneline</span><span style="--shiki-light:#A65E2B;--shiki-dark:#C99076;"> -3</span></span></code></pre></div><p>注意：若已推送到遠端，需用 <code>git push -f</code>（但會影響他人，小心被圍毆！）</p></details><h2 id="faq" tabindex="-1">FAQ <a class="header-anchor" href="#faq" aria-label="Permalink to &quot;FAQ&quot;">​</a></h2><h3 id="q-merge-和-rebase-該用哪個" tabindex="-1">Q: merge 和 rebase 該用哪個？ <a class="header-anchor" href="#q-merge-和-rebase-該用哪個" aria-label="Permalink to &quot;Q: merge 和 rebase 該用哪個？&quot;">​</a></h3><ul><li><strong>公開分支合併</strong>：用 merge（保留完整歷史，安全第一）</li><li><strong>整理本地提交</strong>：用 rebase（清理歷史再推送，讓線圖更美麗）</li></ul><h3 id="q-切換分支時未提交的改動會怎樣" tabindex="-1">Q: 切換分支時未提交的改動會怎樣？ <a class="header-anchor" href="#q-切換分支時未提交的改動會怎樣" aria-label="Permalink to &quot;Q: 切換分支時未提交的改動會怎樣？&quot;">​</a></h3><p>會跟著你到新分支（像背包裡的東西）。建議先 commit 或用 <code>git stash</code> 暫存起來。</p><h3 id="q-刪除分支會丟失提交嗎" tabindex="-1">Q: 刪除分支會丟失提交嗎？ <a class="header-anchor" href="#q-刪除分支會丟失提交嗎" aria-label="Permalink to &quot;Q: 刪除分支會丟失提交嗎？&quot;">​</a></h3><p>若已合併到其他分支，提交仍保留；若未合併，用 <code>-d</code> 會警告你，<code>-D</code> 會直接刪除（不留情面）。</p><h2 id="延伸閱讀" tabindex="-1">延伸閱讀 <a class="header-anchor" href="#延伸閱讀" aria-label="Permalink to &quot;延伸閱讀&quot;">​</a></h2>`,28),C=e('<h2 id="總結" tabindex="-1">總結 <a class="header-anchor" href="#總結" aria-label="Permalink to &quot;總結&quot;">​</a></h2><ol><li>分支讓團隊平行開發，互不干擾（各玩各的平行宇宙 ）。</li><li>常用流程：<code>checkout -b</code> 開發 <code>merge</code> 回主線。</li><li>Merge 保留歷史，rebase 整理歷史（僅用於本地，別亂搞公開分支）。</li><li>互動式 rebase 可合併/修改/刪除提交，但勿用於已推送的提交。</li><li>遠端分支用 <code>-u</code> 建立追蹤，<code>--prune</code> 清理已刪除的參照。</li></ol><p>掌握分支，你就是 Git 時空管理大師！</p>',3);function v(_,B,f,q,P,x){const n=k("Mermaid"),r=k("VPNolebaseInlineLinkPreview"),d=k("NolebaseGitContributors"),c=k("NolebaseGitChangelog");return t(),g("div",null,[m,(t(),l(h,null,{default:s(()=>[i(n,{id:"mermaid-49",class:"mermaid",graph:"gitGraph%0A%20%20%20%20commit%20id%3A%20%22init%22%0A%20%20%20%20branch%20feature-login%0A%20%20%20%20branch%20bugfix-cart%0A%20%20%20%20checkout%20feature-login%0A%20%20%20%20commit%20id%3A%20%22login%20UI%22%0A%20%20%20%20commit%20id%3A%20%22auth%20API%22%0A%20%20%20%20checkout%20main%0A%20%20%20%20checkout%20bugfix-cart%0A%20%20%20%20commit%20id%3A%20%22fix%20cart%20total%22%0A%20%20%20%20checkout%20main%0A%20%20%20%20merge%20feature-login%0A%20%20%20%20merge%20bugfix-cart%0A%20%20%20%20commit%20id%3A%20%22release%20v1.1%22%0A"})]),fallback:s(()=>[a(" Loading... ")]),_:1})),u,(t(),l(h,null,{default:s(()=>[i(n,{id:"mermaid-92",class:"mermaid",graph:"gitGraph%0A%20%20%20%20commit%20id%3A%20%22A%22%0A%20%20%20%20commit%20id%3A%20%22B%22%0A%20%20%20%20branch%20feature%0A%20%20%20%20commit%20id%3A%20%22C%22%0A%20%20%20%20commit%20id%3A%20%22D%22%0A%20%20%20%20checkout%20main%0A%20%20%20%20commit%20id%3A%20%22E%22%0A%20%20%20%20merge%20feature%20id%3A%20%22M%22%0A"})]),fallback:s(()=>[a(" Loading... ")]),_:1})),y,(t(),l(h,null,{default:s(()=>[i(n,{id:"mermaid-100",class:"mermaid",graph:"gitGraph%0A%20%20%20%20commit%20id%3A%20%22A%22%0A%20%20%20%20commit%20id%3A%20%22B%22%0A%20%20%20%20commit%20id%3A%20%22E%22%0A%20%20%20%20commit%20id%3A%20%22C'%22%0A%20%20%20%20commit%20id%3A%20%22D'%22%0A"})]),fallback:s(()=>[a(" Loading... ")]),_:1})),b,(t(),l(h,null,{default:s(()=>[i(n,{id:"mermaid-116",class:"mermaid",graph:"gitGraph%0A%20%20%20%20commit%20id%3A%20%22A%22%0A%20%20%20%20branch%20dev%0A%20%20%20%20commit%20id%3A%20%22B%22%0A%20%20%20%20commit%20id%3A%20%22C%22%20tag%3A%20%22want%20this%22%0A%20%20%20%20commit%20id%3A%20%22D%22%0A%20%20%20%20checkout%20main%0A%20%20%20%20cherry-pick%20id%3A%20%22C%22%0A"})]),fallback:s(()=>[a(" Loading... ")]),_:1})),D,p("ul",null,[p("li",null,[i(r,{href:"https://www.cnblogs.com/FraserYu/p/11192840.html",target:"_blank",rel:"noreferrer"},{default:s(()=>[a("Git Merge vs Rebase 詳解")]),_:1})]),p("li",null,[i(r,{href:"./git-commit"},{default:s(()=>[a("git-commit.md")]),_:1}),a(" - Commit 訊息最佳實踐")]),p("li",null,[i(r,{href:"./git-push"},{default:s(()=>[a("git-push.md")]),_:1}),a(" - 遠端推送與追蹤")])]),C,i(d),i(c)])}const S=o(A,[["render",v]]);export{E as __pageData,S as default};
