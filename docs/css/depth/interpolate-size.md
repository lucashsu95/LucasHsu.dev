# interpolate-size

> ğŸ“ TL;DR
- è®“ `height/width` åœ¨ `auto` èˆ‡å›ºå®šå€¼é–“å¯éæ¸¡ï¼š`interpolate-size: allow-keywords;`
- æ”¾åœ¨ `:root` æˆ–å®¹å™¨ä¸Šå•Ÿç”¨ï¼›ä»å±¬å¯¦é©—æ€§ã€‚
- å¸¸è¦‹å ´æ™¯ï¼šæ‰‹é¢¨ç´å±•é–‹/æ”¶åˆã€æ‡¸æµ®å¡ç‰‡é«˜åº¦åˆ‡æ›ã€‚

`interpolate-size: allow-keywords` æ˜¯ CSS ä¸­çš„ä¸€å€‹å¯¦é©—æ€§åŠŸèƒ½ï¼Œä¸»è¦ç”¨æ–¼æ§åˆ¶å‹•ç•«æˆ–éæ¸¡ä¸­å°ºå¯¸å±¬æ€§çš„æ’å€¼è¡Œç‚ºï¼Œç‰¹åˆ¥æ˜¯åœ¨ä½¿ç”¨å…§åœ¨å°ºå¯¸é—œéµå­—ï¼ˆå¦‚ `auto`ã€`fit-content`ã€`min-content` ç­‰ï¼‰æ™‚ã€‚ä»¥ä¸‹æ˜¯å…¶ä¸»è¦ç”¨é€”ï¼š

## **ç”¨é€”**
1. **æ”¯æ´å…§åœ¨å°ºå¯¸é—œéµå­—çš„å‹•ç•«**  
   å‚³çµ± CSS å‹•ç•«ç„¡æ³•ç›´æ¥è™•ç† `height: auto` æˆ– `width: auto` ç­‰é—œéµå­—ï¼Œè€Œ `interpolate-size: allow-keywords` å…è¨±åœ¨é€™äº›é—œéµå­—èˆ‡å›ºå®šå°ºå¯¸ï¼ˆå¦‚ ``ï¼‰ä¹‹é–“é€²è¡Œå¹³æ»‘éæ¸¡ã€‚

2. **å¯¦ç¾å±•é–‹/æ”¶èµ·æ•ˆæœ**  
   ç”¨æ–¼å‰µå»ºå…ƒç´ å¾éš±è—ï¼ˆå¦‚ `height: 0`ï¼‰åˆ°å±•é–‹ï¼ˆå¦‚ `height: auto`ï¼‰çš„å¹³æ»‘éæ¸¡æ•ˆæœï¼Œå¸¸è¦‹æ–¼å½ˆå‡ºå±¤ã€æ¨¡æ…‹æ¡†æˆ–ä¸‹æ‹‰èœå–®ç­‰å ´æ™¯ã€‚

3. **æå‡å‹•ç•«çš„è‡ªç„¶åº¦**  
   ä½¿å‹•ç•«åœ¨å›ºå®šå°ºå¯¸èˆ‡å…§åœ¨å°ºå¯¸ä¹‹é–“éæ¸¡æ™‚æ›´åŠ æµæš¢ï¼Œé¿å…å‚³çµ±å‹•ç•«ä¸­å°ºå¯¸çªç„¶è·³è®Šçš„å•é¡Œã€‚

4. **æ”¯æ´æ›´å¤šå‹•ç•«å ´æ™¯**  
   åœ¨ç„¡æ³•ä½¿ç”¨éç›’å­æ¨¡å‹å±¬æ€§ï¼ˆå¦‚ `transform`ï¼‰çš„æƒ…æ³ä¸‹ï¼Œæä¾›ä¸€ç¨®æ›¿ä»£æ–¹æ¡ˆä¾†å¯¦ç¾è¤‡é›œçš„å‹•ç•«æ•ˆæœã€‚

## **ç¯„ä¾‹**
ä»¥ä¸‹æ˜¯ä¸€å€‹ç°¡å–®ç¯„ä¾‹ï¼Œå±•ç¤ºå¦‚ä½•ä½¿ç”¨ `interpolate-size: allow-keywords` å¯¦ç¾å¾ `height: 0` åˆ° `height: auto` çš„å¹³æ»‘éæ¸¡ï¼š

```css
:root {
  interpolate-size: allow-keywords; /* å•Ÿç”¨å…§åœ¨å°ºå¯¸é—œéµå­—çš„æ’å€¼ */
}

.box {
  height: 0;
  overflow: hidden;
  transition: height 0.5s ease-in-out;
}

.box:hover {
  height: auto; /* å¾ 0 éæ¸¡åˆ° auto */
}
```

### **æ•ˆæœèªªæ˜**
- ç•¶æ»‘é¼ æ‡¸åœåœ¨ `.box` å…ƒç´ ä¸Šæ™‚ï¼Œå…¶é«˜åº¦æœƒå¾ `0` å¹³æ»‘éæ¸¡åˆ° `auto`ï¼Œé¡¯ç¤ºå…¨éƒ¨å…§å®¹ã€‚
- `interpolate-size: allow-keywords` ç¢ºä¿äº† `height: auto` å¯ä»¥è¢«æ­£ç¢ºéæ¸¡ï¼Œè€Œä¸æ˜¯åƒå‚³çµ± CSS éæ¸¡é‚£æ¨£ç›´æ¥è·³è®Šã€‚

## **æ³¨æ„äº‹é …**
1. **å¯¦é©—æ€§åŠŸèƒ½**  
   ç›®å‰ `interpolate-size` ä»è™•æ–¼å¯¦é©—éšæ®µï¼Œä¸¦éæ‰€æœ‰ç€è¦½å™¨éƒ½æ”¯æŒã€‚åœ¨ä½¿ç”¨å‰éœ€æª¢æŸ¥ç€è¦½å™¨å…¼å®¹æ€§ã€‚

2. **é©ç”¨ç¯„åœ**  
   åƒ…æ”¯æ´å¾å›ºå®šå°ºå¯¸ï¼ˆå¦‚ `100px`ï¼‰åˆ°å…§åœ¨å°ºå¯¸ï¼ˆå¦‚ `auto`ï¼‰çš„éæ¸¡ï¼Œä¸æ”¯æ´å…©å€‹å…§åœ¨å°ºå¯¸ä¹‹é–“çš„éæ¸¡ã€‚

3. **ç¹¼æ‰¿æ€§**  
   `interpolate-size` æ˜¯ç¹¼æ‰¿å±¬æ€§ï¼Œå¯é€šéåœ¨ `:root` æˆ–ç‰¹å®šå®¹å™¨ä¸Šè¨­ç½®ä¾†æ§åˆ¶å…¶ä½œç”¨ç¯„åœã€‚

## **ç¸½çµ**
`interpolate-size: allow-keywords` ç‚º CSS å‹•ç•«æä¾›äº†æ›´å¼·å¤§çš„åŠŸèƒ½ï¼Œç‰¹åˆ¥æ˜¯åœ¨è™•ç†å…§åœ¨å°ºå¯¸é—œéµå­—æ™‚ï¼Œèƒ½å¤ å¯¦ç¾æ›´è‡ªç„¶å’Œæµæš¢çš„éæ¸¡æ•ˆæœã€‚é›–ç„¶å®ƒä»è™•æ–¼å¯¦é©—éšæ®µï¼Œä½†åœ¨æ”¯æŒçš„ç€è¦½å™¨ä¸­ï¼Œå®ƒå¯ä»¥é¡¯è‘—æå‡å‹•ç•«çš„è¡¨ç¾åŠ›ã€‚

## å¯¦æˆ°ç·´ç¿’

### ç·´ç¿’ 1ï¼šæ‰‹é¢¨ç´å±•é–‹ï¼ˆç°¡å–®ï¼‰â­
> å¾ `height: 0` éæ¸¡åˆ° `auto`ã€‚

:::details ğŸ’¡ åƒè€ƒç­”æ¡ˆ
```css
:root { interpolate-size: allow-keywords; }
.accordion {
   height: 0;
   overflow: hidden;
   transition: height .4s ease;
}
.accordion.open { height: auto; }
```
:::

### ç·´ç¿’ 2ï¼šå¡ç‰‡å‹•æ…‹å…§å®¹ï¼ˆç°¡å–®ï¼‰â­
> hover æ™‚å¡ç‰‡è‡ªå‹•æ’é«˜é¡¯ç¤ºæ›´å¤šæ–‡å­—ã€‚

:::details ğŸ’¡ åƒè€ƒç­”æ¡ˆ
```css
:root { interpolate-size: allow-keywords; }
.card {
   height: 160px;
   transition: height .3s ease;
}
.card:hover { height: auto; }
```
:::

### ç·´ç¿’ 3ï¼šè‡ªé©æ‡‰è¡¨å–®ï¼ˆä¸­ç­‰ï¼‰â­â­
> è¡¨å–®å±•é–‹æ›´å¤šæ¬„ä½æ™‚ï¼Œå®¹å™¨é«˜åº¦å¹³æ»‘è®ŠåŒ–ã€‚

:::details ğŸ’¡ åƒè€ƒç­”æ¡ˆèˆ‡æç¤º
```css
:root { interpolate-size: allow-keywords; }
.form {
   height: 200px;
   transition: height .35s ease;
}
.form.expanded { height: auto; }
```
**æç¤º**ï¼šæ­é… JS åˆ‡æ› `.expanded` classã€‚
:::

## FAQ
- Q: å…¼å®¹æ€§å¦‚ä½•ï¼Ÿ
   - A: ä»æ˜¯å¯¦é©—æ€§ï¼Œéœ€æª¢æŸ¥ Chrome/Safari/Firefox ç‰ˆæœ¬ï¼›å¯åŠ  `@supports (interpolate-size: allow-keywords)` fallbackã€‚
- Q: å…©å€‹ auto ä¹‹é–“èƒ½æ’å€¼å—ï¼Ÿ
   - A: ä¸è¡Œï¼Œå¿…é ˆåœ¨å›ºå®šå€¼èˆ‡ auto é–“éæ¸¡ã€‚
- Q: å¯å¦åªå¥—ç”¨åœ¨ç‰¹å®šå®¹å™¨ï¼Ÿ
   - A: å¯ä»¥ï¼Œå±¬æ€§å¯ç¹¼æ‰¿ï¼›åœ¨å®¹å™¨ä¸Šè¨­ç½®åªå½±éŸ¿å­å…ƒç´ ã€‚